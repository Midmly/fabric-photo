(function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="https://ximing.github.io/fabric-photo/",n(n.s=1)})({"+2a4":function(t,e,n){"use strict";var r=n("MMxC"),i=n("Zcjx"),o=n("f1E4"),a=n("7BAe"),s=n("jbR1"),c=n("IuhT");r({target:"Set",proto:!0,real:!0,forced:i},{some:function(t){var e=o(this),n=s(e),r=a(t,arguments.length>1?arguments[1]:void 0,3);return c(n,(function(t){if(r(t,t,e))return c.stop()}),void 0,!1,!0).stopped}})},"+4le":function(t,e,n){n("UXQe")},"+GPJ":function(t,e,n){"use strict";var r=n("MMxC"),i=n("Zcjx"),o=n("29mP"),a=n("f1E4"),s=n("cT1L"),c=n("/dTS"),l=n("IuhT");r({target:"Set",proto:!0,real:!0,forced:i},{intersection:function(t){var e=a(this),n=new(c(e,o("Set"))),r=s(e.has),i=s(n.add);return l(t,(function(t){r.call(e,t)&&i.call(n,t)})),n}})},"+Hw1":function(t,e,n){var r=n("MMxC");r({target:"Math",stat:!0},{iaddh:function(t,e,n,r){var i=t>>>0,o=e>>>0,a=n>>>0;return o+(r>>>0)+((i&a|(i|a)&~(i+a>>>0))>>>31)|0}})},"+SQA":function(t,e,n){"use strict";var r=n("cT1L"),i=n("tSXo"),o=[].slice,a={},s=function(t,e,n){if(!(e in a)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";a[e]=Function("C,a","return new C("+r.join(",")+")")}return a[e](t,n)};t.exports=Function.bind||function(t){var e=r(this),n=o.call(arguments,1),a=function(){var r=n.concat(o.call(arguments));return this instanceof a?s(e,r.length,r):e.apply(t,r)};return i(e.prototype)&&(a.prototype=e.prototype),a}},"+X1D":function(t,e,n){"use strict";var r=n("f1E4"),i=n("cT1L");t.exports=function(){for(var t,e=r(this),n=i(e["delete"]),o=!0,a=0,s=arguments.length;a<s;a++)t=n.call(e,arguments[a]),o=o&&t;return!!o}},"+l9e":function(t,e,n){"use strict";var r=n("MMxC"),i=n("zv1X").map,o=n("jMDO"),a=n("kGMc"),s=o("map"),c=a("map");r({target:"Array",proto:!0,forced:!s||!c},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},"+qE3":function(t,e,n){"use strict";var r,i="object"===typeof Reflect?Reflect:null,o=i&&"function"===typeof i.apply?i.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};function a(t){console&&console.warn&&console.warn(t)}r=i&&"function"===typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var s=Number.isNaN||function(t){return t!==t};function c(){c.init.call(this)}t.exports=c,t.exports.once=w,c.EventEmitter=c,c.prototype._events=void 0,c.prototype._eventsCount=0,c.prototype._maxListeners=void 0;var l=10;function u(t){if("function"!==typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function h(t){return void 0===t._maxListeners?c.defaultMaxListeners:t._maxListeners}function f(t,e,n,r){var i,o,s;if(u(n),o=t._events,void 0===o?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),s=o[e]),void 0===s)s=o[e]=n,++t._eventsCount;else if("function"===typeof s?s=o[e]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),i=h(t),i>0&&s.length>i&&!s.warned){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=t,c.type=e,c.count=s.length,a(c)}return t}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=d.bind(r);return i.listener=n,r.wrapFn=i,i}function g(t,e,n){var r=t._events;if(void 0===r)return[];var i=r[e];return void 0===i?[]:"function"===typeof i?n?[i.listener||i]:[i]:n?y(i):v(i,i.length)}function m(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function v(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function b(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function y(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function w(t,e){return new Promise((function(n,r){function i(){void 0!==o&&t.removeListener("error",o),n([].slice.call(arguments))}var o;"error"!==e&&(o=function(n){t.removeListener(e,i),r(n)},t.once("error",o)),t.once(e,i)}))}Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(t){if("number"!==typeof t||t<0||s(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");l=t}}),c.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},c.prototype.setMaxListeners=function(t){if("number"!==typeof t||t<0||s(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},c.prototype.getMaxListeners=function(){return h(this)},c.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r="error"===t,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var a;if(e.length>0&&(a=e[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var c=i[t];if(void 0===c)return!1;if("function"===typeof c)o(c,this,e);else{var l=c.length,u=v(c,l);for(n=0;n<l;++n)o(u[n],this,e)}return!0},c.prototype.addListener=function(t,e){return f(this,t,e,!1)},c.prototype.on=c.prototype.addListener,c.prototype.prependListener=function(t,e){return f(this,t,e,!0)},c.prototype.once=function(t,e){return u(e),this.on(t,p(this,t,e)),this},c.prototype.prependOnceListener=function(t,e){return u(e),this.prependListener(t,p(this,t,e)),this},c.prototype.removeListener=function(t,e){var n,r,i,o,a;if(u(e),r=this._events,void 0===r)return this;if(n=r[t],void 0===n)return this;if(n===e||n.listener===e)0===--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!==typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():b(n,i),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,a||e)}return this},c.prototype.off=c.prototype.removeListener,c.prototype.removeAllListeners=function(t){var e,n,r;if(n=this._events,void 0===n)return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)i=o[r],"removeListener"!==i&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(e=n[t],"function"===typeof e)this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},c.prototype.listeners=function(t){return g(this,t,!0)},c.prototype.rawListeners=function(t){return g(this,t,!1)},c.listenerCount=function(t,e){return"function"===typeof t.listenerCount?t.listenerCount(e):m.call(t,e)},c.prototype.listenerCount=m,c.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},"+rjg":function(t,e,n){"use strict";var r=n("m0kY"),i=n("FCfD");t.exports="".repeat||function(t){var e=String(i(this)),n="",o=r(t);if(o<0||o==1/0)throw RangeError("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(n+=e);return n}},"+u1y":function(t,e,n){"use strict";var r=n("tny8"),i=n("eNh0"),o=n("cTDu"),a=n("oa35"),s=n("YfKC").f;r&&!("lastIndex"in[])&&(s(Array.prototype,"lastIndex",{configurable:!0,get:function(){var t=o(this),e=a(t.length);return 0==e?0:e-1}}),i("lastIndex"))},"+vfm":function(t,e,n){var r=n("tSXo"),i=n("g1ZG");t.exports=function(t,e,n){var o,a;return i&&"function"==typeof(o=e.constructor)&&o!==n&&r(a=o.prototype)&&a!==n.prototype&&i(t,a),t}},"+wdc":function(t,e,n){"use strict";var r,i,o,a,s;if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,u=function t(){if(null!==c)try{var n=e.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(t,0),r}},h=Date.now();e.unstable_now=function(){return Date.now()-h},r=function(t){null!==c?setTimeout(r,0,t):(c=t,setTimeout(u,0))},i=function(t,e){l=setTimeout(t,e)},o=function(){clearTimeout(l)},a=function(){return!1},s=e.unstable_forceFrameRate=function(){}}else{var f=window.performance,d=window.Date,p=window.setTimeout,g=window.clearTimeout;if("undefined"!==typeof console){var m=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof f&&"function"===typeof f.now)e.unstable_now=function(){return f.now()};else{var v=d.now();e.unstable_now=function(){return d.now()-v}}var b=!1,y=null,w=-1,_=5,x=0;a=function(){return e.unstable_now()>=x},s=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):_=0<t?Math.floor(1e3/t):5};var S=new MessageChannel,C=S.port2;S.port1.onmessage=function(){if(null!==y){var t=e.unstable_now();x=t+_;try{y(!0,t)?C.postMessage(null):(b=!1,y=null)}catch(n){throw C.postMessage(null),n}}else b=!1},r=function(t){y=t,b||(b=!0,C.postMessage(null))},i=function(t,n){w=p((function(){t(e.unstable_now())}),n)},o=function(){g(w),w=-1}}function E(t,e){var n=t.length;t.push(e);t:for(;;){var r=n-1>>>1,i=t[r];if(!(void 0!==i&&0<T(i,e)))break t;t[r]=e,t[n]=i,n=r}}function O(t){return t=t[0],void 0===t?null:t}function k(t){var e=t[0];if(void 0!==e){var n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,i=t.length;r<i;){var o=2*(r+1)-1,a=t[o],s=o+1,c=t[s];if(void 0!==a&&0>T(a,n))void 0!==c&&0>T(c,a)?(t[r]=c,t[s]=n,r=s):(t[r]=a,t[o]=n,r=o);else{if(!(void 0!==c&&0>T(c,n)))break t;t[r]=c,t[s]=n,r=s}}}return e}return null}function T(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}var j=[],M=[],A=1,P=null,I=3,R=!1,D=!1,L=!1;function N(t){for(var e=O(M);null!==e;){if(null===e.callback)k(M);else{if(!(e.startTime<=t))break;k(M),e.sortIndex=e.expirationTime,E(j,e)}e=O(M)}}function F(t){if(L=!1,N(t),!D)if(null!==O(j))D=!0,r(B);else{var e=O(M);null!==e&&i(F,e.startTime-t)}}function B(t,n){D=!1,L&&(L=!1,o()),R=!0;var r=I;try{for(N(n),P=O(j);null!==P&&(!(P.expirationTime>n)||t&&!a());){var s=P.callback;if(null!==s){P.callback=null,I=P.priorityLevel;var c=s(P.expirationTime<=n);n=e.unstable_now(),"function"===typeof c?P.callback=c:P===O(j)&&k(j),N(n)}else k(j);P=O(j)}if(null!==P)var l=!0;else{var u=O(M);null!==u&&i(F,u.startTime-n),l=!1}return l}finally{P=null,I=r,R=!1}}function U(t){switch(t){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var W=s;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){D||R||(D=!0,r(B))},e.unstable_getCurrentPriorityLevel=function(){return I},e.unstable_getFirstCallbackNode=function(){return O(j)},e.unstable_next=function(t){switch(I){case 1:case 2:case 3:var e=3;break;default:e=I}var n=I;I=e;try{return t()}finally{I=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=W,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=I;I=t;try{return e()}finally{I=n}},e.unstable_scheduleCallback=function(t,n,a){var s=e.unstable_now();if("object"===typeof a&&null!==a){var c=a.delay;c="number"===typeof c&&0<c?s+c:s,a="number"===typeof a.timeout?a.timeout:U(t)}else a=U(t),c=s;return a=c+a,t={id:A++,callback:n,priorityLevel:t,startTime:c,expirationTime:a,sortIndex:-1},c>s?(t.sortIndex=c,E(M,t),null===O(j)&&t===O(M)&&(L?o():L=!0,i(F,c-s))):(t.sortIndex=a,E(j,t),D||R||(D=!0,r(B))),t},e.unstable_shouldYield=function(){var t=e.unstable_now();N(t);var n=O(j);return n!==P&&null!==P&&null!==n&&null!==n.callback&&n.startTime<=t&&n.expirationTime<P.expirationTime||a()},e.unstable_wrapCallback=function(t){var e=I;return function(){var n=I;I=e;try{return t.apply(this,arguments)}finally{I=n}}}},"/0sN":function(t,e,n){"use strict";var r=n("MMxC"),i=n("Zcjx"),o=n("f1E4"),a=n("PPXv"),s=n("IuhT");r({target:"Map",proto:!0,real:!0,forced:i},{keyOf:function(t){return s(a(o(this)),(function(e,n){if(n===t)return s.stop(e)}),void 0,!0,!0).result}})},"/3zY":function(t,e,n){var r=n("0qr0"),i=n("oa35"),o=n("bIKR"),a=function(t){return function(e,n,a){var s,c=r(e),l=i(c.length),u=o(a,l);if(t&&n!=n){while(l>u)if(s=c[u++],s!=s)return!0}else for(;l>u;u++)if((t||u in c)&&c[u]===n)return t||u||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},"/R3g":function(t,e,n){var r=n("MMxC"),i=n("zTPR"),o=n("ls1J"),a=n("f1E4"),s=n("Acmb"),c=n("IuhT"),l=o.keys,u=o.toKey,h=function(t){var e=[];return c(t,e.push,e),e},f=function(t,e){var n=l(t,e),r=s(t);if(null===r)return n;var o=f(r,e);return o.length?n.length?h(new i(n.concat(o))):o:n};r({target:"Reflect",stat:!0},{getMetadataKeys:function(t){var e=arguments.length<2?void 0:u(arguments[1]);return f(a(t),e)}})},"/dTS":function(t,e,n){var r=n("f1E4"),i=n("cT1L"),o=n("2kyd"),a=o("species");t.exports=function(t,e){var n,o=r(t).constructor;return void 0===o||void 0==(n=r(o)[a])?e:i(n)}},"/gva":function(t,e,n){"use strict";var r=n("MMxC"),i=n("ukPv"),o=n("kkxG"),a=n("NMFW"),s=n("a5mf"),c=n("IuhT"),l=n("igoe"),u=n("tSXo"),h=n("MVys"),f=n("GPrf"),d=n("kiNa"),p=n("+vfm");t.exports=function(t,e,n){var g=-1!==t.indexOf("Map"),m=-1!==t.indexOf("Weak"),v=g?"set":"add",b=i[t],y=b&&b.prototype,w=b,_={},x=function(t){var e=y[t];a(y,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(m&&!u(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return m&&!u(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(m&&!u(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})};if(o(t,"function"!=typeof b||!(m||y.forEach&&!h((function(){(new b).entries().next()})))))w=n.getConstructor(e,t,g,v),s.REQUIRED=!0;else if(o(t,!0)){var S=new w,C=S[v](m?{}:-0,1)!=S,E=h((function(){S.has(1)})),O=f((function(t){new b(t)})),k=!m&&h((function(){var t=new b,e=5;while(e--)t[v](e,e);return!t.has(-0)}));O||(w=e((function(e,n){l(e,w,t);var r=p(new b,e,w);return void 0!=n&&c(n,r[v],r,g),r})),w.prototype=y,y.constructor=w),(E||k)&&(x("delete"),x("has"),g&&x("get")),(k||C)&&x(v),m&&y.clear&&delete y.clear}return _[t]=w,r({global:!0,forced:w!=b},_),d(w,t),m||n.setStrong(w,t,g),w}},"/mKc":function(t,e,n){"use strict";var r=n("MMxC"),i=n("Zcjx"),o=n("29mP"),a=n("f1E4"),s=n("cT1L"),c=n("7BAe"),l=n("/dTS"),u=n("jbR1"),h=n("IuhT");r({target:"Set",proto:!0,real:!0,forced:i},{filter:function(t){var e=a(this),n=u(e),r=c(t,arguments.length>1?arguments[1]:void 0,3),i=new(l(e,o("Set"))),f=s(i.add);return h(n,(function(t){r(t,t,e)&&f.call(i,t)}),void 0,!1,!0),i}})},"/vMi":function(t,e,n){"use strict";var r=n("/gva"),i=n("uz3g");r("WeakSet",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),i)},"/yC2":function(t,e,n){var r=n("tny8"),i=n("MVys"),o=n("8w+9");t.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},0:function(t,e){},"0O5u":function(t,e,n){"use strict";var r=n("MMxC"),i=n("MVys"),o=n("Un+d"),a=n("tSXo"),s=n("cTDu"),c=n("oa35"),l=n("arQb"),u=n("nMuc"),h=n("jMDO"),f=n("2kyd"),d=n("hRxt"),p=f("isConcatSpreadable"),g=9007199254740991,m="Maximum allowed index exceeded",v=d>=51||!i((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),b=h("concat"),y=function(t){if(!a(t))return!1;var e=t[p];return void 0!==e?!!e:o(t)},w=!v||!b;r({target:"Array",proto:!0,forced:w},{concat:function(t){var e,n,r,i,o,a=s(this),h=u(a,0),f=0;for(e=-1,r=arguments.length;e<r;e++)if(o=-1===e?a:arguments[e],y(o)){if(i=c(o.length),f+i>g)throw TypeError(m);for(n=0;n<i;n++,f++)n in o&&l(h,f,o[n])}else{if(f>=g)throw TypeError(m);l(h,f++,o)}return h.length=f,h}})},"0pSW":function(t,e,n){var r=n("MMxC"),i=n("ls1J"),o=n("f1E4"),a=i.get,s=i.toKey;r({target:"Reflect",stat:!0},{getOwnMetadata:function(t,e){var n=arguments.length<3?void 0:s(arguments[2]);return a(t,o(e),n)}})},"0qr0":function(t,e,n){var r=n("EzR6"),i=n("FCfD");t.exports=function(t){return r(i(t))}},"0zqC":function(t,e,n){"use strict";n.r(e);var r=n("ODXe"),i=n("q1tI"),o=n.n(i),a=n("wx14");function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c=n("U8pU"),l=n("Ff2n");function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var f=n("TSYQ"),d=n.n(f),p=n("TOwV");function g(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];return o.a.Children.forEach(t,(function(t){(void 0!==t&&null!==t||e.keepEmpty)&&(Array.isArray(t)?n=n.concat(g(t)):Object(p["isFragment"])(t)&&t.props?n=n.concat(g(t.props.children,e)):n.push(t))})),n}var m=function(){if("undefined"===typeof navigator||"undefined"===typeof window)return!1;var t=navigator.userAgent||navigator.vendor||window.opera;return!(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(t.substr(0,4)))};function v(t,e){var n=e||{},o=n.defaultValue,a=n.value,s=n.onChange,c=n.postState,l=i["useState"]((function(){return void 0!==a?a:void 0!==o?"function"===typeof o?o():o:"function"===typeof t?t():t})),u=Object(r["a"])(l,2),h=u[0],f=u[1],d=void 0!==a?a:h;function p(t){f(t),d!==t&&s&&s(t,d)}c&&(d=c(d));var g=i["useRef"](!0);return i["useEffect"]((function(){g.current?g.current=!1:void 0===a&&f(a)}),[a]),[d,p]}var b=n("a3WO");function y(t){if(Array.isArray(t))return Object(b["a"])(t)}function w(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}var _=n("BsWD");function x(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function S(t){return y(t)||w(t)||Object(_["a"])(t)||x()}var C=function(t){return+setTimeout(t,16)},E=function(t){return clearTimeout(t)};function O(t){return C(t)}"undefined"!==typeof window&&"requestAnimationFrame"in window&&(C=function(t){return window.requestAnimationFrame(t)},E=function(t){return window.cancelAnimationFrame(t)}),O.cancel=E;var k=n("1OyB"),T=n("vuIU"),j=n("Ji7U"),M=n("LK+K"),A=n("i8i4"),P=n.n(A);function I(t){return t instanceof HTMLElement?t:P.a.findDOMNode(t)}var R={};function D(t,e){0}function L(t,e,n){e||R[n]||(t(!1,n),R[n]=!0)}function N(t,e){L(D,t,e)}var F=N;function B(t,e){"function"===typeof t?t(e):"object"===Object(c["a"])(t)&&t&&"current"in t&&(t.current=e)}function U(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){e.forEach((function(e){B(e,t)}))}}function W(t){var e,n,r=Object(p["isMemo"])(t)?t.type.type:t.type;return!("function"===typeof r&&!(null===(e=r.prototype)||void 0===e?void 0:e.render))&&!("function"===typeof t&&!(null===(n=t.prototype)||void 0===n?void 0:n.render))}var z=n("bdgK"),H="rc-observer-key",Y=function(t){Object(j["default"])(n,t);var e=Object(M["default"])(n);function n(){var t;return Object(k["default"])(this,n),t=e.apply(this,arguments),t.resizeObserver=null,t.childNode=null,t.currentElement=null,t.state={width:0,height:0,offsetHeight:0,offsetWidth:0},t.onResize=function(e){var n=t.props.onResize,r=e[0].target,i=r.getBoundingClientRect(),o=i.width,a=i.height,s=r.offsetWidth,c=r.offsetHeight,l=Math.floor(o),u=Math.floor(a);if(t.state.width!==l||t.state.height!==u||t.state.offsetWidth!==s||t.state.offsetHeight!==c){var f={width:l,height:u,offsetWidth:s,offsetHeight:c};t.setState(f),n&&Promise.resolve().then((function(){n(h(h({},f),{},{offsetWidth:s,offsetHeight:c}),r)}))}},t.setChildNode=function(e){t.childNode=e},t}return Object(T["default"])(n,[{key:"componentDidMount",value:function(){this.onComponentUpdated()}},{key:"componentDidUpdate",value:function(){this.onComponentUpdated()}},{key:"componentWillUnmount",value:function(){this.destroyObserver()}},{key:"onComponentUpdated",value:function(){var t=this.props.disabled;if(t)this.destroyObserver();else{var e=I(this.childNode||this),n=e!==this.currentElement;n&&(this.destroyObserver(),this.currentElement=e),!this.resizeObserver&&e&&(this.resizeObserver=new z["a"](this.onResize),this.resizeObserver.observe(e))}}},{key:"destroyObserver",value:function(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null)}},{key:"render",value:function(){var t=this.props.children,e=g(t);if(e.length>1)F(!1,"Find more than one child node with `children` in ResizeObserver. Will only observe first one.");else if(0===e.length)return F(!1,"`children` of ResizeObserver is empty. Nothing is in observe."),null;var n=e[0];if(i["isValidElement"](n)&&W(n)){var r=n.ref;e[0]=i["cloneElement"](n,{ref:U(r,this.setChildNode)})}return 1===e.length?e[0]:e.map((function(t,e){return!i["isValidElement"](t)||"key"in t&&null!==t.key?t:i["cloneElement"](t,{key:"".concat(H,"-").concat(e)})}))}}]),n}(i["Component"]);Y.displayName="ResizeObserver";var G=Y;function X(t){var e=Object(i["useRef"])(),n=Object(i["useRef"])(!1);function r(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];n.current||(O.cancel(e.current),e.current=O((function(){t.apply(void 0,i)})))}return Object(i["useEffect"])((function(){return function(){n.current=!0,O.cancel(e.current)}}),[]),r}function V(t){var e=Object(i["useRef"])([]),n=Object(i["useState"])({}),o=Object(r["a"])(n,2),a=o[1],s=Object(i["useRef"])("function"===typeof t?t():t),c=X((function(){var t=s.current;e.current.forEach((function(e){t=e(t)})),e.current=[],s.current=t,a({})}));function l(t){e.current.push(t),c()}return[s.current,l]}var K={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(t){var e=t.keyCode;if(t.altKey&&!t.ctrlKey||t.metaKey||e>=K.F1&&e<=K.F12)return!1;switch(e){case K.ALT:case K.CAPS_LOCK:case K.CONTEXT_MENU:case K.CTRL:case K.DOWN:case K.END:case K.ESC:case K.HOME:case K.INSERT:case K.LEFT:case K.MAC_FF_META:case K.META:case K.NUMLOCK:case K.NUM_CENTER:case K.PAGE_DOWN:case K.PAGE_UP:case K.PAUSE:case K.PRINT_SCREEN:case K.RIGHT:case K.SHIFT:case K.UP:case K.WIN_KEY:case K.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(t){if(t>=K.ZERO&&t<=K.NINE)return!0;if(t>=K.NUM_ZERO&&t<=K.NUM_MULTIPLY)return!0;if(t>=K.A&&t<=K.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===t)return!0;switch(t){case K.SPACE:case K.QUESTION_MARK:case K.NUM_PLUS:case K.NUM_MINUS:case K.NUM_PERIOD:case K.NUM_DIVISION:case K.SEMICOLON:case K.DASH:case K.EQUALS:case K.COMMA:case K.PERIOD:case K.SLASH:case K.APOSTROPHE:case K.SINGLE_QUOTE:case K.OPEN_SQUARE_BRACKET:case K.BACKSLASH:case K.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},$=K;function q(t,e){var n,r=t.prefixCls,o=t.id,a=t.active,c=t.rtl,l=t.tab,u=l.key,h=l.tab,f=l.disabled,p=l.closeIcon,g=t.tabBarGutter,m=t.tabPosition,v=t.closable,b=t.renderWrapper,y=t.removeAriaLabel,w=t.editable,_=t.onClick,x=t.onRemove,S=t.onFocus,C="".concat(r,"-tab");i["useEffect"]((function(){return x}),[]);var E={};"top"===m||"bottom"===m?E[c?"marginLeft":"marginRight"]=g:E.marginBottom=g;var O=w&&!1!==v&&!f;function k(t){f||_(t)}function T(t){t.preventDefault(),t.stopPropagation(),w.onEdit("remove",{key:u,event:t})}var j=i["createElement"]("div",{key:u,ref:e,className:d()(C,(n={},s(n,"".concat(C,"-with-remove"),O),s(n,"".concat(C,"-active"),a),s(n,"".concat(C,"-disabled"),f),n)),style:E,onClick:k},i["createElement"]("div",{role:"tab","aria-selected":a,id:o&&"".concat(o,"-tab-").concat(u),className:"".concat(C,"-btn"),"aria-controls":o&&"".concat(o,"-panel-").concat(u),"aria-disabled":f,tabIndex:f?null:0,onClick:function(t){t.stopPropagation(),k(t)},onKeyDown:function(t){[$.SPACE,$.ENTER].includes(t.which)&&(t.preventDefault(),k(t))},onFocus:S},h),O&&i["createElement"]("button",{type:"button","aria-label":y||"remove",tabIndex:0,className:"".concat(C,"-remove"),onClick:function(t){t.stopPropagation(),T(t)}},p||w.removeIcon||"\xd7"));return b&&(j=b(j)),j}var Z=i["forwardRef"](q),J={width:0,height:0,left:0,top:0};function Q(t,e,n){return Object(i["useMemo"])((function(){for(var n,r=new Map,i=e.get(null===(n=t[0])||void 0===n?void 0:n.key)||J,o=i.left+i.width,a=0;a<t.length;a+=1){var s,c=t[a].key,l=e.get(c);if(!l)l=e.get(null===(s=t[a-1])||void 0===s?void 0:s.key)||J;var u=r.get(c)||h({},l);u.right=o-u.left-u.width,r.set(c,u)}return r}),[t.map((function(t){return t.key})).join("_"),e,n])}var tt={width:0,height:0,left:0,top:0,right:0};function et(t,e,n,r,o){var a,s,c,l=o.tabs,u=o.tabPosition,h=o.rtl;["top","bottom"].includes(u)?(a="width",s=h?"right":"left",c=Math.abs(e.left)):(a="height",s="top",c=-e.top);var f=e[a],d=n[a],p=r[a],g=f;return d+p>f&&(g=f-p),Object(i["useMemo"])((function(){if(!l.length)return[0,0];for(var e=l.length,n=e,r=0;r<e;r+=1){var i=t.get(l[r].key)||tt;if(i[s]+i[a]>c+g){n=r-1;break}}for(var o=0,u=e-1;u>=0;u-=1){var h=t.get(l[u].key)||tt;if(h[s]<c){o=u+1;break}}return[o,n]}),[t,c,g,u,l.map((function(t){return t.key})).join("_"),h])}var nt=n("JX7q"),rt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),it=i["createContext"](null),ot=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return rt(e,t),e.prototype.render=function(){return i["createElement"](it.Provider,{value:this.props.store},this.props.children)},e}(i["Component"]),at=n("Gytx"),st=n.n(at),ct=n("2mql"),lt=n.n(ct),ut=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ht=function(){return ht=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},ht.apply(this,arguments)};function ft(t){return t.displayName||t.name||"Component"}var dt=function(){return{}};function pt(t,e){void 0===e&&(e={});var n=!!t,r=t||dt;return function(o){var a=function(e){function a(t,n){var i=e.call(this,t,n)||this;return i.unsubscribe=null,i.handleChange=function(){if(i.unsubscribe){var t=r(i.store.getState(),i.props);i.setState({subscribed:t})}},i.store=i.context,i.state={subscribed:r(i.store.getState(),t),store:i.store,props:t},i}return ut(a,e),a.getDerivedStateFromProps=function(e,n){return t&&2===t.length&&e!==n.props?{subscribed:r(n.store.getState(),e),props:e}:{props:e}},a.prototype.componentDidMount=function(){this.trySubscribe()},a.prototype.componentWillUnmount=function(){this.tryUnsubscribe()},a.prototype.shouldComponentUpdate=function(t,e){return!st()(this.props,t)||!st()(this.state.subscribed,e.subscribed)},a.prototype.trySubscribe=function(){n&&(this.unsubscribe=this.store.subscribe(this.handleChange),this.handleChange())},a.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null)},a.prototype.render=function(){var t=ht(ht(ht({},this.props),this.state.subscribed),{store:this.store});return i["createElement"](o,ht({},t,{ref:this.props.miniStoreForwardedRef}))},a.displayName="Connect("+ft(o)+")",a.contextType=it,a}(i["Component"]);if(e.forwardRef){var s=i["forwardRef"]((function(t,e){return i["createElement"](a,ht({},t,{miniStoreForwardedRef:e}))}));return lt()(s,o)}return lt()(a,o)}}var gt=function(){return gt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},gt.apply(this,arguments)};function mt(t){var e=t,n=[];function r(t){e=gt(gt({},e),t);for(var r=0;r<n.length;r++)n[r]()}function i(){return e}function o(t){return n.push(t),function(){var e=n.indexOf(t);n.splice(e,1)}}return{setState:r,getState:i,subscribe:o}}function vt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function bt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?vt(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function yt(t,e){var n=bt({},t);return Array.isArray(e)&&e.forEach((function(t){delete n[t]})),n}function wt(){var t=[].slice.call(arguments,0);return 1===t.length?t[0]:function(){for(var e=0;e<t.length;e++)t[e]&&t[e].apply&&t[e].apply(this,arguments)}}var _t=/iPhone/i,xt=/iPod/i,St=/iPad/i,Ct=/\bAndroid(?:.+)Mobile\b/i,Et=/Android/i,Ot=/\bAndroid(?:.+)SD4930UR\b/i,kt=/\bAndroid(?:.+)(?:KF[A-Z]{2,4})\b/i,Tt=/Windows Phone/i,jt=/\bWindows(?:.+)ARM\b/i,Mt=/BlackBerry/i,At=/BB10/i,Pt=/Opera Mini/i,It=/\b(CriOS|Chrome)(?:.+)Mobile/i,Rt=/Mobile(?:.+)Firefox\b/i;function Dt(t,e){return t.test(e)}function Lt(t){var e=t||("undefined"!==typeof navigator?navigator.userAgent:""),n=e.split("[FBAN");if("undefined"!==typeof n[1]){var i=n,o=Object(r["a"])(i,1);e=o[0]}if(n=e.split("Twitter"),"undefined"!==typeof n[1]){var a=n,s=Object(r["a"])(a,1);e=s[0]}var c={apple:{phone:Dt(_t,e)&&!Dt(Tt,e),ipod:Dt(xt,e),tablet:!Dt(_t,e)&&Dt(St,e)&&!Dt(Tt,e),device:(Dt(_t,e)||Dt(xt,e)||Dt(St,e))&&!Dt(Tt,e)},amazon:{phone:Dt(Ot,e),tablet:!Dt(Ot,e)&&Dt(kt,e),device:Dt(Ot,e)||Dt(kt,e)},android:{phone:!Dt(Tt,e)&&Dt(Ot,e)||!Dt(Tt,e)&&Dt(Ct,e),tablet:!Dt(Tt,e)&&!Dt(Ot,e)&&!Dt(Ct,e)&&(Dt(kt,e)||Dt(Et,e)),device:!Dt(Tt,e)&&(Dt(Ot,e)||Dt(kt,e)||Dt(Ct,e)||Dt(Et,e))||Dt(/\bokhttp\b/i,e)},windows:{phone:Dt(Tt,e),tablet:Dt(jt,e),device:Dt(Tt,e)||Dt(jt,e)},other:{blackberry:Dt(Mt,e),blackberry10:Dt(At,e),opera:Dt(Pt,e),firefox:Dt(Rt,e),chrome:Dt(It,e),device:Dt(Mt,e)||Dt(At,e)||Dt(Pt,e)||Dt(Rt,e)||Dt(It,e)},any:null,phone:null,tablet:null};return c.any=c.apple.device||c.android.device||c.windows.device||c.other.device,c.phone=c.apple.phone||c.android.phone||c.windows.phone,c.tablet=c.apple.tablet||c.android.tablet||c.windows.tablet,c}var Nt=h(h({},Lt()),{},{isMobile:Lt}),Ft=Nt;function Bt(){}function Ut(t,e,n){var r=e||"";return t.key||"".concat(r,"item_").concat(n)}function Wt(t){return"".concat(t,"-menu-")}function zt(t,e){var n=-1;i["Children"].forEach(t,(function(t){n+=1,t&&t.type&&t.type.isMenuItemGroup?i["Children"].forEach(t.props.children,(function(t){n+=1,e(t,n)})):e(t,n)}))}function Ht(t,e,n){t&&!n.find&&i["Children"].forEach(t,(function(t){if(t){var r=t.type;if(!r||!(r.isSubMenu||r.isMenuItem||r.isMenuItemGroup))return;-1!==e.indexOf(t.key)?n.find=!0:t.props.children&&Ht(t.props.children,e,n)}}))}var Yt=["defaultSelectedKeys","selectedKeys","defaultOpenKeys","openKeys","mode","getPopupContainer","onSelect","onDeselect","onDestroy","openTransitionName","openAnimation","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","triggerSubMenuAction","level","selectable","multiple","onOpenChange","visible","focusable","defaultActiveFirst","prefixCls","inlineIndent","parentMenu","title","rootPrefixCls","eventKey","active","onItemHover","onTitleMouseEnter","onTitleMouseLeave","onTitleClick","popupAlign","popupOffset","isOpen","renderMenuItem","manualRef","subMenuKey","disabled","index","isSelected","store","activeKey","builtinPlacements","overflowedIndicator","motion","attribute","value","popupClassName","inlineCollapsed","menu","theme","itemIcon","expandIcon"],Gt=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t&&"function"===typeof t.getBoundingClientRect&&t.getBoundingClientRect().width;if(n){if(e){var r=getComputedStyle(t),i=r.marginLeft,o=r.marginRight;n+=+i.replace("px","")+ +o.replace("px","")}n=+n.toFixed(6)}return n||0},Xt=function(t,e,n){t&&"object"===Object(c["a"])(t.style)&&(t.style[e]=n)},Vt=function(){return Ft.any};function Kt(t,e){return!!t&&t.contains(e)}function $t(t,e,n,r){var i=P.a.unstable_batchedUpdates?function(t){P.a.unstable_batchedUpdates(n,t)}:n;return t.addEventListener&&t.addEventListener(e,i,r),{remove:function(){t.removeEventListener&&t.removeEventListener(e,i)}}}function qt(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}var Zt=Object(i["forwardRef"])((function(t,e){var n=t.didUpdate,r=t.getContainer,o=t.children,a=Object(i["useRef"])();Object(i["useImperativeHandle"])(e,(function(){return{}}));var s=Object(i["useRef"])(!1);return!s.current&&qt()&&(a.current=r(),s.current=!0),Object(i["useEffect"])((function(){null===n||void 0===n||n(t)})),Object(i["useEffect"])((function(){return function(){var t,e;null===(t=a.current)||void 0===t||null===(e=t.parentNode)||void 0===e||e.removeChild(a.current)}}),[]),a.current?P.a.createPortal(o,a.current):null})),Jt=Zt;function Qt(t,e,n){return n?t[0]===e[0]:t[0]===e[0]&&t[1]===e[1]}function te(t,e,n){var r=t[e]||{};return h(h({},r),n)}function ee(t,e,n,r){for(var i=n.points,o=Object.keys(t),a=0;a<o.length;a+=1){var s=o[a];if(Qt(t[s].points,i,r))return"".concat(e,"-placement-").concat(s)}return""}function ne(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit".concat(t)]="webkit".concat(e),n["Moz".concat(t)]="moz".concat(e),n["ms".concat(t)]="MS".concat(e),n["O".concat(t)]="o".concat(e.toLowerCase()),n}function re(t,e){var n={animationend:ne("Animation","AnimationEnd"),transitionend:ne("Transition","TransitionEnd")};return t&&("AnimationEvent"in e||delete n.animationend.animation,"TransitionEvent"in e||delete n.transitionend.transition),n}var ie=re(qt(),"undefined"!==typeof window?window:{}),oe={};if(qt()){var ae=document.createElement("div");oe=ae.style}var se={};function ce(t){if(se[t])return se[t];var e=ie[t];if(e)for(var n=Object.keys(e),r=n.length,i=0;i<r;i+=1){var o=n[i];if(Object.prototype.hasOwnProperty.call(e,o)&&o in oe)return se[t]=e[o],se[t]}return""}var le=ce("animationend"),ue=ce("transitionend"),he=!(!le||!ue),fe=le||"animationend",de=ue||"transitionend";function pe(t,e){if(!t)return null;if("object"===Object(c["a"])(t)){var n=e.replace(/-\w/g,(function(t){return t[1].toUpperCase()}));return t[n]}return"".concat(t,"-").concat(e)}var ge="none",me="appear",ve="enter",be="leave",ye="none",we="prepare",_e="start",xe="active",Se="end";function Ce(t){var e=Object(i["useRef"])(!1),n=Object(i["useState"])(t),o=Object(r["a"])(n,2),a=o[0],s=o[1];function c(t){e.current||s(t)}return Object(i["useEffect"])((function(){return function(){e.current=!0}}),[]),[a,c]}var Ee=qt()?i["useLayoutEffect"]:i["useEffect"],Oe=Ee,ke=function(){var t=i["useRef"](null);function e(){O.cancel(t.current)}function n(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;e();var o=O((function(){i<=1?r({isCanceled:function(){return o!==t.current}}):n(r,i-1)}));t.current=o}return i["useEffect"]((function(){return function(){e()}}),[]),[n,e]},Te=[we,_e,xe,Se],je=!1,Me=!0;function Ae(t){return t===xe||t===Se}var Pe=function(t,e){var n=i["useState"](ye),o=Object(r["a"])(n,2),a=o[0],s=o[1],c=ke(),l=Object(r["a"])(c,2),u=l[0],h=l[1];function f(){s(we)}return Oe((function(){if(a!==ye&&a!==Se){var t=Te.indexOf(a),n=Te[t+1],r=e(a);r===je?s(n):u((function(t){function e(){t.isCanceled()||s(n)}!0===r?e():Promise.resolve(r).then(e)}))}}),[t,a]),i["useEffect"]((function(){return function(){h()}}),[]),[f,a]},Ie=function(t){var e=Object(i["useRef"])(),n=Object(i["useRef"])(t);n.current=t;var r=i["useCallback"]((function(t){n.current(t)}),[]);function o(t){t&&(t.removeEventListener(de,r),t.removeEventListener(fe,r))}function a(t){e.current&&e.current!==t&&o(e.current),t&&t!==e.current&&(t.addEventListener(de,r),t.addEventListener(fe,r),e.current=t)}return i["useEffect"]((function(){return function(){o(e.current)}}),[]),[a,o]};function Re(t,e,n,o){var a=o.motionEnter,c=void 0===a||a,l=o.motionAppear,u=void 0===l||l,f=o.motionLeave,d=void 0===f||f,p=o.motionDeadline,g=o.motionLeaveImmediately,m=o.onAppearPrepare,v=o.onEnterPrepare,b=o.onLeavePrepare,y=o.onAppearStart,w=o.onEnterStart,_=o.onLeaveStart,x=o.onAppearActive,S=o.onEnterActive,C=o.onLeaveActive,E=o.onAppearEnd,O=o.onEnterEnd,k=o.onLeaveEnd,T=o.onVisibleChanged,j=Ce(),M=Object(r["a"])(j,2),A=M[0],P=M[1],I=Ce(ge),R=Object(r["a"])(I,2),D=R[0],L=R[1],N=Ce(null),F=Object(r["a"])(N,2),B=F[0],U=F[1],W=Object(i["useRef"])(!1),z=Object(i["useRef"])(null),H=Object(i["useRef"])(!1),Y=Object(i["useRef"])(null);function G(){var t=n();return t||Y.current}var X=Object(i["useRef"])(!1);function V(t){var e,n=G();t&&!t.deadline&&t.target!==n||(D===me&&X.current?e=null===E||void 0===E?void 0:E(n,t):D===ve&&X.current?e=null===O||void 0===O?void 0:O(n,t):D===be&&X.current&&(e=null===k||void 0===k?void 0:k(n,t)),!1===e||H.current||(L(ge),U(null)))}var K=Ie(V),$=Object(r["a"])(K,1),q=$[0],Z=i["useMemo"]((function(){var t,e,n;switch(D){case"appear":return t={},s(t,we,m),s(t,_e,y),s(t,xe,x),t;case"enter":return e={},s(e,we,v),s(e,_e,w),s(e,xe,S),e;case"leave":return n={},s(n,we,b),s(n,_e,_),s(n,xe,C),n;default:return{}}}),[D]),J=Pe(D,(function(t){if(t===we){var e=Z[we];return e?e(G()):je}var n;et in Z&&U((null===(n=Z[et])||void 0===n?void 0:n.call(Z,G(),null))||null);return et===xe&&(q(G()),p>0&&(clearTimeout(z.current),z.current=setTimeout((function(){V({deadline:!0})}),p))),Me})),Q=Object(r["a"])(J,2),tt=Q[0],et=Q[1],nt=Ae(et);X.current=nt,Oe((function(){if(P(e),t){var n,r=W.current;W.current=!0,!r&&e&&u&&(n=me),r&&e&&c&&(n=ve),(r&&!e&&d||!r&&g&&!e&&d)&&(n=be),n&&(L(n),tt())}}),[e]),Object(i["useEffect"])((function(){(D===me&&!u||D===ve&&!c||D===be&&!d)&&L(ge)}),[u,c,d]),Object(i["useEffect"])((function(){return function(){clearTimeout(z.current),H.current=!0}}),[]),Object(i["useEffect"])((function(){void 0!==A&&D===ge&&(null===T||void 0===T||T(A))}),[A,D]);var rt=B;return Z[we]&&et===_e&&(rt=h({transition:"none"},rt)),[D,et,rt,null!==A&&void 0!==A?A:e]}var De=function(t){Object(j["default"])(n,t);var e=Object(M["default"])(n);function n(){return Object(k["default"])(this,n),e.apply(this,arguments)}return Object(T["default"])(n,[{key:"render",value:function(){return this.props.children}}]),n}(i["Component"]),Le=De;function Ne(t){var e=t;function n(t){return!(!t.motionName||!e)}"object"===Object(c["a"])(t)&&(e=t.transitionSupport);var o=i["forwardRef"]((function(t,e){var o=t.visible,a=void 0===o||o,c=t.removeOnLeave,l=void 0===c||c,u=t.forceRender,f=t.children,p=t.motionName,g=t.leavedClassName,m=t.eventProps,v=n(t),b=Object(i["useRef"])(),y=Object(i["useRef"])();function w(){try{return I(b.current||y.current)}catch(t){return null}}var _=Re(v,a,w,t),x=Object(r["a"])(_,4),S=x[0],C=x[1],E=x[2],O=x[3],k=Object(i["useRef"])(e);k.current=e;var T,j=i["useCallback"]((function(t){b.current=t,B(k.current,t)}),[]),M=h(h({},m),{},{visible:a});if(f)if(S!==ge&&n(t)){var A,P;C===we?P="prepare":Ae(C)?P="active":C===_e&&(P="start"),T=f(h(h({},M),{},{className:d()(pe(p,S),(A={},s(A,pe(p,"".concat(S,"-").concat(P)),P),s(A,p,"string"===typeof p),A)),style:E}),j)}else T=O?f(h({},M),j):l?u?f(h(h({},M),{},{style:{display:"none"}}),j):null:f(h(h({},M),{},{className:g}),j);else T=null;return i["createElement"](Le,{ref:y},T)}));return o.displayName="CSSMotion",o}var Fe=Ne(he),Be="add",Ue="keep",We="remove",ze="removed";function He(t){var e;return e=t&&"object"===Object(c["a"])(t)&&"key"in t?t:{key:t},h(h({},e),{},{key:String(e.key)})}function Ye(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.map(He)}function Ge(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0,i=e.length,o=Ye(t),a=Ye(e);o.forEach((function(t){for(var e=!1,o=r;o<i;o+=1){var s=a[o];if(s.key===t.key){r<o&&(n=n.concat(a.slice(r,o).map((function(t){return h(h({},t),{},{status:Be})}))),r=o),n.push(h(h({},s),{},{status:Ue})),r+=1,e=!0;break}}e||n.push(h(h({},t),{},{status:We}))})),r<i&&(n=n.concat(a.slice(r).map((function(t){return h(h({},t),{},{status:Be})}))));var s={};n.forEach((function(t){var e=t.key;s[e]=(s[e]||0)+1}));var c=Object.keys(s).filter((function(t){return s[t]>1}));return c.forEach((function(t){n=n.filter((function(e){var n=e.key,r=e.status;return n!==t||r!==We})),n.forEach((function(e){e.key===t&&(e.status=Ue)}))})),n}var Xe=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function Ve(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Fe,n=function(t){Object(j["default"])(r,t);var n=Object(M["default"])(r);function r(){var t;return Object(k["default"])(this,r),t=n.apply(this,arguments),t.state={keyEntities:[]},t.removeKey=function(e){t.setState((function(t){var n=t.keyEntities;return{keyEntities:n.map((function(t){return t.key!==e?t:h(h({},t),{},{status:ze})}))}}))},t}return Object(T["default"])(r,[{key:"render",value:function(){var t=this,n=this.state.keyEntities,r=this.props,o=r.component,a=r.children,s=r.onVisibleChanged,c=Object(l["a"])(r,["component","children","onVisibleChanged"]),u=o||i["Fragment"],h={};return Xe.forEach((function(t){h[t]=c[t],delete c[t]})),delete c.keys,i["createElement"](u,Object.assign({},c),n.map((function(n){var r=n.status,o=Object(l["a"])(n,["status"]),c=r===Be||r===Ue;return i["createElement"](e,Object.assign({},h,{key:o.key,visible:c,eventProps:o,onVisibleChanged:function(e){null===s||void 0===s||s(e,{key:o.key}),e||t.removeKey(o.key)}}),a)})))}}],[{key:"getDerivedStateFromProps",value:function(t,e){var n=t.keys,r=e.keyEntities,i=Ye(n),o=Ge(r,i);return{keyEntities:o.filter((function(t){var e=r.find((function(e){var n=e.key;return t.key===n}));return!e||e.status!==ze||t.status!==We}))}}}]),r}(i["Component"]);return n.defaultProps={component:"div"},n}Ve(he);var Ke=Fe;function $e(t){var e=t.prefixCls,n=t.motion,r=t.animation,i=t.transitionName;return n||(r?{motionName:"".concat(e,"-").concat(r)}:i?{motionName:i}:null)}function qe(t){var e=t.prefixCls,n=t.visible,r=t.zIndex,o=t.mask,a=t.maskMotion,s=t.maskAnimation,c=t.maskTransitionName;if(!o)return null;var l={};return(a||c||s)&&(l=h({motionAppear:!0},$e({motion:a,prefixCls:e,transitionName:c,animation:s}))),i["createElement"](Ke,Object.assign({},l,{visible:n,removeOnLeave:!0}),(function(t){var n=t.className;return i["createElement"]("div",{style:{zIndex:r},className:d()("".concat(e,"-mask"),n)})}))}var Ze,Je=function(t){if(!t)return!1;if(t.offsetParent)return!0;if(t.getBBox){var e=t.getBBox();if(e.width||e.height)return!0}if(t.getBoundingClientRect){var n=t.getBoundingClientRect();if(n.width||n.height)return!0}return!1};function Qe(t){return Qe="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qe(t)}function tn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function en(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function nn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?en(n,!0).forEach((function(e){tn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):en(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var rn={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function on(){if(void 0!==Ze)return Ze;Ze="";var t=document.createElement("p").style,e="Transform";for(var n in rn)n+e in t&&(Ze=n);return Ze}function an(){return on()?"".concat(on(),"TransitionProperty"):"transitionProperty"}function sn(){return on()?"".concat(on(),"Transform"):"transform"}function cn(t,e){var n=an();n&&(t.style[n]=e,"transitionProperty"!==n&&(t.style.transitionProperty=e))}function ln(t,e){var n=sn();n&&(t.style[n]=e,"transform"!==n&&(t.style.transform=e))}function un(t){return t.style.transitionProperty||t.style[an()]}function hn(t){var e=window.getComputedStyle(t,null),n=e.getPropertyValue("transform")||e.getPropertyValue(sn());if(n&&"none"!==n){var r=n.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(r[12]||r[4],0),y:parseFloat(r[13]||r[5],0)}}return{x:0,y:0}}var fn=/matrix\((.*)\)/,dn=/matrix3d\((.*)\)/;function pn(t,e){var n=window.getComputedStyle(t,null),r=n.getPropertyValue("transform")||n.getPropertyValue(sn());if(r&&"none"!==r){var i,o=r.match(fn);if(o)o=o[1],i=o.split(",").map((function(t){return parseFloat(t,10)})),i[4]=e.x,i[5]=e.y,ln(t,"matrix(".concat(i.join(","),")"));else{var a=r.match(dn)[1];i=a.split(",").map((function(t){return parseFloat(t,10)})),i[12]=e.x,i[13]=e.y,ln(t,"matrix3d(".concat(i.join(","),")"))}}else ln(t,"translateX(".concat(e.x,"px) translateY(").concat(e.y,"px) translateZ(0)"))}var gn,mn=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source;function vn(t){var e=t.style.display;t.style.display="none",t.offsetHeight,t.style.display=e}function bn(t,e,n){var r=n;if("object"!==Qe(e))return"undefined"!==typeof r?("number"===typeof r&&(r="".concat(r,"px")),void(t.style[e]=r)):gn(t,e);for(var i in e)e.hasOwnProperty(i)&&bn(t,i,e[i])}function yn(t){var e,n,r,i=t.ownerDocument,o=i.body,a=i&&i.documentElement;return e=t.getBoundingClientRect(),n=e.left,r=e.top,n-=a.clientLeft||o.clientLeft||0,r-=a.clientTop||o.clientTop||0,{left:n,top:r}}function wn(t,e){var n=t["page".concat(e?"Y":"X","Offset")],r="scroll".concat(e?"Top":"Left");if("number"!==typeof n){var i=t.document;n=i.documentElement[r],"number"!==typeof n&&(n=i.body[r])}return n}function _n(t){return wn(t)}function xn(t){return wn(t,!0)}function Sn(t){var e=yn(t),n=t.ownerDocument,r=n.defaultView||n.parentWindow;return e.left+=_n(r),e.top+=xn(r),e}function Cn(t){return null!==t&&void 0!==t&&t==t.window}function En(t){return Cn(t)?t.document:9===t.nodeType?t:t.ownerDocument}function On(t,e,n){var r=n,i="",o=En(t);return r=r||o.defaultView.getComputedStyle(t,null),r&&(i=r.getPropertyValue(e)||r[e]),i}var kn=new RegExp("^(".concat(mn,")(?!px)[a-z%]+$"),"i"),Tn=/^(top|right|bottom|left)$/,jn="currentStyle",Mn="runtimeStyle",An="left",Pn="px";function In(t,e){var n=t[jn]&&t[jn][e];if(kn.test(n)&&!Tn.test(e)){var r=t.style,i=r[An],o=t[Mn][An];t[Mn][An]=t[jn][An],r[An]="fontSize"===e?"1em":n||0,n=r.pixelLeft+Pn,r[An]=i,t[Mn][An]=o}return""===n?"auto":n}function Rn(t,e){return"left"===t?e.useCssRight?"right":t:e.useCssBottom?"bottom":t}function Dn(t){return"left"===t?"right":"right"===t?"left":"top"===t?"bottom":"bottom"===t?"top":void 0}function Ln(t,e,n){"static"===bn(t,"position")&&(t.style.position="relative");var r=-999,i=-999,o=Rn("left",n),a=Rn("top",n),s=Dn(o),c=Dn(a);"left"!==o&&(r=999),"top"!==a&&(i=999);var l="",u=Sn(t);("left"in e||"top"in e)&&(l=un(t)||"",cn(t,"none")),"left"in e&&(t.style[s]="",t.style[o]="".concat(r,"px")),"top"in e&&(t.style[c]="",t.style[a]="".concat(i,"px")),vn(t);var h=Sn(t),f={};for(var d in e)if(e.hasOwnProperty(d)){var p=Rn(d,n),g="left"===d?r:i,m=u[d]-h[d];f[p]=p===d?g+m:g-m}bn(t,f),vn(t),("left"in e||"top"in e)&&cn(t,l);var v={};for(var b in e)if(e.hasOwnProperty(b)){var y=Rn(b,n),w=e[b]-u[b];v[y]=b===y?f[y]+w:f[y]-w}bn(t,v)}function Nn(t,e){var n=Sn(t),r=hn(t),i={x:r.x,y:r.y};"left"in e&&(i.x=r.x+e.left-n.left),"top"in e&&(i.y=r.y+e.top-n.top),pn(t,i)}function Fn(t,e,n){if(n.ignoreShake){var r=Sn(t),i=r.left.toFixed(0),o=r.top.toFixed(0),a=e.left.toFixed(0),s=e.top.toFixed(0);if(i===a&&o===s)return}n.useCssRight||n.useCssBottom?Ln(t,e,n):n.useCssTransform&&sn()in document.body.style?Nn(t,e):Ln(t,e,n)}function Bn(t,e){for(var n=0;n<t.length;n++)e(t[n])}function Un(t){return"border-box"===gn(t,"boxSizing")}"undefined"!==typeof window&&(gn=window.getComputedStyle?On:In);var Wn=["margin","border","padding"],zn=-1,Hn=2,Yn=1,Gn=0;function Xn(t,e,n){var r,i={},o=t.style;for(r in e)e.hasOwnProperty(r)&&(i[r]=o[r],o[r]=e[r]);for(r in n.call(t),e)e.hasOwnProperty(r)&&(o[r]=i[r])}function Vn(t,e,n){var r,i,o,a=0;for(i=0;i<e.length;i++)if(r=e[i],r)for(o=0;o<n.length;o++){var s=void 0;s="border"===r?"".concat(r).concat(n[o],"Width"):r+n[o],a+=parseFloat(gn(t,s))||0}return a}var Kn={getParent:function(t){var e=t;do{e=11===e.nodeType&&e.host?e.host:e.parentNode}while(e&&1!==e.nodeType&&9!==e.nodeType);return e}};function $n(t,e,n){var r=n;if(Cn(t))return"width"===e?Kn.viewportWidth(t):Kn.viewportHeight(t);if(9===t.nodeType)return"width"===e?Kn.docWidth(t):Kn.docHeight(t);var i="width"===e?["Left","Right"]:["Top","Bottom"],o="width"===e?t.getBoundingClientRect().width:t.getBoundingClientRect().height,a=(gn(t),Un(t)),s=0;(null===o||void 0===o||o<=0)&&(o=void 0,s=gn(t,e),(null===s||void 0===s||Number(s)<0)&&(s=t.style[e]||0),s=parseFloat(s)||0),void 0===r&&(r=a?Yn:zn);var c=void 0!==o||a,l=o||s;return r===zn?c?l-Vn(t,["border","padding"],i):s:c?r===Yn?l:l+(r===Hn?-Vn(t,["border"],i):Vn(t,["margin"],i)):s+Vn(t,Wn.slice(r),i)}Bn(["Width","Height"],(function(t){Kn["doc".concat(t)]=function(e){var n=e.document;return Math.max(n.documentElement["scroll".concat(t)],n.body["scroll".concat(t)],Kn["viewport".concat(t)](n))},Kn["viewport".concat(t)]=function(e){var n="client".concat(t),r=e.document,i=r.body,o=r.documentElement,a=o[n];return"CSS1Compat"===r.compatMode&&a||i&&i[n]||a}}));var qn={position:"absolute",visibility:"hidden",display:"block"};function Zn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,i=e[0];return 0!==i.offsetWidth?r=$n.apply(void 0,e):Xn(i,qn,(function(){r=$n.apply(void 0,e)})),r}function Jn(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}Bn(["width","height"],(function(t){var e=t.charAt(0).toUpperCase()+t.slice(1);Kn["outer".concat(e)]=function(e,n){return e&&Zn(e,t,n?Gn:Yn)};var n="width"===t?["Left","Right"]:["Top","Bottom"];Kn[t]=function(e,r){var i=r;if(void 0===i)return e&&Zn(e,t,zn);if(e){gn(e);var o=Un(e);return o&&(i+=Vn(e,["padding","border"],n)),bn(e,t,i)}}}));var Qn={getWindow:function(t){if(t&&t.document&&t.setTimeout)return t;var e=t.ownerDocument||t;return e.defaultView||e.parentWindow},getDocument:En,offset:function(t,e,n){if("undefined"===typeof e)return Sn(t);Fn(t,e,n||{})},isWindow:Cn,each:Bn,css:bn,clone:function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);var r=t.overflow;if(r)for(e in t)t.hasOwnProperty(e)&&(n.overflow[e]=t.overflow[e]);return n},mix:Jn,getWindowScrollLeft:function(t){return _n(t)},getWindowScrollTop:function(t){return xn(t)},merge:function(){for(var t={},e=0;e<arguments.length;e++)Qn.mix(t,e<0||arguments.length<=e?void 0:arguments[e]);return t},viewportWidth:0,viewportHeight:0};Jn(Qn,Kn);var tr=Qn.getParent;function er(t){if(Qn.isWindow(t)||9===t.nodeType)return null;var e,n=Qn.getDocument(t),r=n.body,i=Qn.css(t,"position"),o="fixed"===i||"absolute"===i;if(!o)return"html"===t.nodeName.toLowerCase()?null:tr(t);for(e=tr(t);e&&e!==r&&9!==e.nodeType;e=tr(e))if(i=Qn.css(e,"position"),"static"!==i)return e;return null}var nr=Qn.getParent;function rr(t){if(Qn.isWindow(t)||9===t.nodeType)return!1;var e=Qn.getDocument(t),n=e.body,r=null;for(r=nr(t);r&&r!==n;r=nr(r)){var i=Qn.css(r,"position");if("fixed"===i)return!0}return!1}function ir(t,e){var n={left:0,right:1/0,top:0,bottom:1/0},r=er(t),i=Qn.getDocument(t),o=i.defaultView||i.parentWindow,a=i.body,s=i.documentElement;while(r){if(-1!==navigator.userAgent.indexOf("MSIE")&&0===r.clientWidth||r===a||r===s||"visible"===Qn.css(r,"overflow")){if(r===a||r===s)break}else{var c=Qn.offset(r);c.left+=r.clientLeft,c.top+=r.clientTop,n.top=Math.max(n.top,c.top),n.right=Math.min(n.right,c.left+r.clientWidth),n.bottom=Math.min(n.bottom,c.top+r.clientHeight),n.left=Math.max(n.left,c.left)}r=er(r)}var l=null;if(!Qn.isWindow(t)&&9!==t.nodeType){l=t.style.position;var u=Qn.css(t,"position");"absolute"===u&&(t.style.position="fixed")}var h=Qn.getWindowScrollLeft(o),f=Qn.getWindowScrollTop(o),d=Qn.viewportWidth(o),p=Qn.viewportHeight(o),g=s.scrollWidth,m=s.scrollHeight,v=window.getComputedStyle(a);if("hidden"===v.overflowX&&(g=o.innerWidth),"hidden"===v.overflowY&&(m=o.innerHeight),t.style&&(t.style.position=l),e||rr(t))n.left=Math.max(n.left,h),n.top=Math.max(n.top,f),n.right=Math.min(n.right,h+d),n.bottom=Math.min(n.bottom,f+p);else{var b=Math.max(g,h+d);n.right=Math.min(n.right,b);var y=Math.max(m,f+p);n.bottom=Math.min(n.bottom,y)}return n.top>=0&&n.left>=0&&n.bottom>n.top&&n.right>n.left?n:null}function or(t,e,n,r){var i=Qn.clone(t),o={width:e.width,height:e.height};return r.adjustX&&i.left<n.left&&(i.left=n.left),r.resizeWidth&&i.left>=n.left&&i.left+o.width>n.right&&(o.width-=i.left+o.width-n.right),r.adjustX&&i.left+o.width>n.right&&(i.left=Math.max(n.right-o.width,n.left)),r.adjustY&&i.top<n.top&&(i.top=n.top),r.resizeHeight&&i.top>=n.top&&i.top+o.height>n.bottom&&(o.height-=i.top+o.height-n.bottom),r.adjustY&&i.top+o.height>n.bottom&&(i.top=Math.max(n.bottom-o.height,n.top)),Qn.mix(i,o)}function ar(t){var e,n,r;if(Qn.isWindow(t)||9===t.nodeType){var i=Qn.getWindow(t);e={left:Qn.getWindowScrollLeft(i),top:Qn.getWindowScrollTop(i)},n=Qn.viewportWidth(i),r=Qn.viewportHeight(i)}else e=Qn.offset(t),n=Qn.outerWidth(t),r=Qn.outerHeight(t);return e.width=n,e.height=r,e}function sr(t,e){var n=e.charAt(0),r=e.charAt(1),i=t.width,o=t.height,a=t.left,s=t.top;return"c"===n?s+=o/2:"b"===n&&(s+=o),"c"===r?a+=i/2:"r"===r&&(a+=i),{left:a,top:s}}function cr(t,e,n,r,i){var o=sr(e,n[1]),a=sr(t,n[0]),s=[a.left-o.left,a.top-o.top];return{left:Math.round(t.left-s[0]+r[0]-i[0]),top:Math.round(t.top-s[1]+r[1]-i[1])}}function lr(t,e,n){return t.left<n.left||t.left+e.width>n.right}function ur(t,e,n){return t.top<n.top||t.top+e.height>n.bottom}function hr(t,e,n){return t.left>n.right||t.left+e.width<n.left}function fr(t,e,n){return t.top>n.bottom||t.top+e.height<n.top}function dr(t,e,n){var r=[];return Qn.each(t,(function(t){r.push(t.replace(e,(function(t){return n[t]})))})),r}function pr(t,e){return t[e]=-t[e],t}function gr(t,e){var n;return n=/%$/.test(t)?parseInt(t.substring(0,t.length-1),10)/100*e:parseInt(t,10),n||0}function mr(t,e){t[0]=gr(t[0],e.width),t[1]=gr(t[1],e.height)}function vr(t,e,n,r){var i=n.points,o=n.offset||[0,0],a=n.targetOffset||[0,0],s=n.overflow,c=n.source||t;o=[].concat(o),a=[].concat(a),s=s||{};var l={},u=0,h=!(!s||!s.alwaysByViewport),f=ir(c,h),d=ar(c);mr(o,d),mr(a,e);var p=cr(d,e,i,o,a),g=Qn.merge(d,p);if(f&&(s.adjustX||s.adjustY)&&r){if(s.adjustX&&lr(p,d,f)){var m=dr(i,/[lr]/gi,{l:"r",r:"l"}),v=pr(o,0),b=pr(a,0),y=cr(d,e,m,v,b);hr(y,d,f)||(u=1,i=m,o=v,a=b)}if(s.adjustY&&ur(p,d,f)){var w=dr(i,/[tb]/gi,{t:"b",b:"t"}),_=pr(o,1),x=pr(a,1),S=cr(d,e,w,_,x);fr(S,d,f)||(u=1,i=w,o=_,a=x)}u&&(p=cr(d,e,i,o,a),Qn.mix(g,p));var C=lr(p,d,f),E=ur(p,d,f);if(C||E){var O=i;C&&(O=dr(i,/[lr]/gi,{l:"r",r:"l"})),E&&(O=dr(i,/[tb]/gi,{t:"b",b:"t"})),i=O,o=n.offset||[0,0],a=n.targetOffset||[0,0]}l.adjustX=s.adjustX&&C,l.adjustY=s.adjustY&&E,(l.adjustX||l.adjustY)&&(g=or(p,d,f,l))}return g.width!==d.width&&Qn.css(c,"width",Qn.width(c)+g.width-d.width),g.height!==d.height&&Qn.css(c,"height",Qn.height(c)+g.height-d.height),Qn.offset(c,{left:g.left,top:g.top},{useCssRight:n.useCssRight,useCssBottom:n.useCssBottom,useCssTransform:n.useCssTransform,ignoreShake:n.ignoreShake}),{points:i,offset:o,targetOffset:a,overflow:l}}function br(t,e){var n=ir(t,e),r=ar(t);return!n||r.left+r.width<=n.left||r.top+r.height<=n.top||r.left>=n.right||r.top>=n.bottom}function yr(t,e,n){var r=n.target||e,i=ar(r),o=!br(r,n.overflow&&n.overflow.alwaysByViewport);return vr(t,i,n,o)}function wr(t,e,n){var r,i,o=Qn.getDocument(t),a=o.defaultView||o.parentWindow,s=Qn.getWindowScrollLeft(a),c=Qn.getWindowScrollTop(a),l=Qn.viewportWidth(a),u=Qn.viewportHeight(a);r="pageX"in e?e.pageX:s+e.clientX,i="pageY"in e?e.pageY:c+e.clientY;var h={left:r,top:i,width:0,height:0},f=r>=0&&r<=s+l&&i>=0&&i<=c+u,d=[n.points[0],"cc"];return vr(t,h,nn({},n,{points:d}),f)}yr.__getOffsetParent=er,yr.__getVisibleRectForElement=ir;function _r(t,e){return t===e||!(!t||!e)&&("pageX"in e&&"pageY"in e?t.pageX===e.pageX&&t.pageY===e.pageY:"clientX"in e&&"clientY"in e&&(t.clientX===e.clientX&&t.clientY===e.clientY))}function xr(t,e){t!==document.activeElement&&Kt(e,t)&&"function"===typeof t.focus&&t.focus()}function Sr(t,e){var n=null,i=null;function o(t){var o=Object(r["a"])(t,1),a=o[0].target;if(document.documentElement.contains(a)){var s=a.getBoundingClientRect(),c=s.width,l=s.height,u=Math.floor(c),h=Math.floor(l);n===u&&i===h||Promise.resolve().then((function(){e({width:u,height:h})})),n=u,i=h}}var a=new z["a"](o);return t&&a.observe(t),function(){a.disconnect()}}var Cr=function(t,e){var n=o.a.useRef(!1),r=o.a.useRef(null);function i(){window.clearTimeout(r.current)}function a(o){if(n.current&&!0!==o)i(),r.current=window.setTimeout((function(){n.current=!1,a()}),e);else{if(!1===t())return;n.current=!0,i(),r.current=window.setTimeout((function(){n.current=!1}),e)}}return[a,function(){n.current=!1,i()}]};function Er(t){return"function"!==typeof t?null:t()}function Or(t){return"object"===Object(c["a"])(t)&&t?t:null}var kr=function(t,e){var n=t.children,i=t.disabled,a=t.target,s=t.align,c=t.onAlign,l=t.monitorWindowResize,u=t.monitorBufferTime,h=void 0===u?0:u,f=o.a.useRef({}),d=o.a.useRef(),p=o.a.Children.only(n),g=o.a.useRef({});g.current.disabled=i,g.current.target=a,g.current.onAlign=c;var m=Cr((function(){var t=g.current,e=t.disabled,n=t.target,r=t.onAlign;if(!e&&n){var i,o=d.current,a=Er(n),c=Or(n);f.current.element=a,f.current.point=c;var l=document,u=l.activeElement;return a&&Je(a)?i=yr(o,a,s):c&&(i=wr(o,c,s)),xr(u,o),r&&i&&r(o,i),!0}return!1}),h),v=Object(r["a"])(m,2),b=v[0],y=v[1],w=o.a.useRef({cancel:function(){}}),_=o.a.useRef({cancel:function(){}});o.a.useEffect((function(){var t=Er(a),e=Or(a);d.current!==_.current.element&&(_.current.cancel(),_.current.element=d.current,_.current.cancel=Sr(d.current,b)),f.current.element===t&&_r(f.current.point,e)||(b(),w.current.element!==t&&(w.current.cancel(),w.current.element=t,w.current.cancel=Sr(t,b)))})),o.a.useEffect((function(){i?y():b()}),[i]);var x=o.a.useRef(null);return o.a.useEffect((function(){l?x.current||(x.current=$t(window,"resize",b)):x.current&&(x.current.remove(),x.current=null)}),[l]),o.a.useEffect((function(){return function(){w.current.cancel(),_.current.cancel(),x.current&&x.current.remove(),y()}}),[]),o.a.useImperativeHandle(e,(function(){return{forceAlign:function(){return b(!0)}}})),o.a.isValidElement(p)&&(p=o.a.cloneElement(p,{ref:U(p.ref,d)})),p},Tr=o.a.forwardRef(kr);Tr.displayName="Align";var jr=Tr,Mr=jr,Ar=n("o0o1"),Pr=n.n(Ar);function Ir(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(l){return void n(l)}s.done?e(c):Promise.resolve(c).then(r,i)}function Rr(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){Ir(o,r,i,a,s,"next",t)}function s(t){Ir(o,r,i,a,s,"throw",t)}a(void 0)}))}}var Dr=["measure","align",null,"motion"],Lr=function(t,e){var n=Object(i["useState"])(null),o=Object(r["a"])(n,2),a=o[0],s=o[1],c=Object(i["useRef"])();function l(){O.cancel(c.current)}function u(t){l(),c.current=O((function(){s((function(t){switch(a){case"align":return"motion";case"motion":return"stable"}return t})),null===t||void 0===t||t()}))}return Object(i["useEffect"])((function(){s("measure")}),[t]),Object(i["useEffect"])((function(){switch(a){case"measure":e();break}a&&(l(),c.current=O(Rr(Pr.a.mark((function t(){var e,n;return Pr.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=Dr.indexOf(a),n=Dr[e+1],n&&-1!==e&&s(n);case 3:case"end":return t.stop()}}),t)})))))}),[a]),Object(i["useEffect"])((function(){return function(){l()}}),[]),[a,u]},Nr=function(t){var e=i["useState"]({width:0,height:0}),n=Object(r["a"])(e,2),o=n[0],a=n[1];function s(t){a({width:t.offsetWidth,height:t.offsetHeight})}var c=i["useMemo"]((function(){var e={};if(t){var n=o.width,r=o.height;-1!==t.indexOf("height")&&r?e.height=r:-1!==t.indexOf("minHeight")&&r&&(e.minHeight=r),-1!==t.indexOf("width")&&n?e.width=n:-1!==t.indexOf("minWidth")&&n&&(e.minWidth=n)}return e}),[t,o]);return[c,s]},Fr=i["forwardRef"]((function(t,e){var n=t.visible,o=t.prefixCls,a=t.className,s=t.style,c=t.children,l=t.zIndex,u=t.stretch,f=t.destroyPopupOnHide,p=t.align,g=t.point,m=t.getRootDomNode,v=t.getClassNameFromAlign,b=t.onAlign,y=t.onMouseEnter,w=t.onMouseLeave,_=t.onMouseDown,x=t.onTouchStart,S=Object(i["useRef"])(),C=Object(i["useRef"])(),E=Object(i["useState"])(),O=Object(r["a"])(E,2),k=O[0],T=O[1],j=Nr(u),M=Object(r["a"])(j,2),A=M[0],P=M[1];function I(){u&&P(m())}var R=Lr(n,I),D=Object(r["a"])(R,2),L=D[0],N=D[1],F=Object(i["useRef"])();function B(){return g||m}function U(){var t;null===(t=S.current)||void 0===t||t.forceAlign()}function W(t,e){if("align"===L){var n=v(e);T(n),k!==n?Promise.resolve().then((function(){U()})):N((function(){var t;null===(t=F.current)||void 0===t||t.call(F)})),null===b||void 0===b||b(t,e)}}var z=h({},$e(t));function H(){return new Promise((function(t){F.current=t}))}["onAppearEnd","onEnterEnd","onLeaveEnd"].forEach((function(t){var e=z[t];z[t]=function(t,n){return N(),null===e||void 0===e?void 0:e(t,n)}})),i["useEffect"]((function(){z.motionName||"motion"!==L||N()}),[z.motionName,L]),i["useImperativeHandle"](e,(function(){return{forceAlign:U,getElement:function(){return C.current}}}));var Y=h(h(h({},A),{},{zIndex:l},s),{},{opacity:"motion"!==L&&"stable"!==L&&n?0:void 0,pointerEvents:"stable"===L?void 0:"none"}),G=!0;!(null===p||void 0===p?void 0:p.points)||"align"!==L&&"stable"!==L||(G=!1);var X=c;return i["Children"].count(c)>1&&(X=i["createElement"]("div",{className:"".concat(o,"-content")},c)),i["createElement"](Ke,Object.assign({visible:n,ref:C,leavedClassName:"".concat(o,"-hidden")},z,{onAppearPrepare:H,onEnterPrepare:H,removeOnLeave:f}),(function(t,e){var n=t.className,r=t.style,s=d()(o,a,k,n);return i["createElement"](Mr,{target:B(),key:"popup",ref:S,monitorWindowResize:!0,disabled:G,align:p,onAlign:W},i["createElement"]("div",{ref:e,className:s,onMouseEnter:y,onMouseLeave:w,onMouseDown:_,onTouchStart:x,style:h(h({},r),Y)},X))}))}));Fr.displayName="PopupInner";var Br=Fr,Ur=i["forwardRef"]((function(t,e){var n=t.prefixCls,r=t.visible,o=t.zIndex,a=t.children,s=t.mobile;s=void 0===s?{}:s;var c=s.popupClassName,l=s.popupStyle,u=s.popupMotion,f=void 0===u?{}:u,p=s.popupRender,g=i["useRef"]();i["useImperativeHandle"](e,(function(){return{forceAlign:function(){},getElement:function(){return g.current}}}));var m=h({zIndex:o},l),v=a;return i["Children"].count(a)>1&&(v=i["createElement"]("div",{className:"".concat(n,"-content")},a)),p&&(v=p(v)),i["createElement"](Ke,Object.assign({visible:r,ref:g,removeOnLeave:!0},f),(function(t,e){var r=t.className,o=t.style,a=d()(n,c,r);return i["createElement"]("div",{ref:e,className:a,style:h(h({},o),m)},v)}))}));Ur.displayName="MobilePopupInner";var Wr=Ur,zr=i["forwardRef"]((function(t,e){var n=t.visible,o=t.mobile,a=Object(l["a"])(t,["visible","mobile"]),s=Object(i["useState"])(n),c=Object(r["a"])(s,2),u=c[0],f=c[1],d=Object(i["useState"])(!1),p=Object(r["a"])(d,2),g=p[0],v=p[1],b=h(h({},a),{},{visible:u});Object(i["useEffect"])((function(){f(n),n&&o&&v(m())}),[n,!!o]);var y=g?i["createElement"](Wr,Object.assign({},b,{mobile:o,ref:e})):i["createElement"](Br,Object.assign({},b,{ref:e}));return i["createElement"]("div",null,i["createElement"](qe,Object.assign({},b)),y)}));zr.displayName="Popup";var Hr=zr,Yr=i["createContext"](null),Gr=Yr;function Xr(){}function Vr(){return""}function Kr(t){return t?t.ownerDocument:window.document}var $r=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"];function qr(t){var e=function(e){Object(j["default"])(r,e);var n=Object(M["default"])(r);function r(t){var e,o;return Object(k["default"])(this,r),e=n.call(this,t),e.popupRef=i["createRef"](),e.triggerRef=i["createRef"](),e.onMouseEnter=function(t){var n=e.props.mouseEnterDelay;e.fireEvents("onMouseEnter",t),e.delaySetPopupVisible(!0,n,n?null:t)},e.onMouseMove=function(t){e.fireEvents("onMouseMove",t),e.setPoint(t)},e.onMouseLeave=function(t){e.fireEvents("onMouseLeave",t),e.delaySetPopupVisible(!1,e.props.mouseLeaveDelay)},e.onPopupMouseEnter=function(){e.clearDelayTimer()},e.onPopupMouseLeave=function(t){var n;t.relatedTarget&&!t.relatedTarget.setTimeout&&Kt(null===(n=e.popupRef.current)||void 0===n?void 0:n.getElement(),t.relatedTarget)||e.delaySetPopupVisible(!1,e.props.mouseLeaveDelay)},e.onFocus=function(t){e.fireEvents("onFocus",t),e.clearDelayTimer(),e.isFocusToShow()&&(e.focusTime=Date.now(),e.delaySetPopupVisible(!0,e.props.focusDelay))},e.onMouseDown=function(t){e.fireEvents("onMouseDown",t),e.preClickTime=Date.now()},e.onTouchStart=function(t){e.fireEvents("onTouchStart",t),e.preTouchTime=Date.now()},e.onBlur=function(t){e.fireEvents("onBlur",t),e.clearDelayTimer(),e.isBlurToHide()&&e.delaySetPopupVisible(!1,e.props.blurDelay)},e.onContextMenu=function(t){t.preventDefault(),e.fireEvents("onContextMenu",t),e.setPopupVisible(!0,t)},e.onContextMenuClose=function(){e.isContextMenuToShow()&&e.close()},e.onClick=function(t){if(e.fireEvents("onClick",t),e.focusTime){var n;if(e.preClickTime&&e.preTouchTime?n=Math.min(e.preClickTime,e.preTouchTime):e.preClickTime?n=e.preClickTime:e.preTouchTime&&(n=e.preTouchTime),Math.abs(n-e.focusTime)<20)return;e.focusTime=0}e.preClickTime=0,e.preTouchTime=0,e.isClickToShow()&&(e.isClickToHide()||e.isBlurToHide())&&t&&t.preventDefault&&t.preventDefault();var r=!e.state.popupVisible;(e.isClickToHide()&&!r||r&&e.isClickToShow())&&e.setPopupVisible(!e.state.popupVisible,t)},e.onPopupMouseDown=function(){var t;(e.hasPopupMouseDown=!0,clearTimeout(e.mouseDownTimeout),e.mouseDownTimeout=window.setTimeout((function(){e.hasPopupMouseDown=!1}),0),e.context)&&(t=e.context).onPopupMouseDown.apply(t,arguments)},e.onDocumentClick=function(t){if(!e.props.mask||e.props.maskClosable){var n=t.target,r=e.getRootDomNode(),i=e.getPopupDomNode();Kt(r,n)||Kt(i,n)||e.hasPopupMouseDown||e.close()}},e.getRootDomNode=function(){var t=e.props.getTriggerDOMNode;if(t)return t(e.triggerRef.current);try{var n=I(e.triggerRef.current);if(n)return n}catch(err){}return P.a.findDOMNode(Object(nt["a"])(e))},e.getPopupClassNameFromAlign=function(t){var n=[],r=e.props,i=r.popupPlacement,o=r.builtinPlacements,a=r.prefixCls,s=r.alignPoint,c=r.getPopupClassNameFromAlign;return i&&o&&n.push(ee(o,a,t,s)),c&&n.push(c(t)),n.join(" ")},e.getComponent=function(){var t=e.props,n=t.prefixCls,r=t.destroyPopupOnHide,o=t.popupClassName,a=t.onPopupAlign,s=t.popupMotion,c=t.popupAnimation,l=t.popupTransitionName,u=t.popupStyle,h=t.mask,f=t.maskAnimation,d=t.maskTransitionName,p=t.maskMotion,g=t.zIndex,m=t.popup,v=t.stretch,b=t.alignPoint,y=t.mobile,w=e.state,_=w.popupVisible,x=w.point,S=e.getPopupAlign(),C={};return e.isMouseEnterToShow()&&(C.onMouseEnter=e.onPopupMouseEnter),e.isMouseLeaveToHide()&&(C.onMouseLeave=e.onPopupMouseLeave),C.onMouseDown=e.onPopupMouseDown,C.onTouchStart=e.onPopupMouseDown,i["createElement"](Hr,Object.assign({prefixCls:n,destroyPopupOnHide:r,visible:_,point:b&&x,className:o,align:S,onAlign:a,animation:c,getClassNameFromAlign:e.getPopupClassNameFromAlign},C,{stretch:v,getRootDomNode:e.getRootDomNode,style:u,mask:h,zIndex:g,transitionName:l,maskAnimation:f,maskTransitionName:d,maskMotion:p,ref:e.popupRef,motion:s,mobile:y}),"function"===typeof m?m():m)},e.attachParent=function(t){O.cancel(e.attachId);var n,r=e.props,i=r.getPopupContainer,o=r.getDocument,a=e.getRootDomNode();i?(a||0===i.length)&&(n=i(a)):n=o(e.getRootDomNode()).body,n?n.appendChild(t):e.attachId=O((function(){e.attachParent(t)}))},e.getContainer=function(){var t=e.props.getDocument,n=t(e.getRootDomNode()).createElement("div");return n.style.position="absolute",n.style.top="0",n.style.left="0",n.style.width="100%",e.attachParent(n),n},e.setPoint=function(t){var n=e.props.alignPoint;n&&t&&e.setState({point:{pageX:t.pageX,pageY:t.pageY}})},e.handlePortalUpdate=function(){e.state.prevPopupVisible!==e.state.popupVisible&&e.props.afterPopupVisibleChange(e.state.popupVisible)},o="popupVisible"in t?!!t.popupVisible:!!t.defaultPopupVisible,e.state={prevPopupVisible:o,popupVisible:o},$r.forEach((function(t){e["fire".concat(t)]=function(n){e.fireEvents(t,n)}})),e}return Object(T["default"])(r,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var t,e=this.props,n=this.state;if(n.popupVisible)return this.clickOutsideHandler||!this.isClickToHide()&&!this.isContextMenuToShow()||(t=e.getDocument(this.getRootDomNode()),this.clickOutsideHandler=$t(t,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(t=t||e.getDocument(this.getRootDomNode()),this.touchOutsideHandler=$t(t,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(t=t||e.getDocument(this.getRootDomNode()),this.contextMenuOutsideHandler1=$t(t,"scroll",this.onContextMenuClose)),void(!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=$t(window,"blur",this.onContextMenuClose)));this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),O.cancel(this.attachId)}},{key:"getPopupDomNode",value:function(){var t;return(null===(t=this.popupRef.current)||void 0===t?void 0:t.getElement())||null}},{key:"getPopupAlign",value:function(){var t=this.props,e=t.popupPlacement,n=t.popupAlign,r=t.builtinPlacements;return e&&r?te(r,e,n):n}},{key:"setPopupVisible",value:function(t,e){var n=this.props.alignPoint,r=this.state.popupVisible;this.clearDelayTimer(),r!==t&&("popupVisible"in this.props||this.setState({popupVisible:t,prevPopupVisible:r}),this.props.onPopupVisibleChange(t)),n&&e&&t&&this.setPoint(e)}},{key:"delaySetPopupVisible",value:function(t,e,n){var r=this,i=1e3*e;if(this.clearDelayTimer(),i){var o=n?{pageX:n.pageX,pageY:n.pageY}:null;this.delayTimer=window.setTimeout((function(){r.setPopupVisible(t,o),r.clearDelayTimer()}),i)}else this.setPopupVisible(t,n)}},{key:"clearDelayTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"clearOutsideHandler",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"createTwoChains",value:function(t){var e=this.props.children.props,n=this.props;return e[t]&&n[t]?this["fire".concat(t)]:e[t]||n[t]}},{key:"isClickToShow",value:function(){var t=this.props,e=t.action,n=t.showAction;return-1!==e.indexOf("click")||-1!==n.indexOf("click")}},{key:"isContextMenuToShow",value:function(){var t=this.props,e=t.action,n=t.showAction;return-1!==e.indexOf("contextMenu")||-1!==n.indexOf("contextMenu")}},{key:"isClickToHide",value:function(){var t=this.props,e=t.action,n=t.hideAction;return-1!==e.indexOf("click")||-1!==n.indexOf("click")}},{key:"isMouseEnterToShow",value:function(){var t=this.props,e=t.action,n=t.showAction;return-1!==e.indexOf("hover")||-1!==n.indexOf("mouseEnter")}},{key:"isMouseLeaveToHide",value:function(){var t=this.props,e=t.action,n=t.hideAction;return-1!==e.indexOf("hover")||-1!==n.indexOf("mouseLeave")}},{key:"isFocusToShow",value:function(){var t=this.props,e=t.action,n=t.showAction;return-1!==e.indexOf("focus")||-1!==n.indexOf("focus")}},{key:"isBlurToHide",value:function(){var t=this.props,e=t.action,n=t.hideAction;return-1!==e.indexOf("focus")||-1!==n.indexOf("blur")}},{key:"forcePopupAlign",value:function(){var t;this.state.popupVisible&&(null===(t=this.popupRef.current)||void 0===t||t.forceAlign())}},{key:"fireEvents",value:function(t,e){var n=this.props.children.props[t];n&&n(e);var r=this.props[t];r&&r(e)}},{key:"close",value:function(){this.setPopupVisible(!1)}},{key:"render",value:function(){var e=this.state.popupVisible,n=this.props,r=n.children,o=n.forceRender,a=n.alignPoint,s=n.className,c=n.autoDestroy,l=i["Children"].only(r),u={key:"trigger"};this.isContextMenuToShow()?u.onContextMenu=this.onContextMenu:u.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(u.onClick=this.onClick,u.onMouseDown=this.onMouseDown,u.onTouchStart=this.onTouchStart):(u.onClick=this.createTwoChains("onClick"),u.onMouseDown=this.createTwoChains("onMouseDown"),u.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(u.onMouseEnter=this.onMouseEnter,a&&(u.onMouseMove=this.onMouseMove)):u.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?u.onMouseLeave=this.onMouseLeave:u.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(u.onFocus=this.onFocus,u.onBlur=this.onBlur):(u.onFocus=this.createTwoChains("onFocus"),u.onBlur=this.createTwoChains("onBlur"));var f=d()(l&&l.props&&l.props.className,s);f&&(u.className=f);var p=h({},u);W(l)&&(p.ref=U(this.triggerRef,l.ref));var g,m=i["cloneElement"](l,p);return(e||this.popupRef.current||o)&&(g=i["createElement"](t,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),!e&&c&&(g=null),i["createElement"](Gr.Provider,{value:{onPopupMouseDown:this.onPopupMouseDown}},m,g)}}],[{key:"getDerivedStateFromProps",value:function(t,e){var n=t.popupVisible,r={};return void 0!==n&&e.popupVisible!==n&&(r.popupVisible=n,r.prevPopupVisible=e.popupVisible),r}}]),r}(i["Component"]);return e.contextType=Gr,e.defaultProps={prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:Vr,getDocument:Kr,onPopupVisibleChange:Xr,afterPopupVisibleChange:Xr,onPopupAlign:Xr,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[],autoDestroy:!1},e}var Zr=qr(Jt),Jr={adjustX:1,adjustY:1},Qr={topLeft:{points:["bl","tl"],overflow:Jr,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:Jr,offset:[0,7]},leftTop:{points:["tr","tl"],overflow:Jr,offset:[-4,0]},rightTop:{points:["tl","tr"],overflow:Jr,offset:[4,0]}},ti={topLeft:{points:["bl","tl"],overflow:Jr,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:Jr,offset:[0,7]},rightTop:{points:["tr","tl"],overflow:Jr,offset:[-4,0]},leftTop:{points:["tl","tr"],overflow:Jr,offset:[4,0]}},ei=0,ni={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"},ri=function(t,e,n){var r=Wt(e),i=t.getState();t.setState({defaultActiveFirst:h(h({},i.defaultActiveFirst),{},s({},r,n))})},ii=function(t){Object(j["default"])(n,t);var e=Object(M["default"])(n);function n(t){var r;Object(k["default"])(this,n),r=e.call(this,t),r.onDestroy=function(t){r.props.onDestroy(t)},r.onKeyDown=function(t){var e=t.keyCode,n=r.menuInstance,i=r.props.store,o=r.getVisible();if(e===$.ENTER)return r.onTitleClick(t),ri(i,r.props.eventKey,!0),!0;if(e===$.RIGHT)return o?n.onKeyDown(t):(r.triggerOpenChange(!0),ri(i,r.props.eventKey,!0)),!0;if(e===$.LEFT){var a;if(!o)return;return a=n.onKeyDown(t),a||(r.triggerOpenChange(!1),a=!0),a}return!o||e!==$.UP&&e!==$.DOWN?void 0:n.onKeyDown(t)},r.onOpenChange=function(t){r.props.onOpenChange(t)},r.onPopupVisibleChange=function(t){r.triggerOpenChange(t,t?"mouseenter":"mouseleave")},r.onMouseEnter=function(t){var e=r.props,n=e.eventKey,i=e.onMouseEnter,o=e.store;ri(o,r.props.eventKey,!1),i({key:n,domEvent:t})},r.onMouseLeave=function(t){var e=r.props,n=e.parentMenu,i=e.eventKey,o=e.onMouseLeave;n.subMenuInstance=Object(nt["a"])(r),o({key:i,domEvent:t})},r.onTitleMouseEnter=function(t){var e=r.props,n=e.eventKey,i=e.onItemHover,o=e.onTitleMouseEnter;i({key:n,hover:!0}),o({key:n,domEvent:t})},r.onTitleMouseLeave=function(t){var e=r.props,n=e.parentMenu,i=e.eventKey,o=e.onItemHover,a=e.onTitleMouseLeave;n.subMenuInstance=Object(nt["a"])(r),o({key:i,hover:!1}),a({key:i,domEvent:t})},r.onTitleClick=function(t){var e=Object(nt["a"])(r),n=e.props;n.onTitleClick({key:n.eventKey,domEvent:t}),"hover"!==n.triggerSubMenuAction&&(r.triggerOpenChange(!r.getVisible(),"click"),ri(n.store,r.props.eventKey,!1))},r.onSubMenuClick=function(t){"function"===typeof r.props.onClick&&r.props.onClick(r.addKeyPath(t))},r.onSelect=function(t){r.props.onSelect(t)},r.onDeselect=function(t){r.props.onDeselect(t)},r.getPrefixCls=function(){return"".concat(r.props.rootPrefixCls,"-submenu")},r.getActiveClassName=function(){return"".concat(r.getPrefixCls(),"-active")},r.getDisabledClassName=function(){return"".concat(r.getPrefixCls(),"-disabled")},r.getSelectedClassName=function(){return"".concat(r.getPrefixCls(),"-selected")},r.getOpenClassName=function(){return"".concat(r.props.rootPrefixCls,"-submenu-open")},r.getVisible=function(){return r.state.isOpen},r.getMode=function(){return r.state.mode},r.saveMenuInstance=function(t){r.menuInstance=t},r.addKeyPath=function(t){return h(h({},t),{},{keyPath:(t.keyPath||[]).concat(r.props.eventKey)})},r.triggerOpenChange=function(t,e){var n=r.props.eventKey,i=function(){r.onOpenChange({key:n,item:Object(nt["a"])(r),trigger:e,open:t})};"mouseenter"===e?r.mouseenterTimeout=setTimeout((function(){i()}),0):i()},r.isChildrenSelected=function(){var t={find:!1};return Ht(r.props.children,r.props.selectedKeys,t),t.find},r.isInlineMode=function(){return"inline"===r.getMode()},r.adjustWidth=function(){if(r.subMenuTitle&&r.menuInstance){var t=A["findDOMNode"](r.menuInstance);t.offsetWidth>=r.subMenuTitle.offsetWidth||(t.style.minWidth="".concat(r.subMenuTitle.offsetWidth,"px"))}},r.saveSubMenuTitle=function(t){r.subMenuTitle=t},r.getBaseProps=function(){var t=Object(nt["a"])(r),e=t.props,n=r.getMode();return{mode:"horizontal"===n?"vertical":n,visible:r.getVisible(),level:e.level+1,inlineIndent:e.inlineIndent,focusable:!1,onClick:r.onSubMenuClick,onSelect:r.onSelect,onDeselect:r.onDeselect,onDestroy:r.onDestroy,selectedKeys:e.selectedKeys,eventKey:"".concat(e.eventKey,"-menu-"),openKeys:e.openKeys,motion:e.motion,onOpenChange:r.onOpenChange,subMenuOpenDelay:e.subMenuOpenDelay,parentMenu:Object(nt["a"])(r),subMenuCloseDelay:e.subMenuCloseDelay,forceSubMenuRender:e.forceSubMenuRender,triggerSubMenuAction:e.triggerSubMenuAction,builtinPlacements:e.builtinPlacements,defaultActiveFirst:e.store.getState().defaultActiveFirst[Wt(e.eventKey)],multiple:e.multiple,prefixCls:e.rootPrefixCls,id:r.internalMenuId,manualRef:r.saveMenuInstance,itemIcon:e.itemIcon,expandIcon:e.expandIcon,direction:e.direction}},r.getMotion=function(t,e){var n=Object(nt["a"])(r),i=n.haveRendered,o=r.props,a=o.motion,s=o.rootPrefixCls,c=h(h({},a),{},{leavedClassName:"".concat(s,"-hidden"),removeOnLeave:!1,motionAppear:i||!e||"inline"!==t});return c};var i=t.store,o=t.eventKey,a=i.getState(),s=a.defaultActiveFirst;r.isRootMenu=!1;var c=!1;return s&&(c=s[o]),ri(i,o,c),r.state={mode:t.mode,isOpen:t.isOpen},r}return Object(T["default"])(n,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var t=this,e=this.props,n=e.mode,r=e.parentMenu,i=e.manualRef,o=e.isOpen,a=function(){t.setState({mode:n,isOpen:o})},s=o!==this.state.isOpen,c=n!==this.state.mode;(c||s)&&(O.cancel(this.updateStateRaf),c?this.updateStateRaf=O(a):a()),i&&i(this),"horizontal"===n&&(null===r||void 0===r?void 0:r.isRootMenu)&&o&&(this.minWidthTimeout=setTimeout((function(){return t.adjustWidth()}),0))}},{key:"componentWillUnmount",value:function(){var t=this.props,e=t.onDestroy,n=t.eventKey;e&&e(n),this.minWidthTimeout&&clearTimeout(this.minWidthTimeout),this.mouseenterTimeout&&clearTimeout(this.mouseenterTimeout),O.cancel(this.updateStateRaf)}},{key:"renderPopupMenu",value:function(t,e){var n=this.getBaseProps();return i["createElement"](bi,Object.assign({},n,{id:this.internalMenuId,className:t,style:e}),this.props.children)}},{key:"renderChildren",value:function(){var t=this,e=this.getBaseProps(),n=e.mode,r=e.visible,o=e.forceSubMenuRender,a=e.direction,c=this.getMotion(n,r);if(this.haveRendered=!0,this.haveOpened=this.haveOpened||r||o,!this.haveOpened)return i["createElement"]("div",null);var l=d()("".concat(e.prefixCls,"-sub"),s({},"".concat(e.prefixCls,"-rtl"),"rtl"===a));return this.isInlineMode()?i["createElement"](Ke,Object.assign({visible:e.visible},c),(function(e){var n=e.className,r=e.style,i=d()(l,n);return t.renderPopupMenu(i,r)})):this.renderPopupMenu(l)}},{key:"render",value:function(){var t,e,n,r=h({},this.props),o=this.getVisible(),a=this.getPrefixCls(),c=this.isInlineMode(),l=this.getMode(),u=d()(a,"".concat(a,"-").concat(l),(t={},s(t,r.className,!!r.className),s(t,this.getOpenClassName(),o),s(t,this.getActiveClassName(),r.active||o&&!c),s(t,this.getDisabledClassName(),r.disabled),s(t,this.getSelectedClassName(),this.isChildrenSelected()),t));this.internalMenuId||(r.eventKey?this.internalMenuId="".concat(r.eventKey,"$Menu"):(ei+=1,this.internalMenuId="$__$".concat(ei,"$Menu")));var f={},p={},g={};r.disabled||(f={onMouseLeave:this.onMouseLeave,onMouseEnter:this.onMouseEnter},p={onClick:this.onTitleClick},g={onMouseEnter:this.onTitleMouseEnter,onMouseLeave:this.onTitleMouseLeave});var m={},v=r.direction,b="rtl"===v;c&&(b?m.paddingRight=r.inlineIndent*r.level:m.paddingLeft=r.inlineIndent*r.level);var y={};this.getVisible()&&(y={"aria-owns":this.internalMenuId});var w=null;"horizontal"!==l&&(w=this.props.expandIcon,"function"===typeof this.props.expandIcon&&(w=i["createElement"](this.props.expandIcon,h({},this.props))));var _=i["createElement"]("div",Object.assign({ref:this.saveSubMenuTitle,style:m,className:"".concat(a,"-title"),role:"button"},g,p,{"aria-expanded":o},y,{"aria-haspopup":"true",title:"string"===typeof r.title?r.title:void 0}),r.title,w||i["createElement"]("i",{className:"".concat(a,"-arrow")})),x=this.renderChildren(),S=(null===(e=r.parentMenu)||void 0===e?void 0:e.isRootMenu)?r.parentMenu.props.getPopupContainer:function(t){return t.parentNode},C=ni[l],E=r.popupOffset?{offset:r.popupOffset}:{},O=d()((n={},s(n,r.popupClassName,r.popupClassName&&!c),s(n,"".concat(a,"-rtl"),b),n)),k=r.disabled,T=r.triggerSubMenuAction,j=r.subMenuOpenDelay,M=r.forceSubMenuRender,A=r.subMenuCloseDelay,P=r.builtinPlacements;Yt.forEach((function(t){return delete r[t]})),delete r.onClick;var I=b?Object.assign({},ti,P):Object.assign({},Qr,P);delete r.direction;var R=this.getBaseProps(),D=c?null:this.getMotion(R.mode,R.visible);return i["createElement"]("li",Object.assign({},r,f,{className:u,role:"menuitem"}),i["createElement"](Zr,{prefixCls:a,popupClassName:d()("".concat(a,"-popup"),O),getPopupContainer:S,builtinPlacements:I,popupPlacement:C,popupVisible:!c&&o,popupAlign:E,popup:c?null:x,action:k||c?[]:[T],mouseEnterDelay:j,mouseLeaveDelay:A,onPopupVisibleChange:this.onPopupVisibleChange,forceRender:M,popupMotion:D},_),c?x:null)}}]),n}(i["Component"]);ii.defaultProps={onMouseEnter:Bt,onMouseLeave:Bt,onTitleMouseEnter:Bt,onTitleMouseLeave:Bt,onTitleClick:Bt,manualRef:Bt,mode:"vertical",title:""};var oi=pt((function(t,e){var n=t.openKeys,r=t.activeKey,i=t.selectedKeys,o=e.eventKey,a=e.subMenuKey;return{isOpen:n.indexOf(o)>-1,active:r[a]===o,selectedKeys:i}}))(ii);oi.isSubMenu=!0;var ai=oi,si="menuitem-overflowed",ci=.5,li=function(t){Object(j["default"])(n,t);var e=Object(M["default"])(n);function n(){var t;return Object(k["default"])(this,n),t=e.apply(this,arguments),t.resizeObserver=null,t.mutationObserver=null,t.originalTotalWidth=0,t.overflowedItems=[],t.menuItemSizes=[],t.cancelFrameId=null,t.state={lastVisibleIndex:void 0},t.childRef=i["createRef"](),t.getMenuItemNodes=function(){var e=t.props.prefixCls,n=t.childRef.current;return n?[].slice.call(n.children).filter((function(t){return t.className.split(" ").indexOf("".concat(e,"-overflowed-submenu"))<0})):[]},t.getOverflowedSubMenuItem=function(e,n,r){var o=t.props,a=o.overflowedIndicator,s=o.level,c=o.mode,u=o.prefixCls,f=o.theme;if(1!==s||"horizontal"!==c)return null;var d=t.props.children[0],p=d.props,g=(p.children,p.title,p.style),m=Object(l["a"])(p,["children","title","style"]),v=h({},g),b="".concat(e,"-overflowed-indicator"),y="".concat(e,"-overflowed-indicator");0===n.length&&!0!==r?v=h(h({},v),{},{display:"none"}):r&&(v=h(h({},v),{},{visibility:"hidden",position:"absolute"}),b="".concat(b,"-placeholder"),y="".concat(y,"-placeholder"));var w=f?"".concat(u,"-").concat(f):"",_={};return Yt.forEach((function(t){void 0!==m[t]&&(_[t]=m[t])})),i["createElement"](ai,Object.assign({title:a,className:"".concat(u,"-overflowed-submenu"),popupClassName:w},_,{key:b,eventKey:y,disabled:!1,style:v}),n)},t.setChildrenWidthAndResize=function(){if("horizontal"===t.props.mode){var e=t.childRef.current;if(e){var n=e.children;if(n&&0!==n.length){var r=e.children[n.length-1];Xt(r,"display","inline-block");var i=t.getMenuItemNodes(),o=i.filter((function(t){return t.className.split(" ").indexOf(si)>=0}));o.forEach((function(t){Xt(t,"display","inline-block")})),t.menuItemSizes=i.map((function(t){return Gt(t,!0)})),o.forEach((function(t){Xt(t,"display","none")})),t.overflowedIndicatorWidth=Gt(e.children[e.children.length-1],!0),t.originalTotalWidth=t.menuItemSizes.reduce((function(t,e){return t+e}),0),t.handleResize(),Xt(r,"display","none")}}}},t.handleResize=function(){if("horizontal"===t.props.mode){var e=t.childRef.current;if(e){var n=Gt(e);t.overflowedItems=[];var r,i=0;t.originalTotalWidth>n+ci&&(r=-1,t.menuItemSizes.forEach((function(e){i+=e,i+t.overflowedIndicatorWidth<=n&&(r+=1)}))),t.setState({lastVisibleIndex:r})}}},t}return Object(T["default"])(n,[{key:"componentDidMount",value:function(){var t=this;if(this.setChildrenWidthAndResize(),1===this.props.level&&"horizontal"===this.props.mode){var e=this.childRef.current;if(!e)return;this.resizeObserver=new z["a"]((function(e){e.forEach((function(){var e=t.cancelFrameId;cancelAnimationFrame(e),t.cancelFrameId=requestAnimationFrame(t.setChildrenWidthAndResize)}))})),[].slice.call(e.children).concat(e).forEach((function(e){t.resizeObserver.observe(e)})),"undefined"!==typeof MutationObserver&&(this.mutationObserver=new MutationObserver((function(){t.resizeObserver.disconnect(),[].slice.call(e.children).concat(e).forEach((function(e){t.resizeObserver.observe(e)})),t.setChildrenWidthAndResize()})),this.mutationObserver.observe(e,{attributes:!1,childList:!0,subTree:!1}))}}},{key:"componentWillUnmount",value:function(){this.resizeObserver&&this.resizeObserver.disconnect(),this.mutationObserver&&this.mutationObserver.disconnect(),cancelAnimationFrame(this.cancelFrameId)}},{key:"renderChildren",value:function(t){var e=this,n=this.state.lastVisibleIndex;return(t||[]).reduce((function(r,o,a){var s=o;if("horizontal"===e.props.mode){var c=e.getOverflowedSubMenuItem(o.props.eventKey,[]);void 0!==n&&-1!==e.props.className.indexOf("".concat(e.props.prefixCls,"-root"))&&(a>n&&(s=i["cloneElement"](o,{style:{display:"none"},eventKey:"".concat(o.props.eventKey,"-hidden"),className:"".concat(si)})),a===n+1&&(e.overflowedItems=t.slice(n+1).map((function(t){return i["cloneElement"](t,{key:t.props.eventKey,mode:"vertical-left"})})),c=e.getOverflowedSubMenuItem(o.props.eventKey,e.overflowedItems)));var l=[].concat(S(r),[c,s]);return a===t.length-1&&l.push(e.getOverflowedSubMenuItem(o.props.eventKey,[],!0)),l}return[].concat(S(r),[s])}),[])}},{key:"render",value:function(){var t=this.props,e=(t.visible,t.prefixCls,t.overflowedIndicator,t.mode,t.level,t.tag),n=t.children,r=(t.theme,Object(l["a"])(t,["visible","prefixCls","overflowedIndicator","mode","level","tag","children","theme"])),o=e;return i["createElement"](o,Object.assign({ref:this.childRef},r),this.renderChildren(n))}}]),n}(i["Component"]);li.defaultProps={tag:"div",className:""};var ui=li;function hi(t){return!t.length||t.every((function(t){return!!t.props.disabled}))}function fi(t,e,n){var r=t.getState();t.setState({activeKey:h(h({},r.activeKey),{},s({},e,n))})}function di(t){return t.eventKey||"0-menu-"}function pi(t,e){var n,r=e,i=t.children,o=t.eventKey;if(r&&(zt(i,(function(t,e){t&&t.props&&!t.props.disabled&&r===Ut(t,o,e)&&(n=!0)})),n))return r;return r=null,t.defaultActiveFirst?(zt(i,(function(t,e){r||!t||t.props.disabled||(r=Ut(t,o,e))})),r):r}function gi(t){if(t){var e=this.instanceArray.indexOf(t);-1!==e?this.instanceArray[e]=t:this.instanceArray.push(t)}}var mi=function(t){Object(j["default"])(n,t);var e=Object(M["default"])(n);function n(t){var r;return Object(k["default"])(this,n),r=e.call(this,t),r.onKeyDown=function(t,e){var n,i=t.keyCode;if(r.getFlatInstanceArray().forEach((function(e){e&&e.props.active&&e.onKeyDown&&(n=e.onKeyDown(t))})),n)return 1;var o=null;return i!==$.UP&&i!==$.DOWN||(o=r.step(i===$.UP?-1:1)),o?(t.preventDefault(),fi(r.props.store,di(r.props),o.props.eventKey),"function"===typeof e&&e(o),1):void 0},r.onItemHover=function(t){var e=t.key,n=t.hover;fi(r.props.store,di(r.props),n?e:null)},r.onDeselect=function(t){r.props.onDeselect(t)},r.onSelect=function(t){r.props.onSelect(t)},r.onClick=function(t){r.props.onClick(t)},r.onOpenChange=function(t){r.props.onOpenChange(t)},r.onDestroy=function(t){r.props.onDestroy(t)},r.getFlatInstanceArray=function(){return r.instanceArray},r.step=function(t){var e=r.getFlatInstanceArray(),n=r.props.store.getState().activeKey[di(r.props)],i=e.length;if(!i)return null;t<0&&(e=e.concat().reverse());var o=-1;if(e.every((function(t,e){return!t||t.props.eventKey!==n||(o=e,!1)})),r.props.defaultActiveFirst||-1===o||!hi(e.slice(o,i-1))){var a=(o+1)%i,s=a;do{var c=e[s];if(c&&!c.props.disabled)return c;s=(s+1)%i}while(s!==a);return null}},r.renderCommonMenuItem=function(t,e,n){var o=r.props.store.getState(),a=Object(nt["a"])(r),s=a.props,c=Ut(t,s.eventKey,e),l=t.props;if(!l||"string"===typeof t.type)return t;var u=c===o.activeKey,f=h(h({mode:l.mode||s.mode,level:s.level,inlineIndent:s.inlineIndent,renderMenuItem:r.renderMenuItem,rootPrefixCls:s.prefixCls,index:e,parentMenu:s.parentMenu,manualRef:l.disabled?void 0:wt(t.ref,gi.bind(Object(nt["a"])(r))),eventKey:c,active:!l.disabled&&u,multiple:s.multiple,onClick:function(t){(l.onClick||Bt)(t),r.onClick(t)},onItemHover:r.onItemHover,motion:s.motion,subMenuOpenDelay:s.subMenuOpenDelay,subMenuCloseDelay:s.subMenuCloseDelay,forceSubMenuRender:s.forceSubMenuRender,onOpenChange:r.onOpenChange,onDeselect:r.onDeselect,onSelect:r.onSelect,builtinPlacements:s.builtinPlacements,itemIcon:l.itemIcon||r.props.itemIcon,expandIcon:l.expandIcon||r.props.expandIcon},n),{},{direction:s.direction});return("inline"===s.mode||Vt())&&(f.triggerSubMenuAction="click"),i["cloneElement"](t,h(h({},f),{},{key:c||e}))},r.renderMenuItem=function(t,e,n){if(!t)return null;var i=r.props.store.getState(),o={openKeys:i.openKeys,selectedKeys:i.selectedKeys,triggerSubMenuAction:r.props.triggerSubMenuAction,subMenuKey:n};return r.renderCommonMenuItem(t,e,o)},t.store.setState({activeKey:h(h({},t.store.getState().activeKey),{},s({},t.eventKey,pi(t,t.activeKey)))}),r.instanceArray=[],r}return Object(T["default"])(n,[{key:"componentDidMount",value:function(){this.props.manualRef&&this.props.manualRef(this)}},{key:"shouldComponentUpdate",value:function(t){return this.props.visible||t.visible||this.props.className!==t.className||!st()(this.props.style,t.style)}},{key:"componentDidUpdate",value:function(t){var e=this.props,n="activeKey"in e?e.activeKey:e.store.getState().activeKey[di(e)],r=pi(e,n);if(r!==n)fi(e.store,di(e),r);else if("activeKey"in t){var i=pi(t,t.activeKey);r!==i&&fi(e.store,di(e),r)}}},{key:"render",value:function(){var t=this,e=Object(a["a"])({},this.props);this.instanceArray=[];var n=d()(e.prefixCls,e.className,"".concat(e.prefixCls,"-").concat(e.mode)),r={className:n,role:e.role||"menu"};e.id&&(r.id=e.id),e.focusable&&(r.tabIndex=0,r.onKeyDown=this.onKeyDown);var o=e.prefixCls,s=e.eventKey,c=e.visible,l=e.level,u=e.mode,h=e.overflowedIndicator,f=e.theme;return Yt.forEach((function(t){return delete e[t]})),delete e.onClick,i["createElement"](ui,Object.assign({},e,{prefixCls:o,mode:u,tag:"ul",level:l,theme:f,visible:c,overflowedIndicator:h},r),g(e.children).map((function(e,n){return t.renderMenuItem(e,n,s||"0-menu-")})))}}]),n}(i["Component"]);mi.defaultProps={prefixCls:"rc-menu",className:"",mode:"vertical",level:1,inlineIndent:24,visible:!0,focusable:!0,style:{},manualRef:Bt};var vi=pt()(mi),bi=vi;function yi(t,e,n){var r=t.prefixCls,i=t.motion,o=t.defaultMotions,a=void 0===o?{}:o,s=t.openAnimation,l=t.openTransitionName,u=e.switchingModeFromInline;if(i)return i;if("object"===Object(c["a"])(s)&&s)F(!1,"Object type of `openAnimation` is removed. Please use `motion` instead.");else if("string"===typeof s)return{motionName:"".concat(r,"-open-").concat(s)};if(l)return{motionName:l};var h=a[n];return h||(u?null:a.other)}var wi=function(t){Object(j["default"])(n,t);var e=Object(M["default"])(n);function n(t){var r;Object(k["default"])(this,n),r=e.call(this,t),r.onSelect=function(t){var e=Object(nt["a"])(r),n=e.props;if(n.selectable){var i=r.store.getState(),o=i.selectedKeys,a=t.key;o=n.multiple?o.concat([a]):[a],"selectedKeys"in n||r.store.setState({selectedKeys:o}),n.onSelect(h(h({},t),{},{selectedKeys:o}))}},r.onClick=function(t){var e=r.getRealMenuMode(),n=Object(nt["a"])(r),i=n.store,o=n.props.onOpenChange;"inline"===e||"openKeys"in r.props||(i.setState({openKeys:[]}),o([])),r.props.onClick(t)},r.onKeyDown=function(t,e){r.innerMenu.getWrappedInstance().onKeyDown(t,e)},r.onOpenChange=function(t){var e=Object(nt["a"])(r),n=e.props,i=r.store.getState().openKeys.concat(),o=!1,a=function(t){var e=!1;if(t.open)e=-1===i.indexOf(t.key),e&&i.push(t.key);else{var n=i.indexOf(t.key);e=-1!==n,e&&i.splice(n,1)}o=o||e};Array.isArray(t)?t.forEach(a):a(t),o&&("openKeys"in r.props||r.store.setState({openKeys:i}),n.onOpenChange(i))},r.onDeselect=function(t){var e=Object(nt["a"])(r),n=e.props;if(n.selectable){var i=r.store.getState().selectedKeys.concat(),o=t.key,a=i.indexOf(o);-1!==a&&i.splice(a,1),"selectedKeys"in n||r.store.setState({selectedKeys:i}),n.onDeselect(h(h({},t),{},{selectedKeys:i}))}},r.onMouseEnter=function(t){r.restoreModeVerticalFromInline();var e=r.props.onMouseEnter;e&&e(t)},r.onTransitionEnd=function(t){var e="width"===t.propertyName&&t.target===t.currentTarget,n=t.target.className,i="[object SVGAnimatedString]"===Object.prototype.toString.call(n)?n.animVal:n,o="font-size"===t.propertyName&&i.indexOf("anticon")>=0;(e||o)&&r.restoreModeVerticalFromInline()},r.setInnerMenu=function(t){r.innerMenu=t},r.isRootMenu=!0;var i=t.defaultSelectedKeys,o=t.defaultOpenKeys;return"selectedKeys"in t&&(i=t.selectedKeys||[]),"openKeys"in t&&(o=t.openKeys||[]),r.store=mt({selectedKeys:i,openKeys:o,activeKey:{"0-menu-":pi(t,t.activeKey)}}),r.state={switchingModeFromInline:!1,prevProps:t,inlineOpenKeys:[],store:r.store},r}return Object(T["default"])(n,[{key:"componentDidMount",value:function(){this.updateMiniStore(),this.updateMenuDisplay()}},{key:"componentDidUpdate",value:function(t){var e=this.props,n=e.siderCollapsed,r=e.inlineCollapsed,i=e.onOpenChange;(!t.inlineCollapsed&&r||!t.siderCollapsed&&n)&&i([]),this.updateMiniStore(),this.updateMenuDisplay()}},{key:"updateMenuDisplay",value:function(){var t=this.props.collapsedWidth,e=this.store,n=this.prevOpenKeys,r=this.getInlineCollapsed()&&(0===t||"0"===t||"0px"===t);r?(this.prevOpenKeys=e.getState().openKeys.concat(),this.store.setState({openKeys:[]})):n&&(this.store.setState({openKeys:n}),this.prevOpenKeys=null)}},{key:"getRealMenuMode",value:function(){var t=this.props.mode,e=this.state.switchingModeFromInline,n=this.getInlineCollapsed();return e&&n?"inline":n?"vertical":t}},{key:"getInlineCollapsed",value:function(){var t=this.props,e=t.inlineCollapsed,n=t.siderCollapsed;return void 0!==n?n:e}},{key:"restoreModeVerticalFromInline",value:function(){var t=this.state.switchingModeFromInline;t&&this.setState({switchingModeFromInline:!1})}},{key:"updateMiniStore",value:function(){"selectedKeys"in this.props&&this.store.setState({selectedKeys:this.props.selectedKeys||[]}),"openKeys"in this.props&&this.store.setState({openKeys:this.props.openKeys||[]})}},{key:"render",value:function(){var t=h({},yt(this.props,["collapsedWidth","siderCollapsed","defaultMotions"])),e=this.getRealMenuMode();return t.className+=" ".concat(t.prefixCls,"-root"),"rtl"===t.direction&&(t.className+=" ".concat(t.prefixCls,"-rtl")),t=h(h({},t),{},{mode:e,onClick:this.onClick,onOpenChange:this.onOpenChange,onDeselect:this.onDeselect,onSelect:this.onSelect,onMouseEnter:this.onMouseEnter,onTransitionEnd:this.onTransitionEnd,parentMenu:this,motion:yi(this.props,this.state,e)}),delete t.openAnimation,delete t.openTransitionName,i["createElement"](ot,{store:this.store},i["createElement"](bi,Object.assign({},t,{ref:this.setInnerMenu}),this.props.children))}}],[{key:"getDerivedStateFromProps",value:function(t,e){var n=e.prevProps,r=e.store,i=r.getState(),o={},a={prevProps:t};return"inline"===n.mode&&"inline"!==t.mode&&(a.switchingModeFromInline=!0),"openKeys"in t?o.openKeys=t.openKeys||[]:((t.inlineCollapsed&&!n.inlineCollapsed||t.siderCollapsed&&!n.siderCollapsed)&&(a.switchingModeFromInline=!0,a.inlineOpenKeys=i.openKeys,o.openKeys=[]),(!t.inlineCollapsed&&n.inlineCollapsed||!t.siderCollapsed&&n.siderCollapsed)&&(o.openKeys=e.inlineOpenKeys,a.inlineOpenKeys=[])),Object.keys(o).length&&r.setState(o),a}}]),n}(i["Component"]);wi.defaultProps={selectable:!0,onClick:Bt,onSelect:Bt,onOpenChange:Bt,onDeselect:Bt,defaultSelectedKeys:[],defaultOpenKeys:[],subMenuOpenDelay:.1,subMenuCloseDelay:.1,triggerSubMenuAction:"hover",prefixCls:"rc-menu",className:"",mode:"vertical",style:{},builtinPlacements:{},overflowedIndicator:i["createElement"]("span",null,"\xb7\xb7\xb7")};var _i=wi,xi=function(t){Object(j["default"])(n,t);var e=Object(M["default"])(n);function n(){var t;return Object(k["default"])(this,n),t=e.apply(this,arguments),t.onKeyDown=function(e){var n=e.keyCode;if(n===$.ENTER)return t.onClick(e),!0},t.onMouseLeave=function(e){var n=t.props,r=n.eventKey,i=n.onItemHover,o=n.onMouseLeave;i({key:r,hover:!1}),o({key:r,domEvent:e})},t.onMouseEnter=function(e){var n=t.props,r=n.eventKey,i=n.onItemHover,o=n.onMouseEnter;i({key:r,hover:!0}),o({key:r,domEvent:e})},t.onClick=function(e){var n=t.props,r=n.eventKey,i=n.multiple,o=n.onClick,a=n.onSelect,s=n.onDeselect,c=n.isSelected,l={key:r,keyPath:[r],item:Object(nt["a"])(t),domEvent:e};o(l),i?c?s(l):a(l):c||a(l)},t.saveNode=function(e){t.node=e},t}return Object(T["default"])(n,[{key:"componentDidMount",value:function(){this.callRef()}},{key:"componentDidUpdate",value:function(){this.callRef()}},{key:"componentWillUnmount",value:function(){var t=this.props;t.onDestroy&&t.onDestroy(t.eventKey)}},{key:"getPrefixCls",value:function(){return"".concat(this.props.rootPrefixCls,"-item")}},{key:"getActiveClassName",value:function(){return"".concat(this.getPrefixCls(),"-active")}},{key:"getSelectedClassName",value:function(){return"".concat(this.getPrefixCls(),"-selected")}},{key:"getDisabledClassName",value:function(){return"".concat(this.getPrefixCls(),"-disabled")}},{key:"callRef",value:function(){this.props.manualRef&&this.props.manualRef(this)}},{key:"render",value:function(){var t,e=h({},this.props),n=d()(this.getPrefixCls(),e.className,(t={},s(t,this.getActiveClassName(),!e.disabled&&e.active),s(t,this.getSelectedClassName(),e.isSelected),s(t,this.getDisabledClassName(),e.disabled),t)),r=h(h({},e.attribute),{},{title:"string"===typeof e.title?e.title:void 0,className:n,role:e.role||"menuitem","aria-disabled":e.disabled});"option"===e.role?r=h(h({},r),{},{role:"option","aria-selected":e.isSelected}):null!==e.role&&"none"!==e.role||(r.role="none");var o={onClick:e.disabled?null:this.onClick,onMouseLeave:e.disabled?null:this.onMouseLeave,onMouseEnter:e.disabled?null:this.onMouseEnter},a=h({},e.style);"inline"===e.mode&&("rtl"===e.direction?a.paddingRight=e.inlineIndent*e.level:a.paddingLeft=e.inlineIndent*e.level),Yt.forEach((function(t){return delete e[t]})),delete e.direction;var c=this.props.itemIcon;return"function"===typeof this.props.itemIcon&&(c=i["createElement"](this.props.itemIcon,this.props)),i["createElement"]("li",Object.assign({},yt(e,["onClick","onMouseEnter","onMouseLeave","onSelect"]),r,o,{style:a,ref:this.saveNode}),e.children,c)}}]),n}(i["Component"]);xi.isMenuItem=!0,xi.defaultProps={onSelect:Bt,onMouseEnter:Bt,onMouseLeave:Bt,manualRef:Bt};var Si=pt((function(t,e){var n=t.activeKey,r=t.selectedKeys,i=e.eventKey,o=e.subMenuKey;return{active:n[o]===i,isSelected:-1!==r.indexOf(i)}}))(xi),Ci=Si,Ei=function(t){Object(j["default"])(n,t);var e=Object(M["default"])(n);function n(){var t;return Object(k["default"])(this,n),t=e.apply(this,arguments),t.renderInnerMenuItem=function(e){var n=t.props,r=n.renderMenuItem,i=n.index;return r(e,i,t.props.subMenuKey)},t}return Object(T["default"])(n,[{key:"render",value:function(){var t=Object(a["a"])({},this.props),e=t.className,n=void 0===e?"":e,r=t.rootPrefixCls,o="".concat(r,"-item-group-title"),s="".concat(r,"-item-group-list"),c=t.title,l=t.children;return Yt.forEach((function(e){return delete t[e]})),delete t.onClick,delete t.direction,i["createElement"]("li",Object.assign({},t,{className:"".concat(n," ").concat(r,"-item-group")}),i["createElement"]("div",{className:o,title:"string"===typeof c?c:void 0},c),i["createElement"]("ul",{className:s},i["Children"].map(l,this.renderInnerMenuItem)))}}]),n}(i["Component"]);Ei.isMenuItemGroup=!0,Ei.defaultProps={disabled:!0};var Oi=function(t){var e=t.className,n=t.rootPrefixCls,r=t.style;return i["createElement"]("li",{className:"".concat(e," ").concat(n,"-item-divider"),style:r})};Oi.defaultProps={disabled:!0,className:"",style:{}};var ki=_i,Ti={adjustX:1,adjustY:1},ji=[0,0],Mi={topLeft:{points:["bl","tl"],overflow:Ti,offset:[0,-4],targetOffset:ji},topCenter:{points:["bc","tc"],overflow:Ti,offset:[0,-4],targetOffset:ji},topRight:{points:["br","tr"],overflow:Ti,offset:[0,-4],targetOffset:ji},bottomLeft:{points:["tl","bl"],overflow:Ti,offset:[0,4],targetOffset:ji},bottomCenter:{points:["tc","bc"],overflow:Ti,offset:[0,4],targetOffset:ji},bottomRight:{points:["tr","br"],overflow:Ti,offset:[0,4],targetOffset:ji}},Ai=Mi;function Pi(t,e){var n=t.arrow,o=void 0!==n&&n,a=t.prefixCls,c=void 0===a?"rc-dropdown":a,u=t.transitionName,h=t.animation,f=t.align,p=t.placement,g=void 0===p?"bottomLeft":p,m=t.placements,v=void 0===m?Ai:m,b=t.getPopupContainer,y=t.showAction,w=t.hideAction,_=t.overlayClassName,x=t.overlayStyle,S=t.visible,C=t.trigger,E=void 0===C?["hover"]:C,O=Object(l["a"])(t,["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger"]),k=i["useState"](),T=Object(r["a"])(k,2),j=T[0],M=T[1],A="visible"in t?S:j,P=i["useRef"](null);i["useImperativeHandle"](e,(function(){return P.current}));var I=function(){var e,n=t.overlay;return e="function"===typeof n?n():n,e},R=function(e){var n=t.onOverlayClick,r=I().props;M(!1),n&&n(e),r.onClick&&r.onClick(e)},D=function(e){var n=t.onVisibleChange;M(e),"function"===typeof n&&n(e)},L=function(){var t=I(),e={prefixCls:"".concat(c,"-menu"),onClick:R};return"string"===typeof t.type&&delete e.prefixCls,i["createElement"](i["Fragment"],null,o&&i["createElement"]("div",{className:"".concat(c,"-arrow")}),i["cloneElement"](t,e))},N=function(){var e=t.overlay;return"function"===typeof e?L:L()},F=function(){var e=t.minOverlayWidthMatchTrigger,n=t.alignPoint;return"minOverlayWidthMatchTrigger"in t?e:!n},B=function(){var e=t.openClassName;return void 0!==e?e:"".concat(c,"-open")},U=function(){var e=t.children,n=e.props?e.props:{},r=d()(n.className,B());return j&&e?i["cloneElement"](e,{className:r}):e},W=w;return W||-1===E.indexOf("contextMenu")||(W=["click"]),i["createElement"](Zr,Object.assign({},O,{prefixCls:c,ref:P,popupClassName:d()(_,s({},"".concat(c,"-show-arrow"),o)),popupStyle:x,builtinPlacements:v,action:E,showAction:y,hideAction:W||[],popupPlacement:g,popupAlign:f,popupTransitionName:u,popupAnimation:h,popupVisible:A,stretch:F()?"minWidth":"",popup:N(),onPopupVisibleChange:D,getPopupContainer:b}),U())}var Ii=i["forwardRef"](Pi),Ri=Ii;function Di(t,e){var n=t.prefixCls,r=t.editable,o=t.locale,a=t.style;return r&&!1!==r.showAdd?i["createElement"]("button",{ref:e,type:"button",className:"".concat(n,"-nav-add"),style:a,"aria-label":(null===o||void 0===o?void 0:o.addAriaLabel)||"Add tab",onClick:function(t){r.onEdit("add",{event:t})}},r.addIcon||"+"):null}var Li=i["forwardRef"](Di);function Ni(t,e){var n=t.prefixCls,o=t.id,a=t.tabs,c=t.locale,l=t.mobile,u=t.moreIcon,h=void 0===u?"More":u,f=t.moreTransitionName,p=t.style,g=t.className,m=t.editable,v=t.tabBarGutter,b=t.rtl,y=t.onTabClick,w=Object(i["useState"])(!1),_=Object(r["a"])(w,2),x=_[0],S=_[1],C=Object(i["useState"])(null),E=Object(r["a"])(C,2),O=E[0],k=E[1],T="".concat(o,"-more-popup"),j="".concat(n,"-dropdown"),M=null!==O?"".concat(T,"-").concat(O):null,A=null===c||void 0===c?void 0:c.dropdownAriaLabel,P=i["createElement"](ki,{onClick:function(t){var e=t.key,n=t.domEvent;y(e,n),S(!1)},id:T,tabIndex:-1,role:"listbox","aria-activedescendant":M,selectedKeys:[O],"aria-label":void 0!==A?A:"expanded dropdown"},a.map((function(t){return i["createElement"](Ci,{key:t.key,id:"".concat(T,"-").concat(t.key),role:"option","aria-controls":o&&"".concat(o,"-panel-").concat(t.key),disabled:t.disabled},t.tab)})));function I(t){for(var e=a.filter((function(t){return!t.disabled})),n=e.findIndex((function(t){return t.key===O}))||0,r=e.length,i=0;i<r;i+=1){n=(n+t+r)%r;var o=e[n];if(!o.disabled)return void k(o.key)}}function R(t){var e=t.which;if(x)switch(e){case $.UP:I(-1),t.preventDefault();break;case $.DOWN:I(1),t.preventDefault();break;case $.ESC:S(!1);break;case $.SPACE:case $.ENTER:null!==O&&y(O,t);break}else[$.DOWN,$.SPACE,$.ENTER].includes(e)&&(S(!0),t.preventDefault())}Object(i["useEffect"])((function(){var t=document.getElementById(M);t&&t.scrollIntoView&&t.scrollIntoView(!1)}),[O]),Object(i["useEffect"])((function(){x||k(null)}),[x]);var D=s({},b?"marginLeft":"marginRight",v);a.length||(D.visibility="hidden",D.order=1);var L=d()(s({},"".concat(j,"-rtl"),b)),N=l?null:i["createElement"](Ri,{prefixCls:j,overlay:P,trigger:["hover"],visible:x,transitionName:f,onVisibleChange:S,overlayClassName:L,mouseEnterDelay:.1,mouseLeaveDelay:.1},i["createElement"]("button",{type:"button",className:"".concat(n,"-nav-more"),style:D,tabIndex:-1,"aria-hidden":"true","aria-haspopup":"listbox","aria-controls":T,id:"".concat(o,"-more"),"aria-expanded":x,onKeyDown:R},h));return i["createElement"]("div",{className:d()("".concat(n,"-nav-operations"),g),style:p,ref:e},N,i["createElement"](Li,{prefixCls:n,locale:c,editable:m}))}var Fi=i["forwardRef"](Ni),Bi=Object(i["createContext"])(null),Ui=.1,Wi=.01,zi=20,Hi=Math.pow(.995,zi);function Yi(t,e){var n=Object(i["useState"])(),o=Object(r["a"])(n,2),a=o[0],s=o[1],c=Object(i["useState"])(0),l=Object(r["a"])(c,2),u=l[0],h=l[1],f=Object(i["useState"])(0),d=Object(r["a"])(f,2),p=d[0],g=d[1],m=Object(i["useState"])(),v=Object(r["a"])(m,2),b=v[0],y=v[1],w=Object(i["useRef"])();function _(t){var e=t.touches[0],n=e.screenX,r=e.screenY;s({x:n,y:r}),window.clearInterval(w.current)}function x(t){if(a){t.preventDefault();var n=t.touches[0],r=n.screenX,i=n.screenY;s({x:r,y:i});var o=r-a.x,c=i-a.y;e(o,c);var l=Date.now();h(l),g(l-u),y({x:o,y:c})}}function S(){if(a&&(s(null),y(null),b)){var t=b.x/p,n=b.y/p,r=Math.abs(t),i=Math.abs(n);if(Math.max(r,i)<Ui)return;var o=t,c=n;w.current=window.setInterval((function(){Math.abs(o)<Wi&&Math.abs(c)<Wi?window.clearInterval(w.current):(o*=Hi,c*=Hi,e(o*zi,c*zi))}),zi)}}var C=Object(i["useRef"])();function E(t){var n=t.deltaX,r=t.deltaY,i=0,o=Math.abs(n),a=Math.abs(r);o===a?i="x"===C.current?n:r:o>a?(i=n,C.current="x"):(i=r,C.current="y"),e(-i,-i)&&t.preventDefault()}var O=Object(i["useRef"])(null);O.current={onTouchStart:_,onTouchMove:x,onTouchEnd:S,onWheel:E},i["useEffect"]((function(){function e(t){O.current.onTouchStart(t)}function n(t){O.current.onTouchMove(t)}function r(t){O.current.onTouchEnd(t)}function i(t){O.current.onWheel(t)}return document.addEventListener("touchmove",n,{passive:!1}),document.addEventListener("touchend",r,{passive:!1}),t.current.addEventListener("touchstart",e,{passive:!1}),t.current.addEventListener("wheel",i),function(){document.removeEventListener("touchmove",n),document.removeEventListener("touchend",r)}}),[])}function Gi(){var t=Object(i["useRef"])(new Map);function e(e){return t.current.has(e)||t.current.set(e,i["createRef"]()),t.current.get(e)}function n(e){t.current["delete"](e)}return[e,n]}function Xi(t,e){var n=i["useRef"](t),o=i["useState"]({}),a=Object(r["a"])(o,2),s=a[1];function c(t){var r="function"===typeof t?t(n.current):t;r!==n.current&&e(r,n.current),n.current=r,s({})}return[n.current,c]}var Vi=function(t){var e,n=t.position,r=t.prefixCls,o=t.extra;if(!o)return null;var a=o;return"right"===n&&(e=a.right||!a.left&&a||null),"left"===n&&(e=a.left||null),e?i["createElement"]("div",{className:"".concat(r,"-extra-content")},e):null};function Ki(t,e){var n,o=i["useContext"](Bi),c=o.prefixCls,l=o.tabs,u=t.className,f=t.style,p=t.id,g=t.animated,m=t.activeKey,v=t.rtl,b=t.extra,y=t.editable,w=t.locale,_=t.tabPosition,x=t.tabBarGutter,C=t.children,E=t.onTabClick,k=t.onTabScroll,T=Object(i["useRef"])(),j=Object(i["useRef"])(),M=Object(i["useRef"])(),A=Object(i["useRef"])(),P=Gi(),I=Object(r["a"])(P,2),R=I[0],D=I[1],L="top"===_||"bottom"===_,N=Xi(0,(function(t,e){L&&k&&k({direction:t>e?"left":"right"})})),F=Object(r["a"])(N,2),B=F[0],U=F[1],W=Xi(0,(function(t,e){!L&&k&&k({direction:t>e?"top":"bottom"})})),z=Object(r["a"])(W,2),H=z[0],Y=z[1],K=Object(i["useState"])(0),$=Object(r["a"])(K,2),q=$[0],J=$[1],tt=Object(i["useState"])(0),nt=Object(r["a"])(tt,2),rt=nt[0],it=nt[1],ot=Object(i["useState"])(0),at=Object(r["a"])(ot,2),st=at[0],ct=at[1],lt=Object(i["useState"])(0),ut=Object(r["a"])(lt,2),ht=ut[0],ft=ut[1],dt=Object(i["useState"])(null),pt=Object(r["a"])(dt,2),gt=pt[0],mt=pt[1],vt=Object(i["useState"])(null),bt=Object(r["a"])(vt,2),yt=bt[0],wt=bt[1],_t=Object(i["useState"])(0),xt=Object(r["a"])(_t,2),St=xt[0],Ct=xt[1],Et=Object(i["useState"])(0),Ot=Object(r["a"])(Et,2),kt=Ot[0],Tt=Ot[1],jt=V(new Map),Mt=Object(r["a"])(jt,2),At=Mt[0],Pt=Mt[1],It=Q(l,At,q),Rt="".concat(c,"-nav-operations-hidden"),Dt=0,Lt=0;function Nt(t){return t<Dt?Dt:t>Lt?Lt:t}L?v?(Dt=0,Lt=Math.max(0,q-gt)):(Dt=Math.min(0,gt-q),Lt=0):(Dt=Math.min(0,yt-rt),Lt=0);var Ft=Object(i["useRef"])(),Bt=Object(i["useState"])(),Ut=Object(r["a"])(Bt,2),Wt=Ut[0],zt=Ut[1];function Ht(){zt(Date.now())}function Yt(){window.clearTimeout(Ft.current)}function Gt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,e=It.get(t)||{width:0,height:0,left:0,right:0,top:0};if(L){var n=B;v?e.right<B?n=e.right:e.right+e.width>B+gt&&(n=e.right+e.width-gt):e.left<-B?n=-e.left:e.left+e.width>-B+gt&&(n=-(e.left+e.width-gt)),Y(0),U(Nt(n))}else{var r=H;e.top<-H?r=-e.top:e.top+e.height>-H+yt&&(r=-(e.top+e.height-yt)),U(0),Y(Nt(r))}}Yi(T,(function(t,e){function n(t,e){t((function(t){var n=Nt(t+e);return n}))}if(L){if(gt>=q)return!1;n(U,t)}else{if(yt>=rt)return!1;n(Y,e)}return Yt(),Ht(),!0})),Object(i["useEffect"])((function(){return Yt(),Wt&&(Ft.current=window.setTimeout((function(){zt(0)}),100)),Yt}),[Wt]);var Xt=et(It,{width:gt,height:yt,left:B,top:H},{width:st,height:ht},{width:St,height:kt},h(h({},t),{},{tabs:l})),Vt=Object(r["a"])(Xt,2),Kt=Vt[0],$t=Vt[1],qt=l.map((function(t){var e=t.key;return i["createElement"](Z,{id:p,prefixCls:c,key:e,rtl:v,tab:t,closable:t.closable,editable:y,active:e===m,tabPosition:_,tabBarGutter:x,renderWrapper:C,removeAriaLabel:null===w||void 0===w?void 0:w.removeAriaLabel,ref:R(e),onClick:function(t){E(e,t)},onRemove:function(){D(e)},onFocus:function(){Gt(e),Ht(),v||(T.current.scrollLeft=0),T.current.scrollTop=0}})})),Zt=X((function(){var t,e,n,r,i,o,a,s,c,u=(null===(t=T.current)||void 0===t?void 0:t.offsetWidth)||0,h=(null===(e=T.current)||void 0===e?void 0:e.offsetHeight)||0,f=(null===(n=A.current)||void 0===n?void 0:n.offsetWidth)||0,d=(null===(r=A.current)||void 0===r?void 0:r.offsetHeight)||0,p=(null===(i=M.current)||void 0===i?void 0:i.offsetWidth)||0,g=(null===(o=M.current)||void 0===o?void 0:o.offsetHeight)||0;mt(u),wt(h),Ct(f),Tt(d);var m=((null===(a=j.current)||void 0===a?void 0:a.offsetWidth)||0)-f,v=((null===(s=j.current)||void 0===s?void 0:s.offsetHeight)||0)-d;J(m),it(v);var b=null===(c=M.current)||void 0===c?void 0:c.className.includes(Rt);ct(m-(b?0:p)),ft(v-(b?0:g)),Pt((function(){var t=new Map;return l.forEach((function(e){var n=e.key,r=R(n).current;r&&t.set(n,{width:r.offsetWidth,height:r.offsetHeight,left:r.offsetLeft,top:r.offsetTop})})),t}))})),Jt=l.slice(0,Kt),Qt=l.slice($t+1),te=[].concat(S(Jt),S(Qt)),ee=Object(i["useState"])(),ne=Object(r["a"])(ee,2),re=ne[0],ie=ne[1],oe=It.get(m),ae=Object(i["useRef"])();function se(){O.cancel(ae.current)}Object(i["useEffect"])((function(){var t={};return oe&&(L?(v?t.right=oe.right:t.left=oe.left,t.width=oe.width):(t.top=oe.top,t.height=oe.height)),se(),ae.current=O((function(){ie(t)})),se}),[oe,L,v]),Object(i["useEffect"])((function(){Gt()}),[m,oe,It,L]),Object(i["useEffect"])((function(){Zt()}),[v,x,m,l.map((function(t){return t.key})).join("_")]);var ce,le,ue,he,fe=!!te.length,de="".concat(c,"-nav-wrap");return L?v?(le=B>0,ce=B+gt<q):(ce=B<0,le=-B+gt<q):(ue=H<0,he=-H+yt<rt),i["createElement"]("div",{ref:e,role:"tablist",className:d()("".concat(c,"-nav"),u),style:f,onKeyDown:function(){Ht()}},i["createElement"](Vi,{position:"left",extra:b,prefixCls:c}),i["createElement"](G,{onResize:Zt},i["createElement"]("div",{className:d()(de,(n={},s(n,"".concat(de,"-ping-left"),ce),s(n,"".concat(de,"-ping-right"),le),s(n,"".concat(de,"-ping-top"),ue),s(n,"".concat(de,"-ping-bottom"),he),n)),ref:T},i["createElement"](G,{onResize:Zt},i["createElement"]("div",{ref:j,className:"".concat(c,"-nav-list"),style:{transform:"translate(".concat(B,"px, ").concat(H,"px)"),transition:Wt?"none":void 0}},qt,i["createElement"](Li,{ref:A,prefixCls:c,locale:w,editable:y,style:{visibility:fe?"hidden":null}}),i["createElement"]("div",{className:d()("".concat(c,"-ink-bar"),s({},"".concat(c,"-ink-bar-animated"),g.inkBar)),style:re}))))),i["createElement"](Fi,Object(a["a"])({},t,{ref:M,prefixCls:c,tabs:te,className:!fe&&Rt})),i["createElement"](Vi,{position:"right",extra:b,prefixCls:c}))}var $i=i["forwardRef"](Ki);function qi(t){var e=t.id,n=t.activeKey,r=t.animated,o=t.tabPosition,a=t.rtl,c=t.destroyInactiveTabPane,l=i["useContext"](Bi),u=l.prefixCls,h=l.tabs,f=r.tabPane,p=h.findIndex((function(t){return t.key===n}));return i["createElement"]("div",{className:d()("".concat(u,"-content-holder"))},i["createElement"]("div",{className:d()("".concat(u,"-content"),"".concat(u,"-content-").concat(o),s({},"".concat(u,"-content-animated"),f)),style:p&&f?s({},a?"marginRight":"marginLeft","-".concat(p,"00%")):null},h.map((function(t){return i["cloneElement"](t.node,{key:t.key,prefixCls:u,tabKey:t.key,id:e,animated:f,active:t.key===n,destroyInactiveTabPane:c})}))))}function Zi(t){var e=t.prefixCls,n=t.forceRender,o=t.className,a=t.style,s=t.id,c=t.active,l=t.animated,u=t.destroyInactiveTabPane,f=t.tabKey,p=t.children,g=i["useState"](n),m=Object(r["a"])(g,2),v=m[0],b=m[1];i["useEffect"]((function(){c?b(!0):u&&b(!1)}),[c,u]);var y={};return c||(l?(y.visibility="hidden",y.height=0,y.overflowY="hidden"):y.display="none"),i["createElement"]("div",{id:s&&"".concat(s,"-panel-").concat(f),role:"tabpanel",tabIndex:c?0:-1,"aria-labelledby":s&&"".concat(s,"-tab-").concat(f),"aria-hidden":!c,style:h(h({},y),a),className:d()("".concat(e,"-tabpane"),c&&"".concat(e,"-tabpane-active"),o)},(c||v||n)&&p)}var Ji=0;function Qi(t){return g(t).map((function(t){if(i["isValidElement"](t)){var e=void 0!==t.key?String(t.key):void 0;return h(h({key:e},t.props),{},{node:t})}return null})).filter((function(t){return t}))}function to(t,e){var n,o,u=t.id,f=t.prefixCls,p=void 0===f?"rc-tabs":f,g=t.className,b=t.children,y=t.direction,w=t.activeKey,_=t.defaultActiveKey,x=t.editable,S=t.animated,C=void 0===S?{inkBar:!0,tabPane:!1}:S,E=t.tabPosition,O=void 0===E?"top":E,k=t.tabBarGutter,T=t.tabBarStyle,j=t.tabBarExtraContent,M=t.locale,A=t.moreIcon,P=t.moreTransitionName,I=t.destroyInactiveTabPane,R=t.renderTabBar,D=t.onChange,L=t.onTabClick,N=t.onTabScroll,F=Object(l["a"])(t,["id","prefixCls","className","children","direction","activeKey","defaultActiveKey","editable","animated","tabPosition","tabBarGutter","tabBarStyle","tabBarExtraContent","locale","moreIcon","moreTransitionName","destroyInactiveTabPane","renderTabBar","onChange","onTabClick","onTabScroll"]),B=Qi(b),U="rtl"===y;o=!1===C?{inkBar:!1,tabPane:!1}:!0===C?{inkBar:!0,tabPane:!0}:h({inkBar:!0,tabPane:!1},"object"===Object(c["a"])(C)?C:{});var W=Object(i["useState"])(!1),z=Object(r["a"])(W,2),H=z[0],Y=z[1];Object(i["useEffect"])((function(){Y(m())}),[]);var G=v((function(){var t;return null===(t=B[0])||void 0===t?void 0:t.key}),{value:w,defaultValue:_}),X=Object(r["a"])(G,2),V=X[0],K=X[1],$=Object(i["useState"])((function(){return B.findIndex((function(t){return t.key===V}))})),q=Object(r["a"])($,2),Z=q[0],J=q[1];Object(i["useEffect"])((function(){var t,e=B.findIndex((function(t){return t.key===V}));-1===e&&(e=Math.max(0,Math.min(Z,B.length-1)),K(null===(t=B[e])||void 0===t?void 0:t.key));J(e)}),[B.map((function(t){return t.key})).join("_"),V,Z]);var Q=v(null,{value:u}),tt=Object(r["a"])(Q,2),et=tt[0],nt=tt[1],rt=O;function it(t,e){null===L||void 0===L||L(t,e),K(t),null===D||void 0===D||D(t)}H&&!["left","right"].includes(O)&&(rt="top"),Object(i["useEffect"])((function(){u||(nt("rc-tabs-".concat(Ji)),Ji+=1)}),[]);var ot,at={id:et,activeKey:V,animated:o,tabPosition:rt,rtl:U,mobile:H},st=h(h({},at),{},{editable:x,locale:M,moreIcon:A,moreTransitionName:P,tabBarGutter:k,onTabClick:it,onTabScroll:N,extra:j,style:T,panes:b});return ot=R?R(st,$i):i["createElement"]($i,st),i["createElement"](Bi.Provider,{value:{tabs:B,prefixCls:p}},i["createElement"]("div",Object(a["a"])({ref:e,id:u,className:d()(p,"".concat(p,"-").concat(rt),(n={},s(n,"".concat(p,"-mobile"),H),s(n,"".concat(p,"-editable"),x),s(n,"".concat(p,"-rtl"),U),n),g)},F),ot,i["createElement"](qi,Object(a["a"])({destroyInactiveTabPane:I},at,{animated:o}))))}var eo=i["forwardRef"](to);eo.TabPane=Zi;var no=eo,ro=no,io=n("9kvl"),oo=n("dEAq"),ao=n("ZpkN");n("TIsu");function so(t,e){var n,r=null===(n=t.match(/\.(\w+)$/))||void 0===n?void 0:n[1];return r||(r=e.tsx?"tsx":"jsx"),r}var co=t=>{var e,n,a,s=Object(i["useRef"])(),c=Object(i["useContext"])(oo["context"]),l=c.locale,u=Object(oo["useLocaleProps"])(l,t),h=Object(oo["useDemoUrl"])(u.identifier),f=u.demoUrl||h,d=(null===io["a"]||void 0===io["a"]?void 0:io["a"].location.hash)==="#".concat(u.identifier),p=1===Object.keys(u.sources).length,g=Object(oo["useCodeSandbox"])((null===(e=u.hideActions)||void 0===e?void 0:e.includes("CSB"))?null:u),m=Object(oo["useRiddle"])((null===(n=u.hideActions)||void 0===n?void 0:n.includes("RIDDLE"))?null:u),v=Object(oo["useMotions"])(u.motions||[],s.current),b=Object(r["a"])(v,2),y=b[0],w=b[1],_=Object(oo["useCopy"])(),x=Object(r["a"])(_,2),S=x[0],C=x[1],E=Object(i["useState"])("_"),O=Object(r["a"])(E,2),k=O[0],T=O[1],j=Object(i["useState"])(so(k,u.sources[k])),M=Object(r["a"])(j,2),A=M[0],P=M[1],I=Object(i["useState"])(Boolean(u.defaultShowCode)),R=Object(r["a"])(I,2),D=R[0],L=R[1],N=Object(i["useState"])(Math.random()),F=Object(r["a"])(N,2),B=F[0],U=F[1],W=u.sources[k][A]||u.sources[k].content,z=Object(oo["useTSPlaygroundUrl"])(l,W);function H(t){T(t),P(so(t,u.sources[t]))}return o.a.createElement("div",{style:u.style,className:[u.className,"__dumi-default-previewer",d?"__dumi-default-previewer-target":""].filter(Boolean).join(" "),id:u.identifier,"data-debug":u.debug||void 0,"data-iframe":u.iframe||void 0},u.iframe&&o.a.createElement("div",{className:"__dumi-default-previewer-browser-nav"}),o.a.createElement("div",{ref:s,className:"__dumi-default-previewer-demo",style:{transform:u.transform?"translate(0, 0)":void 0,padding:u.compact||u.iframe&&!1!==u.compact?"0":void 0,background:u.background}},u.iframe?o.a.createElement("iframe",{title:"dumi-previewer",style:{height:String(u.iframe).replace(/(\d)$/,"$1px")},key:B,src:f}):u.children),o.a.createElement("div",{className:"__dumi-default-previewer-desc","data-title":u.title},u.title&&o.a.createElement(oo["AnchorLink"],{to:"#".concat(u.identifier)},u.title),u.description&&o.a.createElement("div",{dangerouslySetInnerHTML:{__html:u.description}})),o.a.createElement("div",{className:"__dumi-default-previewer-actions"},g&&o.a.createElement("button",{title:"Open demo on CodeSandbox.io",className:"__dumi-default-icon",role:"codesandbox",onClick:g}),m&&o.a.createElement("button",{title:"Open demo on Riddle",className:"__dumi-default-icon",role:"riddle",onClick:m}),u.motions&&o.a.createElement("button",{title:"Execute motions",className:"__dumi-default-icon",role:"motions",disabled:w,onClick:()=>y()}),u.iframe&&o.a.createElement("button",{title:"Reload demo iframe page",className:"__dumi-default-icon",role:"refresh",onClick:()=>U(Math.random())}),!(null===(a=u.hideActions)||void 0===a?void 0:a.includes("EXTERNAL"))&&o.a.createElement(oo["Link"],{target:"_blank",to:f},o.a.createElement("button",{title:"Open demo in new tab",className:"__dumi-default-icon",role:"open-demo",type:"button"})),o.a.createElement("span",null),o.a.createElement("button",{title:"Copy source code",className:"__dumi-default-icon",role:"copy","data-status":C,onClick:()=>S(W)}),"tsx"===A&&D&&o.a.createElement(oo["Link"],{target:"_blank",to:z},o.a.createElement("button",{title:"Get JSX via TypeScript Playground",className:"__dumi-default-icon",role:"change-tsx",type:"button"})),o.a.createElement("button",{title:"Toggle source code panel",className:"__dumi-default-icon".concat(D?" __dumi-default-btn-expand":""),role:"source",type:"button",onClick:()=>L(!D)})),D&&o.a.createElement("div",{className:"__dumi-default-previewer-source-wrapper"},!p&&o.a.createElement(ro,{className:"__dumi-default-previewer-source-tab",prefixCls:"__dumi-default-tabs",moreIcon:"\xb7\xb7\xb7",defaultActiveKey:k,onChange:H},Object.keys(u.sources).map((t=>o.a.createElement(Zi,{tab:"_"===t?"index.".concat(so(t,u.sources[t])):t,key:t})))),o.a.createElement("div",{className:"__dumi-default-previewer-source"},o.a.createElement(ao["a"],{code:W,lang:A,showCopy:!1}))))};e["default"]=co},1:function(t,e,n){t.exports=n("tB8F")},"16Al":function(t,e,n){"use strict";var r=n("WbBG");function i(){}function o(){}o.resetWarningCache=i,t.exports=function(){function t(t,e,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},"17x9":function(t,e,n){t.exports=n("16Al")()},"1Cbe":function(t,e,n){var r=n("2kyd"),i=r("toStringTag"),o={};o[i]="z",t.exports="[object z]"===String(o)},"1H91":function(t,e,n){"use strict";var r=n("7BAe"),i=n("cTDu"),o=n("Y3g6"),a=n("bF+Q"),s=n("oa35"),c=n("arQb"),l=n("9SZg");t.exports=function(t){var e,n,u,h,f,d,p=i(t),g="function"==typeof this?this:Array,m=arguments.length,v=m>1?arguments[1]:void 0,b=void 0!==v,y=l(p),w=0;if(b&&(v=r(v,m>2?arguments[2]:void 0,2)),void 0==y||g==Array&&a(y))for(e=s(p.length),n=new g(e);e>w;w++)d=b?v(p[w],w):p[w],c(n,w,d);else for(h=y.call(p),f=h.next,n=new g;!(u=f.call(h)).done;w++)d=b?o(h,v,[u.value,w],!0):u.value,c(n,w,d);return n.length=w,n}},"1OyB":function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.r(e),n.d(e,"default",(function(){return r}))},"1aI8":function(t,e,n){var r,i,o,a=n("ZkJ9"),s=n("ukPv"),c=n("tSXo"),l=n("lz10"),u=n("jtLI"),h=n("CjUg"),f=n("6ixQ"),d=s.WeakMap,p=function(t){return o(t)?i(t):r(t,{})},g=function(t){return function(e){var n;if(!c(e)||(n=i(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}};if(a){var m=new d,v=m.get,b=m.has,y=m.set;r=function(t,e){return y.call(m,t,e),e},i=function(t){return v.call(m,t)||{}},o=function(t){return b.call(m,t)}}else{var w=h("state");f[w]=!0,r=function(t,e){return l(t,w,e),e},i=function(t){return u(t,w)?t[w]:{}},o=function(t){return u(t,w)}}t.exports={set:r,get:i,has:o,enforce:p,getterFor:g}},"1jPx":function(t,e,n){"use strict";var r=n("8OQV"),i=n("FVwB").exportTypedArrayStaticMethod,o=n("Sn4z");i("from",o,r)},"1nhP":function(t,e,n){var r=n("m0kY");t.exports=function(t){var e=r(t);if(e<0)throw RangeError("The argument can't be less than 0");return e}},"1vuE":function(t,e,n){var r=n("eNh0");r("flat")},2:function(t,e){},"284h":function(t,e,n){var r=n("cDf5");function i(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return i=function(){return t},t}function o(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var e=i();if(e&&e.has(t))return e.get(t);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){var s=o?Object.getOwnPropertyDescriptor(t,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=t[a]}return n["default"]=t,e&&e.set(t,n),n}t.exports=o},"29mP":function(t,e,n){var r=n("nFn1"),i=n("ukPv"),o=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?o(r[t])||o(i[t]):r[t]&&r[t][e]||i[t]&&i[t][e]}},"2FZw":function(t,e,n){var r=n("oa35"),i=n("+rjg"),o=n("FCfD"),a=Math.ceil,s=function(t){return function(e,n,s){var c,l,u=String(o(e)),h=u.length,f=void 0===s?" ":String(s),d=r(n);return d<=h||""==f?u:(c=d-h,l=i.call(f,a(c/f.length)),l.length>c&&(l=l.slice(0,c)),t?u+l:l+u)}};t.exports={start:s(!1),end:s(!0)}},"2KAr":function(t,e,n){var r=n("tny8"),i=n("YfKC"),o=n("k/J9"),a=n("M8HR").UNSUPPORTED_Y;r&&("g"!=/./g.flags||a)&&i.f(RegExp.prototype,"flags",{configurable:!0,get:o})},"2Tiy":function(t,e,n){var r=n("tjlA").Buffer;t.exports=function(t){if(t instanceof Uint8Array){if(0===t.byteOffset&&t.byteLength===t.buffer.byteLength)return t.buffer;if("function"===typeof t.buffer.slice)return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}if(r.isBuffer(t)){for(var e=new Uint8Array(t.length),n=t.length,i=0;i<n;i++)e[i]=t[i];return e.buffer}throw new Error("Argument must be a Buffer")}},"2aV/":function(t,e,n){"use strict";var r=n("MMxC"),i=n("Zcjx"),o=n("29mP"),a=n("f1E4"),s=n("cT1L"),c=n("7BAe"),l=n("/dTS"),u=n("PPXv"),h=n("IuhT");r({target:"Map",proto:!0,real:!0,forced:i},{mapValues:function(t){var e=a(this),n=u(e),r=c(t,arguments.length>1?arguments[1]:void 0,3),i=new(l(e,o("Map"))),f=s(i.set);return h(n,(function(t,n){f.call(i,t,r(n,t,e))}),void 0,!0,!0),i}})},"2kyd":function(t,e,n){var r=n("ukPv"),i=n("xxaU"),o=n("jtLI"),a=n("evbn"),s=n("Fs9M"),c=n("wgKq"),l=i("wks"),u=r.Symbol,h=c?u:u&&u.withoutSetter||a;t.exports=function(t){return o(l,t)||(s&&o(u,t)?l[t]=u[t]:l[t]=h("Symbol."+t)),l[t]}},"2mql":function(t,e,n){"use strict";var r=n("TOwV"),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},c={};function l(t){return r.isMemo(t)?s:c[t["$$typeof"]]||i}c[r.ForwardRef]=a,c[r.Memo]=s;var u=Object.defineProperty,h=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,g=Object.prototype;function m(t,e,n){if("string"!==typeof e){if(g){var r=p(e);r&&r!==g&&m(t,r,n)}var i=h(e);f&&(i=i.concat(f(e)));for(var a=l(t),s=l(e),c=0;c<i.length;++c){var v=i[c];if(!o[v]&&(!n||!n[v])&&(!s||!s[v])&&(!a||!a[v])){var b=d(e,v);try{u(t,v,b)}catch(y){}}}}return t}t.exports=m},3:function(t,e){},"33TD":function(t,e,n){"use strict";var r=n("1Cbe"),i=n("Ei+o");t.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},"33yf":function(t,e,n){(function(t){function n(t,e){for(var n=0,r=t.length-1;r>=0;r--){var i=t[r];"."===i?t.splice(r,1):".."===i?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function r(t){"string"!==typeof t&&(t+="");var e,n=0,r=-1,i=!0;for(e=t.length-1;e>=0;--e)if(47===t.charCodeAt(e)){if(!i){n=e+1;break}}else-1===r&&(i=!1,r=e+1);return-1===r?"":t.slice(n,r)}function i(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}e.resolve=function(){for(var e="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var a=o>=0?arguments[o]:t.cwd();if("string"!==typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(e=a+"/"+e,r="/"===a.charAt(0))}return e=n(i(e.split("/"),(function(t){return!!t})),!r).join("/"),(r?"/":"")+e||"."},e.normalize=function(t){var r=e.isAbsolute(t),a="/"===o(t,-1);return t=n(i(t.split("/"),(function(t){return!!t})),!r).join("/"),t||r||(t="."),t&&a&&(t+="/"),(r?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(i(t,(function(t,e){if("string"!==typeof t)throw new TypeError("Arguments to path.join must be strings");return t})).join("/"))},e.relative=function(t,n){function r(t){for(var e=0;e<t.length;e++)if(""!==t[e])break;for(var n=t.length-1;n>=0;n--)if(""!==t[n])break;return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var i=r(t.split("/")),o=r(n.split("/")),a=Math.min(i.length,o.length),s=a,c=0;c<a;c++)if(i[c]!==o[c]){s=c;break}var l=[];for(c=s;c<i.length;c++)l.push("..");return l=l.concat(o.slice(s)),l.join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){if("string"!==typeof t&&(t+=""),0===t.length)return".";for(var e=t.charCodeAt(0),n=47===e,r=-1,i=!0,o=t.length-1;o>=1;--o)if(e=t.charCodeAt(o),47===e){if(!i){r=o;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":t.slice(0,r)},e.basename=function(t,e){var n=r(t);return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){"string"!==typeof t&&(t+="");for(var e=-1,n=0,r=-1,i=!0,o=0,a=t.length-1;a>=0;--a){var s=t.charCodeAt(a);if(47!==s)-1===r&&(i=!1,r=a+1),46===s?-1===e?e=a:1!==o&&(o=1):-1!==e&&(o=-1);else if(!i){n=a+1;break}}return-1===e||-1===r||0===o||1===o&&e===r-1&&e===n+1?"":t.slice(e,r)};var o="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,n("Q2Ig"))},"3QDa":function(t,e,n){"use strict";var r=n("J4zp");function i(){var t=l(n("q1tI"));return i=function(){return t},t}function o(){var t=s(n("x2v5"));return o=function(){return t},t}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var a=s(n("nLCz"));function s(t){return t&&t.__esModule?t:{default:t}}function c(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return c=function(){return t},t}function l(t){if(t&&t.__esModule)return t;if(null===t||"object"!==typeof t&&"function"!==typeof t)return{default:t};var e=c();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}return n["default"]=t,e&&e.set(t,n),n}function u(t,e){return g(t)||p(t,e)||f(t,e)||h()}function h(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(t,e){if(t){if("string"===typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(t,e):void 0}}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function p(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0)if(n.push(a.value),e&&n.length===e)break}catch(err){i=!0,o=err}finally{try{r||null==s["return"]||s["return"]()}finally{if(i)throw o}}return n}}function g(t){if(Array.isArray(t))return t}function m(t,e,n){return Object.entries(o()["default"][t]).reduce((function(t,i){var o=r(i,2),a=o[0],s=o[1];return t[a]=s.map((function(t){var r=Object.assign({},t);return Object.keys(t).forEach((function(t){if(/^description(\.|$)/.test(t)){var i=t.match(/^description\.?(.*)$/),o=u(i,2),a=o[1];a&&a!==e||!a&&!n?delete r[t]:r.description=r[t]}})),r})),t}),{})}var v=function(t){var e=(0,i().useContext)(a["default"]),n=e.locale,r=e.config.locales,o=!r.length||r[0].name===n,s=(0,i().useState)(m(t,n,o)),c=u(s,2),l=c[0],h=c[1];return(0,i().useEffect)((function(){h(m(t,n,o))}),[t,n,o]),l};e["default"]=v},"3UWB":function(t,e,n){var r=n("MMxC");r({target:"Math",stat:!0},{isubh:function(t,e,n,r){var i=t>>>0,o=e>>>0,a=n>>>0;return o-(r>>>0)-((~i&a|~(i^a)&i-a>>>0)>>>31)|0}})},"3Us1":function(t,e,n){var r=n("Mi8B");r("Float32",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},"3dhw":function(t,e,n){"use strict";var r=n("NMFW"),i=n("f1E4"),o=n("MVys"),a=n("k/J9"),s="toString",c=RegExp.prototype,l=c[s],u=o((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),h=l.name!=s;(u||h)&&r(RegExp.prototype,s,(function(){var t=i(this),e=String(t.source),n=t.flags,r=String(void 0===n&&t instanceof RegExp&&!("flags"in c)?a.call(t):n);return"/"+e+"/"+r}),{unsafe:!0})},4:function(t,e){},"43iI":function(t,e,n){"use strict";var r=n("MMxC"),i=n("2FZw").end,o=n("y9mK");r({target:"String",proto:!0,forced:o},{padEnd:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},"49sm":function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},"4JlD":function(t,e,n){"use strict";var r=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,n,s){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"===typeof t?o(a(t),(function(a){var s=encodeURIComponent(r(a))+n;return i(t[a])?o(t[a],(function(t){return s+encodeURIComponent(r(t))})).join(e):s+encodeURIComponent(r(t[a]))})).join(e):s?encodeURIComponent(r(s))+n+encodeURIComponent(r(t)):""};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function o(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var a=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},"4Mzw":function(t,e,n){var r=n("ukPv"),i=n("kiNa");i(r.JSON,"JSON",!0)},"4rKd":function(t,e,n){var r=n("lz10"),i=n("aKVN"),o=n("2kyd"),a=o("toPrimitive"),s=Date.prototype;a in s||r(s,a,i)},5:function(t,e){},"5Blz":function(t,e,n){"use strict";var r=n("MMxC"),i=n("9RRT").right,o=n("R8iy"),a=n("kGMc"),s=o("reduceRight"),c=a("reduce",{1:0});r({target:"Array",proto:!0,forced:!s||!c},{reduceRight:function(t){return i(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"5JgN":function(t,e,n){"use strict";n("FbcW");var r=n("MMxC"),i=n("29mP"),o=n("lgSf"),a=n("NMFW"),s=n("ujhg"),c=n("kiNa"),l=n("uoF6"),u=n("1aI8"),h=n("igoe"),f=n("jtLI"),d=n("7BAe"),p=n("Ei+o"),g=n("f1E4"),m=n("tSXo"),v=n("u+7+"),b=n("HhvW"),y=n("qcmB"),w=n("9SZg"),_=n("2kyd"),x=i("fetch"),S=i("Headers"),C=_("iterator"),E="URLSearchParams",O=E+"Iterator",k=u.set,T=u.getterFor(E),j=u.getterFor(O),M=/\+/g,A=Array(4),P=function(t){return A[t-1]||(A[t-1]=RegExp("((?:%[\\da-f]{2}){"+t+"})","gi"))},I=function(t){try{return decodeURIComponent(t)}catch(e){return t}},R=function(t){var e=t.replace(M," "),n=4;try{return decodeURIComponent(e)}catch(r){while(n)e=e.replace(P(n--),I);return e}},D=/[!'()~]|%20/g,L={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},N=function(t){return L[t]},F=function(t){return encodeURIComponent(t).replace(D,N)},B=function(t,e){if(e){var n,r,i=e.split("&"),o=0;while(o<i.length)n=i[o++],n.length&&(r=n.split("="),t.push({key:R(r.shift()),value:R(r.join("="))}))}},U=function(t){this.entries.length=0,B(this.entries,t)},W=function(t,e){if(t<e)throw TypeError("Not enough arguments")},z=l((function(t,e){k(this,{type:O,iterator:y(T(t).entries),kind:e})}),"Iterator",(function(){var t=j(this),e=t.kind,n=t.iterator.next(),r=n.value;return n.done||(n.value="keys"===e?r.key:"values"===e?r.value:[r.key,r.value]),n})),H=function(){h(this,H,E);var t,e,n,r,i,o,a,s,c,l=arguments.length>0?arguments[0]:void 0,u=this,d=[];if(k(u,{type:E,entries:d,updateURL:function(){},updateSearchParams:U}),void 0!==l)if(m(l))if(t=w(l),"function"===typeof t){e=t.call(l),n=e.next;while(!(r=n.call(e)).done){if(i=y(g(r.value)),o=i.next,(a=o.call(i)).done||(s=o.call(i)).done||!o.call(i).done)throw TypeError("Expected sequence with length 2");d.push({key:a.value+"",value:s.value+""})}}else for(c in l)f(l,c)&&d.push({key:c,value:l[c]+""});else B(d,"string"===typeof l?"?"===l.charAt(0)?l.slice(1):l:l+"")},Y=H.prototype;s(Y,{append:function(t,e){W(arguments.length,2);var n=T(this);n.entries.push({key:t+"",value:e+""}),n.updateURL()},delete:function(t){W(arguments.length,1);var e=T(this),n=e.entries,r=t+"",i=0;while(i<n.length)n[i].key===r?n.splice(i,1):i++;e.updateURL()},get:function(t){W(arguments.length,1);for(var e=T(this).entries,n=t+"",r=0;r<e.length;r++)if(e[r].key===n)return e[r].value;return null},getAll:function(t){W(arguments.length,1);for(var e=T(this).entries,n=t+"",r=[],i=0;i<e.length;i++)e[i].key===n&&r.push(e[i].value);return r},has:function(t){W(arguments.length,1);var e=T(this).entries,n=t+"",r=0;while(r<e.length)if(e[r++].key===n)return!0;return!1},set:function(t,e){W(arguments.length,1);for(var n,r=T(this),i=r.entries,o=!1,a=t+"",s=e+"",c=0;c<i.length;c++)n=i[c],n.key===a&&(o?i.splice(c--,1):(o=!0,n.value=s));o||i.push({key:a,value:s}),r.updateURL()},sort:function(){var t,e,n,r=T(this),i=r.entries,o=i.slice();for(i.length=0,n=0;n<o.length;n++){for(t=o[n],e=0;e<n;e++)if(i[e].key>t.key){i.splice(e,0,t);break}e===n&&i.push(t)}r.updateURL()},forEach:function(t){var e,n=T(this).entries,r=d(t,arguments.length>1?arguments[1]:void 0,3),i=0;while(i<n.length)e=n[i++],r(e.value,e.key,this)},keys:function(){return new z(this,"keys")},values:function(){return new z(this,"values")},entries:function(){return new z(this,"entries")}},{enumerable:!0}),a(Y,C,Y.entries),a(Y,"toString",(function(){var t,e=T(this).entries,n=[],r=0;while(r<e.length)t=e[r++],n.push(F(t.key)+"="+F(t.value));return n.join("&")}),{enumerable:!0}),c(H,E),r({global:!0,forced:!o},{URLSearchParams:H}),o||"function"!=typeof x||"function"!=typeof S||r({global:!0,enumerable:!0,forced:!0},{fetch:function(t){var e,n,r,i=[t];return arguments.length>1&&(e=arguments[1],m(e)&&(n=e.body,p(n)===E&&(r=e.headers?new S(e.headers):new S,r.has("content-type")||r.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),e=v(e,{body:b(0,String(n)),headers:b(0,r)}))),i.push(e)),x.apply(this,i)}}),t.exports={URLSearchParams:H,getState:T}},"5yw/":function(t,e){t.exports={}},6:function(t,e){},"6FCX":function(t,e,n){var r=n("MMxC"),i=n("qA1w");r({target:"WeakMap",stat:!0},{of:i})},"6asN":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var r=n("LtsZ"),i=n("zqmC"),o=(0,i.LinkWrapper)(r.NavLink);e["default"]=o},"6cL7":function(t,e,n){"use strict";var r=n("ENif"),i=n("f1E4"),o=n("FCfD"),a=n("UPML"),s=n("dagG");r("search",1,(function(t,e,n){return[function(e){var n=o(this),r=void 0==e?void 0:e[t];return void 0!==r?r.call(e,n):new RegExp(e)[t](String(n))},function(t){var r=n(e,t,this);if(r.done)return r.value;var o=i(t),c=String(this),l=o.lastIndex;a(l,0)||(o.lastIndex=0);var u=s(o,c);return a(o.lastIndex,l)||(o.lastIndex=l),null===u?-1:u.index}]}))},"6ixQ":function(t,e){t.exports={}},"6spV":function(t,e,n){"use strict";var r=n("MMxC"),i=n("tny8"),o=n("ukPv"),a=n("jtLI"),s=n("tSXo"),c=n("YfKC").f,l=n("LJ80"),u=o.Symbol;if(i&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var h={},f=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof f?new u(t):void 0===t?u():u(t);return""===t&&(h[e]=!0),e};l(f,u);var d=f.prototype=u.prototype;d.constructor=f;var p=d.toString,g="Symbol(test)"==String(u("test")),m=/^Symbol\((.*)\)[^)]+$/;c(d,"description",{configurable:!0,get:function(){var t=s(this)?this.valueOf():this,e=p.call(t);if(a(h,t))return"";var n=g?e.slice(7,-1):e.replace(m,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:f})}},"6xEa":function(t,e,n){var r,i=function(){var t=String.fromCharCode,e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",r={};function i(t,e){if(!r[t]){r[t]={};for(var n=0;n<t.length;n++)r[t][t.charAt(n)]=n}return r[t][e]}var o={compressToBase64:function(t){if(null==t)return"";var n=o._compress(t,6,(function(t){return e.charAt(t)}));switch(n.length%4){default:case 0:return n;case 1:return n+"===";case 2:return n+"==";case 3:return n+"="}},decompressFromBase64:function(t){return null==t?"":""==t?null:o._decompress(t.length,32,(function(n){return i(e,t.charAt(n))}))},compressToUTF16:function(e){return null==e?"":o._compress(e,15,(function(e){return t(e+32)}))+" "},decompressFromUTF16:function(t){return null==t?"":""==t?null:o._decompress(t.length,16384,(function(e){return t.charCodeAt(e)-32}))},compressToUint8Array:function(t){for(var e=o.compress(t),n=new Uint8Array(2*e.length),r=0,i=e.length;r<i;r++){var a=e.charCodeAt(r);n[2*r]=a>>>8,n[2*r+1]=a%256}return n},decompressFromUint8Array:function(e){if(null===e||void 0===e)return o.decompress(e);for(var n=new Array(e.length/2),r=0,i=n.length;r<i;r++)n[r]=256*e[2*r]+e[2*r+1];var a=[];return n.forEach((function(e){a.push(t(e))})),o.decompress(a.join(""))},compressToEncodedURIComponent:function(t){return null==t?"":o._compress(t,6,(function(t){return n.charAt(t)}))},decompressFromEncodedURIComponent:function(t){return null==t?"":""==t?null:(t=t.replace(/ /g,"+"),o._decompress(t.length,32,(function(e){return i(n,t.charAt(e))})))},compress:function(e){return o._compress(e,16,(function(e){return t(e)}))},_compress:function(t,e,n){if(null==t)return"";var r,i,o,a={},s={},c="",l="",u="",h=2,f=3,d=2,p=[],g=0,m=0;for(o=0;o<t.length;o+=1)if(c=t.charAt(o),Object.prototype.hasOwnProperty.call(a,c)||(a[c]=f++,s[c]=!0),l=u+c,Object.prototype.hasOwnProperty.call(a,l))u=l;else{if(Object.prototype.hasOwnProperty.call(s,u)){if(u.charCodeAt(0)<256){for(r=0;r<d;r++)g<<=1,m==e-1?(m=0,p.push(n(g)),g=0):m++;for(i=u.charCodeAt(0),r=0;r<8;r++)g=g<<1|1&i,m==e-1?(m=0,p.push(n(g)),g=0):m++,i>>=1}else{for(i=1,r=0;r<d;r++)g=g<<1|i,m==e-1?(m=0,p.push(n(g)),g=0):m++,i=0;for(i=u.charCodeAt(0),r=0;r<16;r++)g=g<<1|1&i,m==e-1?(m=0,p.push(n(g)),g=0):m++,i>>=1}h--,0==h&&(h=Math.pow(2,d),d++),delete s[u]}else for(i=a[u],r=0;r<d;r++)g=g<<1|1&i,m==e-1?(m=0,p.push(n(g)),g=0):m++,i>>=1;h--,0==h&&(h=Math.pow(2,d),d++),a[l]=f++,u=String(c)}if(""!==u){if(Object.prototype.hasOwnProperty.call(s,u)){if(u.charCodeAt(0)<256){for(r=0;r<d;r++)g<<=1,m==e-1?(m=0,p.push(n(g)),g=0):m++;for(i=u.charCodeAt(0),r=0;r<8;r++)g=g<<1|1&i,m==e-1?(m=0,p.push(n(g)),g=0):m++,i>>=1}else{for(i=1,r=0;r<d;r++)g=g<<1|i,m==e-1?(m=0,p.push(n(g)),g=0):m++,i=0;for(i=u.charCodeAt(0),r=0;r<16;r++)g=g<<1|1&i,m==e-1?(m=0,p.push(n(g)),g=0):m++,i>>=1}h--,0==h&&(h=Math.pow(2,d),d++),delete s[u]}else for(i=a[u],r=0;r<d;r++)g=g<<1|1&i,m==e-1?(m=0,p.push(n(g)),g=0):m++,i>>=1;h--,0==h&&(h=Math.pow(2,d),d++)}for(i=2,r=0;r<d;r++)g=g<<1|1&i,m==e-1?(m=0,p.push(n(g)),g=0):m++,i>>=1;while(1){if(g<<=1,m==e-1){p.push(n(g));break}m++}return p.join("")},decompress:function(t){return null==t?"":""==t?null:o._decompress(t.length,32768,(function(e){return t.charCodeAt(e)}))},_decompress:function(e,n,r){var i,o,a,s,c,l,u,h=[],f=4,d=4,p=3,g="",m=[],v={val:r(0),position:n,index:1};for(i=0;i<3;i+=1)h[i]=i;a=0,c=Math.pow(2,2),l=1;while(l!=c)s=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),a|=(s>0?1:0)*l,l<<=1;switch(a){case 0:a=0,c=Math.pow(2,8),l=1;while(l!=c)s=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),a|=(s>0?1:0)*l,l<<=1;u=t(a);break;case 1:a=0,c=Math.pow(2,16),l=1;while(l!=c)s=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),a|=(s>0?1:0)*l,l<<=1;u=t(a);break;case 2:return""}h[3]=u,o=u,m.push(u);while(1){if(v.index>e)return"";a=0,c=Math.pow(2,p),l=1;while(l!=c)s=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),a|=(s>0?1:0)*l,l<<=1;switch(u=a){case 0:a=0,c=Math.pow(2,8),l=1;while(l!=c)s=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),a|=(s>0?1:0)*l,l<<=1;h[d++]=t(a),u=d-1,f--;break;case 1:a=0,c=Math.pow(2,16),l=1;while(l!=c)s=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),a|=(s>0?1:0)*l,l<<=1;h[d++]=t(a),u=d-1,f--;break;case 2:return m.join("")}if(0==f&&(f=Math.pow(2,p),p++),h[u])g=h[u];else{if(u!==d)return null;g=o+o.charAt(0)}m.push(g),h[d++]=o+g.charAt(0),f--,o=g,0==f&&(f=Math.pow(2,p),p++)}}};return o}();r=function(){return i}.call(e,n,e,t),void 0===r||(t.exports=r)},"7BAe":function(t,e,n){var r=n("cT1L");t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},"7ZSp":function(t,e,n){},"7sf/":function(t,e,n){"use strict";function r(){var t=s(n("q1tI"));return r=function(){return t},t}function i(){var t=o(n("6xEa"));return i=function(){return t},t}function o(t){return t&&t.__esModule?t:{default:t}}function a(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return a=function(){return t},t}function s(t){if(t&&t.__esModule)return t;if(null===t||"object"!==typeof t&&"function"!==typeof t)return{default:t};var e=a();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}return n["default"]=t,e&&e.set(t,n),n}function c(t,e){return d(t)||f(t,e)||u(t,e)||l()}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(t,e){if(t){if("string"===typeof t)return h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(t,e):void 0}}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function f(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0)if(n.push(a.value),e&&n.length===e)break}catch(err){i=!0,o=err}finally{try{r||null==s["return"]||s["return"]()}finally{if(i)throw o}}return n}}function d(t){if(Array.isArray(t))return t}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var p={"zh-CN":"https://www.typescriptlang.org/zh/play","en-US":"https://www.typescriptlang.org/play"},g=function(t,e){var n=function(){var t=/^zh|cn$/.test(arguments.length<=0?void 0:arguments[0])?p["zh-CN"]:p["en-US"];return"".concat(t,"?skipLibCheck=true&jsx=1#code/").concat(i()["default"].compressToEncodedURIComponent(arguments.length<=1?void 0:arguments[1]))},o=(0,r().useState)(n(t,e)),a=c(o,2),s=a[0],l=a[1];return(0,r().useEffect)((function(){l(n(t,e))}),[t,e]),s};e["default"]=g},"7yTQ":function(t,e,n){"use strict";var r=n("MMxC"),i=n("Zcjx"),o=n("29mP"),a=n("f1E4"),s=n("cT1L"),c=n("7BAe"),l=n("/dTS"),u=n("PPXv"),h=n("IuhT");r({target:"Map",proto:!0,real:!0,forced:i},{filter:function(t){var e=a(this),n=u(e),r=c(t,arguments.length>1?arguments[1]:void 0,3),i=new(l(e,o("Map"))),f=s(i.set);return h(n,(function(t,n){r(n,t,e)&&f.call(i,t,n)}),void 0,!0,!0),i}})},"80Z6":function(t,e,n){"use strict";var r=n("MMxC"),i=n("cT1L"),o=n("29mP"),a=n("LUyE"),s=n("WJ3H"),c=n("IuhT"),l="No one promise resolved";r({target:"Promise",stat:!0},{any:function(t){var e=this,n=a.f(e),r=n.resolve,u=n.reject,h=s((function(){var n=i(e.resolve),a=[],s=0,h=1,f=!1;c(t,(function(t){var i=s++,c=!1;a.push(void 0),h++,n.call(e,t).then((function(t){c||f||(f=!0,r(t))}),(function(t){c||f||(c=!0,a[i]=t,--h||u(new(o("AggregateError"))(a,l)))}))})),--h||u(new(o("AggregateError"))(a,l))}));return h.error&&u(h.value),n.promise}})},"85tw":function(t,e,n){var r=n("MMxC"),i=n("ls1J"),o=n("f1E4"),a=i.keys,s=i.toKey;r({target:"Reflect",stat:!0},{getOwnMetadataKeys:function(t){var e=arguments.length<2?void 0:s(arguments[1]);return a(o(t),e)}})},"8Cw2":function(t,e,n){var r=n("ukPv"),i=r.isFinite;t.exports=Number.isFinite||function(t){return"number"==typeof t&&i(t)}},"8L3h":function(t,e,n){"use strict";t.exports=n("f/k9")},"8Lo7":function(t,e,n){"use strict";var r=n("FVwB"),i=n("/3zY").includes,o=r.aTypedArray,a=r.exportTypedArrayMethod;a("includes",(function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},"8OGu":function(t,e,n){var r=n("I65O");r("isConcatSpreadable")},"8OQV":function(t,e,n){var r=n("ukPv"),i=n("MVys"),o=n("GPrf"),a=n("FVwB").NATIVE_ARRAY_BUFFER_VIEWS,s=r.ArrayBuffer,c=r.Int8Array;t.exports=!a||!i((function(){c(1)}))||!i((function(){new c(-1)}))||!o((function(t){new c,new c(null),new c(1.5),new c(t)}),!0)||i((function(){return 1!==new c(new s(2),1,void 0).length}))},"8Ubs":function(t,e,n){var r=n("MMxC"),i=n("aF2d");r({target:"Map",stat:!0},{from:i})},"8jRI":function(t,e,n){"use strict";var r="%[a-f0-9]{2}",i=new RegExp(r,"gi"),o=new RegExp("("+r+")+","gi");function a(t,e){try{return decodeURIComponent(t.join(""))}catch(err){}if(1===t.length)return t;e=e||1;var n=t.slice(0,e),r=t.slice(e);return Array.prototype.concat.call([],a(n),a(r))}function s(t){try{return decodeURIComponent(t)}catch(err){for(var e=t.match(i),n=1;n<e.length;n++)t=a(e,n).join(""),e=t.match(i);return t}}function c(t){var e={"%FE%FF":"\ufffd\ufffd","%FF%FE":"\ufffd\ufffd"},n=o.exec(t);while(n){try{e[n[0]]=decodeURIComponent(n[0])}catch(err){var r=s(n[0]);r!==n[0]&&(e[n[0]]=r)}n=o.exec(t)}e["%C2"]="\ufffd";for(var i=Object.keys(e),a=0;a<i.length;a++){var c=i[a];t=t.replace(new RegExp(c,"g"),e[c])}return t}t.exports=function(t){if("string"!==typeof t)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch(err){return c(t)}}},"8w+9":function(t,e,n){var r=n("ukPv"),i=n("tSXo"),o=r.document,a=i(o)&&i(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},"8yz6":function(t,e,n){"use strict";t.exports=function(t,e){if("string"!==typeof t||"string"!==typeof e)throw new TypeError("Expected the arguments to be of type `string`");if(""===e)return[t];var n=t.indexOf(e);return-1===n?[t]:[t.slice(0,n),t.slice(n+e.length)]}},"9/ry":function(t,e,n){"use strict";var r=n("MMxC"),i=n("rjJZ"),o=n("FCfD"),a=n("C7V6");r({target:"String",proto:!0,forced:!a("includes")},{includes:function(t){return!!~String(o(this)).indexOf(i(t),arguments.length>1?arguments[1]:void 0)}})},"9BQv":function(t,e,n){"use strict";var r=n("tny8"),i=n("eNh0"),o=n("cTDu"),a=n("oa35"),s=n("YfKC").f;r&&!("lastItem"in[])&&(s(Array.prototype,"lastItem",{configurable:!0,get:function(){var t=o(this),e=a(t.length);return 0==e?void 0:t[e-1]},set:function(t){var e=o(this),n=a(e.length);return e[0==n?0:n-1]=t}}),i("lastItem"))},"9Ihz":function(t,e){},"9R94":function(t,e,n){"use strict";var r=!0,i="Invariant failed";function o(t,e){if(!t){if(r)throw new Error(i);throw new Error(i+": "+(e||""))}}e["a"]=o},"9RRT":function(t,e,n){var r=n("cT1L"),i=n("cTDu"),o=n("EzR6"),a=n("oa35"),s=function(t){return function(e,n,s,c){r(n);var l=i(e),u=o(l),h=a(l.length),f=t?h-1:0,d=t?-1:1;if(s<2)while(1){if(f in u){c=u[f],f+=d;break}if(f+=d,t?f<0:h<=f)throw TypeError("Reduce of empty array with no initial value")}for(;t?f>=0:h>f;f+=d)f in u&&(c=n(c,u[f],f,l));return c}};t.exports={left:s(!1),right:s(!0)}},"9Rzw":function(t,e,n){"use strict";var r=n("MMxC"),i=n("Zcjx"),o=n("29mP"),a=n("f1E4"),s=n("cT1L"),c=n("/dTS"),l=n("IuhT");r({target:"Set",proto:!0,real:!0,forced:i},{difference:function(t){var e=a(this),n=new(c(e,o("Set")))(e),r=s(n["delete"]);return l(t,(function(t){r.call(n,t)})),n}})},"9SZg":function(t,e,n){var r=n("Ei+o"),i=n("5yw/"),o=n("2kyd"),a=o("iterator");t.exports=function(t){if(void 0!=t)return t[a]||t["@@iterator"]||i[r(t)]}},"9bAj":function(t,e,n){"use strict";var r=n("MMxC"),i=n("Zcjx"),o=n("f1E4"),a=n("cT1L"),s=n("PPXv"),c=n("IuhT");r({target:"Map",proto:!0,real:!0,forced:i},{reduce:function(t){var e=o(this),n=s(e),r=arguments.length<2,i=r?void 0:arguments[1];if(a(t),c(n,(function(n,o){r?(r=!1,i=o):i=t(i,o,n,e)}),void 0,!0,!0),r)throw TypeError("Reduce of empty map with no initial value");return i}})},"9kvl":function(t,e,n){"use strict";var r=n("FfOG");n.d(e,"a",(function(){return r["b"]}));n("bCY9")},"9znl":function(t,e,n){var r=n("MMxC"),i=n("aF2d");r({target:"Set",stat:!0},{from:i})},"A+b4":function(t,e,n){"use strict";var r=n("MMxC"),i=n("mTKU").start,o=n("HKQd"),a=o("trimStart"),s=a?function(){return i(this)}:"".trimStart;r({target:"String",proto:!0,forced:a},{trimStart:s,trimLeft:s})},A9H8:function(t,e,n){var r=n("MMxC"),i=n("IuhT"),o=n("arQb");r({target:"Object",stat:!0},{fromEntries:function(t){var e={};return i(t,(function(t,n){o(e,t,n)}),void 0,!0),e}})},Acmb:function(t,e,n){var r=n("jtLI"),i=n("cTDu"),o=n("CjUg"),a=n("SprQ"),s=o("IE_PROTO"),c=Object.prototype;t.exports=a?Object.getPrototypeOf:function(t){return t=i(t),r(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?c:null}},AqCL:function(t,e){t.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},Auwt:function(t,e,n){"use strict";var r=n("MMxC"),i=n("Zcjx"),o=n("f1E4"),a=n("PPXv"),s=n("bwJD"),c=n("IuhT");r({target:"Map",proto:!0,real:!0,forced:i},{includes:function(t){return c(a(o(this)),(function(e,n){if(s(n,t))return c.stop()}),void 0,!0,!0).stopped}})},"B/G0":function(t,e,n){var r=n("MMxC"),i=n("tny8"),o=n("cC5k"),a=n("0qr0"),s=n("g8rt"),c=n("arQb");r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(t){var e,n,r=a(t),i=s.f,l=o(r),u={},h=0;while(l.length>h)n=i(r,e=l[h++]),void 0!==n&&c(u,e,n);return u}})},Bnag:function(t,e){function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}t.exports=n},BsWD:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("a3WO");function i(t,e){if(t){if("string"===typeof t)return Object(r["a"])(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r["a"])(t,e):void 0}}},BtTS:function(t,e,n){var r=n("Mi8B");r("Int16",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},C3pJ:function(t,e,n){var r,i,o,a=n("ukPv"),s=n("MVys"),c=n("UwrT"),l=n("7BAe"),u=n("yj7k"),h=n("8w+9"),f=n("xRZI"),d=a.location,p=a.setImmediate,g=a.clearImmediate,m=a.process,v=a.MessageChannel,b=a.Dispatch,y=0,w={},_="onreadystatechange",x=function(t){if(w.hasOwnProperty(t)){var e=w[t];delete w[t],e()}},S=function(t){return function(){x(t)}},C=function(t){x(t.data)},E=function(t){a.postMessage(t+"",d.protocol+"//"+d.host)};p&&g||(p=function(t){var e=[],n=1;while(arguments.length>n)e.push(arguments[n++]);return w[++y]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},r(y),y},g=function(t){delete w[t]},"process"==c(m)?r=function(t){m.nextTick(S(t))}:b&&b.now?r=function(t){b.now(S(t))}:v&&!f?(i=new v,o=i.port2,i.port1.onmessage=C,r=l(o.postMessage,o,1)):!a.addEventListener||"function"!=typeof postMessage||a.importScripts||s(E)||"file:"===d.protocol?r=_ in h("script")?function(t){u.appendChild(h("script"))[_]=function(){u.removeChild(this),x(t)}}:function(t){setTimeout(S(t),0)}:(r=E,a.addEventListener("message",C,!1))),t.exports={set:p,clear:g}},C7V6:function(t,e,n){var r=n("2kyd"),i=r("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[i]=!1,"/./"[t](e)}catch(r){}}return!1}},"CDr+":function(t,e,n){"use strict";var r=n("MMxC"),i=n("/3zY").indexOf,o=n("R8iy"),a=n("kGMc"),s=[].indexOf,c=!!s&&1/[1].indexOf(1,-0)<0,l=o("indexOf"),u=a("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:c||!l||!u},{indexOf:function(t){return c?s.apply(this,arguments)||0:i(this,t,arguments.length>1?arguments[1]:void 0)}})},CO2k:function(t,e,n){"use strict";var r=n("MMxC"),i=n("Zcjx"),o=n("29mP"),a=n("f1E4"),s=n("cT1L"),c=n("/dTS"),l=n("IuhT");r({target:"Set",proto:!0,real:!0,forced:i},{union:function(t){var e=a(this),n=new(c(e,o("Set")))(e);return l(t,s(n.add),n),n}})},CRpX:function(t,e,n){var r=n("ukPv"),i=n("XX5T"),o=n("FbcW"),a=n("lz10"),s=n("2kyd"),c=s("iterator"),l=s("toStringTag"),u=o.values;for(var h in i){var f=r[h],d=f&&f.prototype;if(d){if(d[c]!==u)try{a(d,c,u)}catch(g){d[c]=u}if(d[l]||a(d,l,h),i[h])for(var p in o)if(d[p]!==o[p])try{a(d,p,o[p])}catch(g){d[p]=o[p]}}}},CdV7:function(t,e,n){var r=n("tny8"),i=n("P0e2"),o=n("0qr0"),a=n("e3V2").f,s=function(t){return function(e){var n,s=o(e),c=i(s),l=c.length,u=0,h=[];while(l>u)n=c[u++],r&&!a.call(s,n)||h.push(t?[n,s[n]]:s[n]);return h}};t.exports={entries:s(!0),values:s(!1)}},CjUg:function(t,e,n){var r=n("xxaU"),i=n("evbn"),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},Cq6t:function(t,e){var n=1/0,r=Math.abs,i=Math.pow,o=Math.floor,a=Math.log,s=Math.LN2,c=function(t,e,c){var l,u,h,f=new Array(c),d=8*c-e-1,p=(1<<d)-1,g=p>>1,m=23===e?i(2,-24)-i(2,-77):0,v=t<0||0===t&&1/t<0?1:0,b=0;for(t=r(t),t!=t||t===n?(u=t!=t?1:0,l=p):(l=o(a(t)/s),t*(h=i(2,-l))<1&&(l--,h*=2),t+=l+g>=1?m/h:m*i(2,1-g),t*h>=2&&(l++,h/=2),l+g>=p?(u=0,l=p):l+g>=1?(u=(t*h-1)*i(2,e),l+=g):(u=t*i(2,g-1)*i(2,e),l=0));e>=8;f[b++]=255&u,u/=256,e-=8);for(l=l<<e|u,d+=e;d>0;f[b++]=255&l,l/=256,d-=8);return f[--b]|=128*v,f},l=function(t,e){var r,o=t.length,a=8*o-e-1,s=(1<<a)-1,c=s>>1,l=a-7,u=o-1,h=t[u--],f=127&h;for(h>>=7;l>0;f=256*f+t[u],u--,l-=8);for(r=f&(1<<-l)-1,f>>=-l,l+=e;l>0;r=256*r+t[u],u--,l-=8);if(0===f)f=1-c;else{if(f===s)return r?NaN:h?-n:n;r+=i(2,e),f-=c}return(h?-1:1)*r*i(2,f-e)};t.exports={pack:c,unpack:l}},CxY0:function(t,e,n){"use strict";var r=n("GYWy"),i=n("Nehr");function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=_,e.resolve=S,e.resolveObject=C,e.format=x,e.Url=o;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=["<",">",'"',"`"," ","\r","\n","\t"],u=["{","}","|","\\","^","`"].concat(l),h=["'"].concat(u),f=["%","/","?",";","#"].concat(h),d=["/","?","#"],p=255,g=/^[+a-z0-9A-Z_-]{0,63}$/,m=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,"javascript:":!0},b={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},w=n("s4NR");function _(t,e,n){if(t&&i.isObject(t)&&t instanceof o)return t;var r=new o;return r.parse(t,e,n),r}function x(t){return i.isString(t)&&(t=_(t)),t instanceof o?t.format():o.prototype.format.call(t)}function S(t,e){return _(t,!1,!0).resolve(e)}function C(t,e){return t?_(t,!1,!0).resolveObject(e):e}o.prototype.parse=function(t,e,n){if(!i.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var o=t.indexOf("?"),s=-1!==o&&o<t.indexOf("#")?"?":"#",l=t.split(s),u=/\\/g;l[0]=l[0].replace(u,"/"),t=l.join(s);var _=t;if(_=_.trim(),!n&&1===t.split("#").length){var x=c.exec(_);if(x)return this.path=_,this.href=_,this.pathname=x[1],x[2]?(this.search=x[2],this.query=e?w.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var S=a.exec(_);if(S){S=S[0];var C=S.toLowerCase();this.protocol=C,_=_.substr(S.length)}if(n||S||_.match(/^\/\/[^@\/]+@[^@\/]+/)){var E="//"===_.substr(0,2);!E||S&&b[S]||(_=_.substr(2),this.slashes=!0)}if(!b[S]&&(E||S&&!y[S])){for(var O,k,T=-1,j=0;j<d.length;j++){var M=_.indexOf(d[j]);-1!==M&&(-1===T||M<T)&&(T=M)}k=-1===T?_.lastIndexOf("@"):_.lastIndexOf("@",T),-1!==k&&(O=_.slice(0,k),_=_.slice(k+1),this.auth=decodeURIComponent(O)),T=-1;for(j=0;j<f.length;j++){M=_.indexOf(f[j]);-1!==M&&(-1===T||M<T)&&(T=M)}-1===T&&(T=_.length),this.host=_.slice(0,T),_=_.slice(T),this.parseHost(),this.hostname=this.hostname||"";var A="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!A)for(var P=this.hostname.split(/\./),I=(j=0,P.length);j<I;j++){var R=P[j];if(R&&!R.match(g)){for(var D="",L=0,N=R.length;L<N;L++)R.charCodeAt(L)>127?D+="x":D+=R[L];if(!D.match(g)){var F=P.slice(0,j),B=P.slice(j+1),U=R.match(m);U&&(F.push(U[1]),B.unshift(U[2])),B.length&&(_="/"+B.join(".")+_),this.hostname=F.join(".");break}}}this.hostname.length>p?this.hostname="":this.hostname=this.hostname.toLowerCase(),A||(this.hostname=r.toASCII(this.hostname));var W=this.port?":"+this.port:"",z=this.hostname||"";this.host=z+W,this.href+=this.host,A&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==_[0]&&(_="/"+_))}if(!v[C])for(j=0,I=h.length;j<I;j++){var H=h[j];if(-1!==_.indexOf(H)){var Y=encodeURIComponent(H);Y===H&&(Y=escape(H)),_=_.split(H).join(Y)}}var G=_.indexOf("#");-1!==G&&(this.hash=_.substr(G),_=_.slice(0,G));var X=_.indexOf("?");if(-1!==X?(this.search=_.substr(X),this.query=_.substr(X+1),e&&(this.query=w.parse(this.query)),_=_.slice(0,X)):e&&(this.search="",this.query={}),_&&(this.pathname=_),y[C]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){W=this.pathname||"";var V=this.search||"";this.path=W+V}return this.href=this.format(),this},o.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,a="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(a=w.stringify(this.query));var s=this.search||a&&"?"+a||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||y[e])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),n=n.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})),s=s.replace("#","%23"),e+o+n+s+r},o.prototype.resolve=function(t){return this.resolveObject(_(t,!1,!0)).format()},o.prototype.resolveObject=function(t){if(i.isString(t)){var e=new o;e.parse(t,!1,!0),t=e}for(var n=new o,r=Object.keys(this),a=0;a<r.length;a++){var s=r[a];n[s]=this[s]}if(n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var c=Object.keys(t),l=0;l<c.length;l++){var u=c[l];"protocol"!==u&&(n[u]=t[u])}return y[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!y[t.protocol]){for(var h=Object.keys(t),f=0;f<h.length;f++){var d=h[f];n[d]=t[d]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||b[t.protocol])n.pathname=t.pathname;else{var p=(t.pathname||"").split("/");while(p.length&&!(t.host=p.shift()));t.host||(t.host=""),t.hostname||(t.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),n.pathname=p.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var g=n.pathname||"",m=n.search||"";n.path=g+m}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var v=n.pathname&&"/"===n.pathname.charAt(0),w=t.host||t.pathname&&"/"===t.pathname.charAt(0),_=w||v||n.host&&t.pathname,x=_,S=n.pathname&&n.pathname.split("/")||[],C=(p=t.pathname&&t.pathname.split("/")||[],n.protocol&&!y[n.protocol]);if(C&&(n.hostname="",n.port=null,n.host&&(""===S[0]?S[0]=n.host:S.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===p[0]?p[0]=t.host:p.unshift(t.host)),t.host=null),_=_&&(""===p[0]||""===S[0])),w)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,S=p;else if(p.length)S||(S=[]),S.pop(),S=S.concat(p),n.search=t.search,n.query=t.query;else if(!i.isNullOrUndefined(t.search)){if(C){n.hostname=n.host=S.shift();var E=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");E&&(n.auth=E.shift(),n.host=n.hostname=E.shift())}return n.search=t.search,n.query=t.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!S.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var O=S.slice(-1)[0],k=(n.host||t.host||S.length>1)&&("."===O||".."===O)||""===O,T=0,j=S.length;j>=0;j--)O=S[j],"."===O?S.splice(j,1):".."===O?(S.splice(j,1),T++):T&&(S.splice(j,1),T--);if(!_&&!x)for(;T--;T)S.unshift("..");!_||""===S[0]||S[0]&&"/"===S[0].charAt(0)||S.unshift(""),k&&"/"!==S.join("/").substr(-1)&&S.push("");var M=""===S[0]||S[0]&&"/"===S[0].charAt(0);if(C){n.hostname=n.host=M?"":S.length?S.shift():"";E=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");E&&(n.auth=E.shift(),n.host=n.hostname=E.shift())}return _=_||n.host&&S.length,_&&!M&&S.unshift(""),S.length?n.pathname=S.join("/"):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var t=this.host,e=s.exec(t);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},DVoG:function(t,e,n){var r=n("MMxC"),i=n("ls1J"),o=n("f1E4"),a=i.has,s=i.toKey;r({target:"Reflect",stat:!0},{hasOwnMetadata:function(t,e){var n=arguments.length<3?void 0:s(arguments[2]);return a(t,o(e),n)}})},Dbv2:function(t,e,n){"use strict";var r=n("MMxC"),i=n("Zcjx"),o=n("f1E4"),a=n("cT1L");r({target:"Map",proto:!0,real:!0,forced:i},{update:function(t,e){var n=o(this),r=arguments.length;a(e);var i=n.has(t);if(!i&&r<3)throw TypeError("Updating absent value");var s=i?n.get(t):a(r>2?arguments[2]:void 0)(t,n);return n.set(t,e(s,t,n)),n}})},De94:function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},Di6M:function(t,e,n){"use strict";var r=2147483647,i=36,o=1,a=26,s=38,c=700,l=72,u=128,h="-",f=/[^\0-\u007E]/,d=/[.\u3002\uFF0E\uFF61]/g,p="Overflow: input needs wider integers to process",g=i-o,m=Math.floor,v=String.fromCharCode,b=function(t){var e=[],n=0,r=t.length;while(n<r){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=t.charCodeAt(n++);56320==(64512&o)?e.push(((1023&i)<<10)+(1023&o)+65536):(e.push(i),n--)}else e.push(i)}return e},y=function(t){return t+22+75*(t<26)},w=function(t,e,n){var r=0;for(t=n?m(t/c):t>>1,t+=m(t/e);t>g*a>>1;r+=i)t=m(t/g);return m(r+(g+1)*t/(t+s))},_=function(t){var e=[];t=b(t);var n,s,c=t.length,f=u,d=0,g=l;for(n=0;n<t.length;n++)s=t[n],s<128&&e.push(v(s));var _=e.length,x=_;_&&e.push(h);while(x<c){var S=r;for(n=0;n<t.length;n++)s=t[n],s>=f&&s<S&&(S=s);var C=x+1;if(S-f>m((r-d)/C))throw RangeError(p);for(d+=(S-f)*C,f=S,n=0;n<t.length;n++){if(s=t[n],s<f&&++d>r)throw RangeError(p);if(s==f){for(var E=d,O=i;;O+=i){var k=O<=g?o:O>=g+a?a:O-g;if(E<k)break;var T=E-k,j=i-k;e.push(v(y(k+T%j))),E=m(T/j)}e.push(v(y(E))),g=w(d,C,x==_),d=0,++x}}++d,++f}return e.join("")};t.exports=function(t){var e,n,r=[],i=t.toLowerCase().replace(d,".").split(".");for(e=0;e<i.length;e++)n=i[e],r.push(f.test(n)?"xn--"+_(n):n);return r.join(".")}},Dyhc:function(t,e,n){"use strict";var r=n("MMxC"),i=n("tny8"),o=n("i7kj"),a=n("cTDu"),s=n("gFfw"),c=n("Acmb"),l=n("g8rt").f;i&&r({target:"Object",proto:!0,forced:o},{__lookupGetter__:function(t){var e,n=a(this),r=s(t,!0);do{if(e=l(n,r))return e.get}while(n=c(n))}})},ENif:function(t,e,n){"use strict";n("nlPz");var r=n("NMFW"),i=n("MVys"),o=n("2kyd"),a=n("NcLc"),s=n("lz10"),c=o("species"),l=!i((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),u=function(){return"$0"==="a".replace(/./,"$0")}(),h=o("replace"),f=function(){return!!/./[h]&&""===/./[h]("a","$0")}(),d=!i((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));t.exports=function(t,e,n,h){var p=o(t),g=!i((function(){var e={};return e[p]=function(){return 7},7!=""[t](e)})),m=g&&!i((function(){var e=!1,n=/a/;return"split"===t&&(n={},n.constructor={},n.constructor[c]=function(){return n},n.flags="",n[p]=/./[p]),n.exec=function(){return e=!0,null},n[p](""),!e}));if(!g||!m||"replace"===t&&(!l||!u||f)||"split"===t&&!d){var v=/./[p],b=n(p,""[t],(function(t,e,n,r,i){return e.exec===a?g&&!i?{done:!0,value:v.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:f}),y=b[0],w=b[1];r(String.prototype,t,y),r(RegExp.prototype,p,2==e?function(t,e){return w.call(t,this,e)}:function(t){return w.call(t,this)})}h&&s(RegExp.prototype[p],"sham",!0)}},EOz7:function(t,e,n){"use strict";var r=n("MMxC"),i=n("g8rt").f,o=n("oa35"),a=n("rjJZ"),s=n("FCfD"),c=n("C7V6"),l=n("Zcjx"),u="".startsWith,h=Math.min,f=c("startsWith"),d=!l&&!f&&!!function(){var t=i(String.prototype,"startsWith");return t&&!t.writable}();r({target:"String",proto:!0,forced:!d&&!f},{startsWith:function(t){var e=String(s(this));a(t);var n=o(h(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return u?u.call(e,r,n):e.slice(n,n+r.length)===r}})},EbDI:function(t,e){function n(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}t.exports=n},EgRx:function(t,e,n){var r=n("kiNa");r(Math,"Math",!0)},"Ei+o":function(t,e,n){var r=n("1Cbe"),i=n("UwrT"),o=n("2kyd"),a=o("toStringTag"),s="Arguments"==i(function(){return arguments}()),c=function(t,e){try{return t[e]}catch(n){}};t.exports=r?i:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=c(e=Object(t),a))?n:s?i(e):"Object"==(r=i(e))&&"function"==typeof e.callee?"Arguments":r}},EzR6:function(t,e,n){var r=n("MVys"),i=n("UwrT"),o="".split;t.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==i(t)?o.call(t,""):Object(t)}:Object},"F+kV":function(t,e,n){"use strict";n.r(e);var r=n("q1tI"),i=n.n(r),o=n("dEAq"),a=n("0zqC"),s=i.a.memo(n("Rsk4").default["docs-demo"].component);e["default"]=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"markdown"},i.a.createElement("h1",{id:"fabric-photo-demo"},i.a.createElement(o["AnchorLink"],{to:"#fabric-photo-demo","aria-hidden":"true",tabIndex:-1},i.a.createElement("span",{className:["icon","icon-link"]})),"fabric-photo demo")),i.a.createElement(a["default"],n("Rsk4").default["docs-demo"].previewerProps,i.a.createElement(s,null))))}},F4QJ:function(t,e,n){"use strict";function r(){var t=o(n("q1tI"));return r=function(){return t},t}function i(){var t=o(n("Rsk4"));return i=function(){return t},t}function o(t){return t&&t.__esModule?t:{default:t}}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var l=function(t){var e=[],o=t.match.params.uuid,a=void 0===t.location.query.wrapper,c=i()["default"][o];if(c){var l=s(s({},c.previewerProps),{},{hideActions:(c.previewerProps.hideActions||[]).concat(["EXTERNAL"])});void 0!==t.location.query.capture&&(l.motions=(l.motions||[]).slice(),l.motions.unshift("autoplay"),l.motions.every((function(t){return!t.startsWith("capture")}))&&l.motions.push("capture:[id|=root]")),e=a?[r()["default"].createElement((function(){return n("dEAq").useMotions(l.motions||[],document),r()["default"].createElement("div",{},r()["default"].createElement(c.component))}))]:[l,r()["default"].createElement(c.component)]}return e};e["default"]=l},F52u:function(t,e,n){var r=n("UwrT");t.exports=function(t){if("number"!=typeof t&&"Number"!=r(t))throw TypeError("Incorrect invocation");return+t}},FBts:function(t,e,n){var r=n("MMxC");r({target:"Math",stat:!0},{imulh:function(t,e){var n=65535,r=+t,i=+e,o=r&n,a=i&n,s=r>>16,c=i>>16,l=(s*a>>>0)+(o*a>>>16);return s*c+(l>>16)+((o*c>>>0)+(l&n)>>16)}})},FCfD:function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on "+t);return t}},FK48:function(t,e,n){"use strict";var r=n("MMxC"),i=n("IuhT"),o=n("cT1L");r({target:"Map",stat:!0},{groupBy:function(t,e){var n=new this;o(e);var r=o(n.has),a=o(n.get),s=o(n.set);return i(t,(function(t){var i=e(t);r.call(n,i)?a.call(n,i).push(t):s.call(n,i,[t])})),n}})},FKIO:function(t,e,n){var r=n("MMxC");r({target:"Math",stat:!0},{umulh:function(t,e){var n=65535,r=+t,i=+e,o=r&n,a=i&n,s=r>>>16,c=i>>>16,l=(s*a>>>0)+(o*a>>>16);return s*c+(l>>>16)+((o*c>>>0)+(l&n)>>>16)}})},FVwB:function(t,e,n){"use strict";var r,i=n("GNqc"),o=n("tny8"),a=n("ukPv"),s=n("tSXo"),c=n("jtLI"),l=n("Ei+o"),u=n("lz10"),h=n("NMFW"),f=n("YfKC").f,d=n("Acmb"),p=n("g1ZG"),g=n("2kyd"),m=n("evbn"),v=a.Int8Array,b=v&&v.prototype,y=a.Uint8ClampedArray,w=y&&y.prototype,_=v&&d(v),x=b&&d(b),S=Object.prototype,C=S.isPrototypeOf,E=g("toStringTag"),O=m("TYPED_ARRAY_TAG"),k=i&&!!p&&"Opera"!==l(a.opera),T=!1,j={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},M=function(t){var e=l(t);return"DataView"===e||c(j,e)},A=function(t){return s(t)&&c(j,l(t))},P=function(t){if(A(t))return t;throw TypeError("Target is not a typed array")},I=function(t){if(p){if(C.call(_,t))return t}else for(var e in j)if(c(j,r)){var n=a[e];if(n&&(t===n||C.call(n,t)))return t}throw TypeError("Target is not a typed array constructor")},R=function(t,e,n){if(o){if(n)for(var r in j){var i=a[r];i&&c(i.prototype,t)&&delete i.prototype[t]}x[t]&&!n||h(x,t,n?e:k&&b[t]||e)}},D=function(t,e,n){var r,i;if(o){if(p){if(n)for(r in j)i=a[r],i&&c(i,t)&&delete i[t];if(_[t]&&!n)return;try{return h(_,t,n?e:k&&v[t]||e)}catch(s){}}for(r in j)i=a[r],!i||i[t]&&!n||h(i,t,e)}};for(r in j)a[r]||(k=!1);if((!k||"function"!=typeof _||_===Function.prototype)&&(_=function(){throw TypeError("Incorrect invocation")},k))for(r in j)a[r]&&p(a[r],_);if((!k||!x||x===S)&&(x=_.prototype,k))for(r in j)a[r]&&p(a[r].prototype,x);if(k&&d(w)!==x&&p(w,x),o&&!c(x,E))for(r in T=!0,f(x,E,{get:function(){return s(this)?this[O]:void 0}}),j)a[r]&&u(a[r],O,r);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:k,TYPED_ARRAY_TAG:T&&O,aTypedArray:P,aTypedArrayConstructor:I,exportTypedArrayMethod:R,exportTypedArrayStaticMethod:D,isView:M,isTypedArray:A,TypedArray:_,TypedArrayPrototype:x}},FbcW:function(t,e,n){"use strict";var r=n("0qr0"),i=n("eNh0"),o=n("5yw/"),a=n("1aI8"),s=n("uMwj"),c="Array Iterator",l=a.set,u=a.getterFor(c);t.exports=s(Array,"Array",(function(t,e){l(this,{type:c,target:r(t),index:0,kind:e})}),(function(){var t=u(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},Ff2n:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("zLVn");function i(t,e){if(null==t)return{};var n,i,o=Object(r["a"])(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}},FfOG:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return o}));var r=n("YS25"),i={basename:"/fabric-photo"};window.routerBase&&(i.basename=window.routerBase);var o=Object({NODE_ENV:"production"}).__IS_SERVER?null:Object(r["a"])(i),a=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t||(o=Object(r["a"])(i)),o}},Fs9M:function(t,e,n){var r=n("MVys");t.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},FuvP:function(t,e,n){var r=n("MMxC"),i=n("qA1w");r({target:"Set",stat:!0},{of:i})},FxWf:function(t,e,n){"use strict";var r=n("lm0R"),i=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=h;var o=Object.create(n("Onz0"));o.inherits=n("P7XM");var a=n("i3fk"),s=n("W8Jt");o.inherits(h,a);for(var c=i(s.prototype),l=0;l<c.length;l++){var u=c[l];h.prototype[u]||(h.prototype[u]=s.prototype[u])}function h(t){if(!(this instanceof h))return new h(t);a.call(this,t),s.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||r.nextTick(d,this)}function d(t){t.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),h.prototype._destroy=function(t,e){this.push(null),this.end(),r.nextTick(e,t)}},GNqc:function(t,e){t.exports="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof DataView},GPZX:function(t,e,n){var r=n("MMxC"),i=n("ls1J"),o=n("f1E4"),a=i.toKey,s=i.getMap,c=i.store;r({target:"Reflect",stat:!0},{deleteMetadata:function(t,e){var n=arguments.length<3?void 0:a(arguments[2]),r=s(o(e),n,!1);if(void 0===r||!r["delete"](t))return!1;if(r.size)return!0;var i=c.get(e);return i["delete"](n),!!i.size||c["delete"](e)}})},GPrf:function(t,e,n){var r=n("2kyd"),i=r("iterator"),o=!1;try{var a=0,s={next:function(){return{done:!!a++}},return:function(){o=!0}};s[i]=function(){return this},Array.from(s,(function(){throw 2}))}catch(c){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var r={};r[i]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(c){}return n}},GYWy:function(t,e,n){(function(t,r){var i;(function(o){e&&e.nodeType,t&&t.nodeType;var a="object"==typeof r&&r;a.global!==a&&a.window!==a&&a.self;var s,c=2147483647,l=36,u=1,h=26,f=38,d=700,p=72,g=128,m="-",v=/^xn--/,b=/[^\x20-\x7E]/,y=/[\x2E\u3002\uFF0E\uFF61]/g,w={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},_=l-u,x=Math.floor,S=String.fromCharCode;function C(t){throw new RangeError(w[t])}function E(t,e){var n=t.length,r=[];while(n--)r[n]=e(t[n]);return r}function O(t,e){var n=t.split("@"),r="";n.length>1&&(r=n[0]+"@",t=n[1]),t=t.replace(y,".");var i=t.split("."),o=E(i,e).join(".");return r+o}function k(t){var e,n,r=[],i=0,o=t.length;while(i<o)e=t.charCodeAt(i++),e>=55296&&e<=56319&&i<o?(n=t.charCodeAt(i++),56320==(64512&n)?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--)):r.push(e);return r}function T(t){return E(t,(function(t){var e="";return t>65535&&(t-=65536,e+=S(t>>>10&1023|55296),t=56320|1023&t),e+=S(t),e})).join("")}function j(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:l}function M(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function A(t,e,n){var r=0;for(t=n?x(t/d):t>>1,t+=x(t/e);t>_*h>>1;r+=l)t=x(t/_);return x(r+(_+1)*t/(t+f))}function P(t){var e,n,r,i,o,a,s,f,d,v,b=[],y=t.length,w=0,_=g,S=p;for(n=t.lastIndexOf(m),n<0&&(n=0),r=0;r<n;++r)t.charCodeAt(r)>=128&&C("not-basic"),b.push(t.charCodeAt(r));for(i=n>0?n+1:0;i<y;){for(o=w,a=1,s=l;;s+=l){if(i>=y&&C("invalid-input"),f=j(t.charCodeAt(i++)),(f>=l||f>x((c-w)/a))&&C("overflow"),w+=f*a,d=s<=S?u:s>=S+h?h:s-S,f<d)break;v=l-d,a>x(c/v)&&C("overflow"),a*=v}e=b.length+1,S=A(w-o,e,0==o),x(w/e)>c-_&&C("overflow"),_+=x(w/e),w%=e,b.splice(w++,0,_)}return T(b)}function I(t){var e,n,r,i,o,a,s,f,d,v,b,y,w,_,E,O=[];for(t=k(t),y=t.length,e=g,n=0,o=p,a=0;a<y;++a)b=t[a],b<128&&O.push(S(b));r=i=O.length,i&&O.push(m);while(r<y){for(s=c,a=0;a<y;++a)b=t[a],b>=e&&b<s&&(s=b);for(w=r+1,s-e>x((c-n)/w)&&C("overflow"),n+=(s-e)*w,e=s,a=0;a<y;++a)if(b=t[a],b<e&&++n>c&&C("overflow"),b==e){for(f=n,d=l;;d+=l){if(v=d<=o?u:d>=o+h?h:d-o,f<v)break;E=f-v,_=l-v,O.push(S(M(v+E%_,0))),f=x(E/_)}O.push(S(M(f,0))),o=A(n,w,r==i),n=0,++r}++n,++e}return O.join("")}function R(t){return O(t,(function(t){return v.test(t)?P(t.slice(4).toLowerCase()):t}))}function D(t){return O(t,(function(t){return b.test(t)?"xn--"+I(t):t}))}s={version:"1.4.1",ucs2:{decode:k,encode:T},decode:P,encode:I,toASCII:D,toUnicode:R},i=function(){return s}.call(e,n,e,t),void 0===i||(t.exports=i)})()}).call(this,n("YuTi")(t),n("yLpj"))},Gtba:function(t,e,n){t.exports=n("+qE3").EventEmitter},"Gw+j":function(t,e,n){"use strict";var r=n("MMxC"),i=n("Zcjx"),o=n("29mP"),a=n("f1E4"),s=n("cT1L"),c=n("/dTS"),l=n("IuhT");r({target:"Set",proto:!0,real:!0,forced:i},{symmetricDifference:function(t){var e=a(this),n=new(c(e,o("Set")))(e),r=s(n["delete"]),i=s(n.add);return l(t,(function(t){r.call(n,t)||i.call(n,t)})),n}})},Gytx:function(t,e){t.exports=function(t,e,n,r){var i=n?n.call(r,t,e):void 0;if(void 0!==i)return!!i;if(t===e)return!0;if("object"!==typeof t||!t||"object"!==typeof e||!e)return!1;var o=Object.keys(t),a=Object.keys(e);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(e),c=0;c<o.length;c++){var l=o[c];if(!s(l))return!1;var u=t[l],h=e[l];if(i=n?n.call(r,u,h,l):void 0,!1===i||void 0===i&&u!==h)return!1}return!0}},H7XF:function(t,e,n){"use strict";e.byteLength=u,e.toByteArray=f,e.fromByteArray=g;for(var r=[],i=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=a.length;s<c;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function l(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");-1===n&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function u(t){var e=l(t),n=e[0],r=e[1];return 3*(n+r)/4-r}function h(t,e,n){return 3*(e+n)/4-n}function f(t){var e,n,r=l(t),a=r[0],s=r[1],c=new o(h(t,a,s)),u=0,f=s>0?a-4:a;for(n=0;n<f;n+=4)e=i[t.charCodeAt(n)]<<18|i[t.charCodeAt(n+1)]<<12|i[t.charCodeAt(n+2)]<<6|i[t.charCodeAt(n+3)],c[u++]=e>>16&255,c[u++]=e>>8&255,c[u++]=255&e;return 2===s&&(e=i[t.charCodeAt(n)]<<2|i[t.charCodeAt(n+1)]>>4,c[u++]=255&e),1===s&&(e=i[t.charCodeAt(n)]<<10|i[t.charCodeAt(n+1)]<<4|i[t.charCodeAt(n+2)]>>2,c[u++]=e>>8&255,c[u++]=255&e),c}function d(t){return r[t>>18&63]+r[t>>12&63]+r[t>>6&63]+r[63&t]}function p(t,e,n){for(var r,i=[],o=e;o<n;o+=3)r=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]),i.push(d(r));return i.join("")}function g(t){for(var e,n=t.length,i=n%3,o=[],a=16383,s=0,c=n-i;s<c;s+=a)o.push(p(t,s,s+a>c?c:s+a));return 1===i?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")),o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},H8Ov:function(t,e,n){var r=n("I65O");r("toPrimitive")},HKQd:function(t,e,n){var r=n("MVys"),i=n("Tfd0"),o="\u200b\x85\u180e";t.exports=function(t){return r((function(){return!!i[t]()||o[t]()!=o||i[t].name!==t}))}},HQPm:function(t,e,n){n("bPAU")},HctQ:function(t,e,n){var r=n("tny8"),i=n("YfKC"),o=n("f1E4"),a=n("P0e2");t.exports=r?Object.defineProperties:function(t,e){o(t);var n,r=a(e),s=r.length,c=0;while(s>c)i.f(t,n=r[c++],e[n]);return t}},HhvW:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},HjuX:function(t,e,n){var r=n("MMxC"),i=n("CdV7").entries;r({target:"Object",stat:!0},{entries:function(t){return i(t)}})},"I5+W":function(t,e,n){"use strict";var r=n("FVwB"),i=n("8OQV"),o=r.aTypedArrayConstructor,a=r.exportTypedArrayStaticMethod;a("of",(function(){var t=0,e=arguments.length,n=new(o(this))(e);while(e>t)n[t]=arguments[t++];return n}),i)},I65O:function(t,e,n){var r=n("nFn1"),i=n("jtLI"),o=n("IjB0"),a=n("YfKC").f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});i(e,t)||a(e,t,{value:o.f(t)})}},"IC/V":function(t,e,n){var r=n("I65O");r("split")},IGnA:function(t,e,n){var r=n("0qr0"),i=n("uGHk").f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return i(t)}catch(e){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?s(t):i(r(t))}},IVUx:function(t,e,n){var r=n("Pp3M"),i=n("UHn5"),o=n("u+7+"),a=n("tSXo"),s=function(){this.object=null,this.symbol=null,this.primitives=null,this.objectsByIndex=o(null)};s.prototype.get=function(t,e){return this[t]||(this[t]=e())},s.prototype.next=function(t,e,n){var o=n?this.objectsByIndex[t]||(this.objectsByIndex[t]=new i):this.primitives||(this.primitives=new r),a=o.get(e);return a||o.set(e,a=new s),a};var c=new s;t.exports=function(){var t,e,n=c,r=arguments.length;for(t=0;t<r;t++)a(e=arguments[t])&&(n=n.next(t,e,!0));if(this===Object&&n===c)throw TypeError("Composite keys must contain a non-primitive component");for(t=0;t<r;t++)a(e=arguments[t])||(n=n.next(t,e,!1));return n}},IbaC:function(t,e,n){"use strict";var r=n("MMxC"),i=n("FCfD"),o=n("YON3"),a=n("k/J9"),s=n("2kyd"),c=n("Zcjx"),l=s("replace"),u=RegExp.prototype;r({target:"String",proto:!0},{replaceAll:function t(e,n){var r,s,h,f,d,p,g,m,v,b=i(this);if(null!=e){if(r=o(e),r&&(s=String(i("flags"in u?e.flags:a.call(e))),!~s.indexOf("g")))throw TypeError("`.replaceAll` does not allow non-global regexes");if(h=e[l],void 0!==h)return h.call(e,b,n);if(c&&r)return String(b).replace(e,n)}if(f=String(b),d=String(e),""===d)return t.call(f,/(?:)/g,n);if(p=f.split(d),"function"!==typeof n)return p.join(String(n));for(g=p[0],m=g.length,v=1;v<p.length;v++)g+=String(n(d,m,f)),m+=d.length+p[v].length,g+=p[v];return g}})},IjB0:function(t,e,n){var r=n("2kyd");e.f=r},Ijbi:function(t,e,n){var r=n("WkPL");function i(t){if(Array.isArray(t))return r(t)}t.exports=i},IuhT:function(t,e,n){var r=n("f1E4"),i=n("bF+Q"),o=n("oa35"),a=n("7BAe"),s=n("9SZg"),c=n("Y3g6"),l=function(t,e){this.stopped=t,this.result=e},u=t.exports=function(t,e,n,u,h){var f,d,p,g,m,v,b,y=a(e,n,u?2:1);if(h)f=t;else{if(d=s(t),"function"!=typeof d)throw TypeError("Target is not iterable");if(i(d)){for(p=0,g=o(t.length);g>p;p++)if(m=u?y(r(b=t[p])[0],b[1]):y(t[p]),m&&m instanceof l)return m;return new l(!1)}f=d.call(t)}v=f.next;while(!(b=v.call(f)).done)if(m=c(f,y,b.value,u),"object"==typeof m&&m&&m instanceof l)return m;return new l(!1)};u.stop=function(t){return new l(!0,t)}},"J+Da":function(t,e,n){var r=n("m0kY"),i=n("oa35");t.exports=function(t){if(void 0===t)return 0;var e=r(t),n=i(e);if(e!==n)throw RangeError("Wrong length or index");return n}},J3Yn:function(t,e,n){var r=n("pb5k"),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(t){return i.call(t)}),t.exports=r.inspectSource},J428:function(t,e,n){var r=n("MMxC"),i=n("CdV7").values;r({target:"Object",stat:!0},{values:function(t){return i(t)}})},J4zp:function(t,e,n){var r=n("wTVA"),i=n("m0LI"),o=n("ZhPi"),a=n("wkBT");function s(t,e){return r(t)||i(t,e)||o(t,e)||a()}t.exports=s},JBu9:function(t,e,n){"use strict";n.r(e);var r=n("ODXe"),i=n("q1tI"),o=n.n(i),a=n("dEAq"),s=n("9kvl"),c=(n("OxFa"),t=>{var e=t.location,n=Object(i["useContext"])(a["context"]),r=n.base,c=n.locale,l=n.config.locales,u=l.find((t=>{var e=t.name;return e!==c}));function h(t){var n=r.replace("/".concat(c),""),i=e.pathname.replace(r,n)||"/";if(t!==l[0].name){var o="".concat(n,"/").concat(t).replace(/\/\//,"/"),a=e.pathname.replace(r.replace(/^\/$/,"//"),"");return"".concat(o).concat(a).replace(/\/$/,"")}return i}return u?o.a.createElement("div",{className:"__dumi-default-locale-select","data-locale-count":l.length},l.length>2?o.a.createElement("select",{value:c,onChange:t=>s["a"].push(h(t.target.value))},l.map((t=>o.a.createElement("option",{value:t.name,key:t.name},t.label)))):o.a.createElement(a["Link"],{to:h(u.name)},u.label)):null}),l=c,u=(n("jp8u"),t=>{var e=t.onMobileMenuClick,n=t.navPrefix,r=t.location,s=Object(i["useContext"])(a["context"]),c=s.base,u=s.config,h=u.mode,f=u.title,d=u.logo,p=s.nav;return o.a.createElement("div",{className:"__dumi-default-navbar","data-mode":h},o.a.createElement("button",{className:"__dumi-default-navbar-toggle",onClick:e}),o.a.createElement(a["Link"],{className:"__dumi-default-navbar-logo",style:{backgroundImage:d&&"url('".concat(d,"')")},to:c,"data-plaintext":!1===d||void 0},f),o.a.createElement("nav",null,n,p.map((t=>{var e,n=Boolean(null===(e=t.children)||void 0===e?void 0:e.length)&&o.a.createElement("ul",null,t.children.map((t=>o.a.createElement("li",{key:t.path},o.a.createElement(a["NavLink"],{to:t.path},t.title)))));return o.a.createElement("span",{key:t.title||t.path},t.path?o.a.createElement(a["NavLink"],{to:t.path,key:t.path},t.title):t.title,n)})),o.a.createElement(l,{location:r})))}),h=u,f=n("wx14"),d=n("Ff2n"),p=(n("mAF5"),t=>{var e=t.slugs,n=Object(d["a"])(t,["slugs"]);return o.a.createElement("ul",Object(f["a"])({role:"slug-list"},n),e.filter((t=>{var e=t.depth;return e>1&&e<4})).map((t=>o.a.createElement("li",{key:t.heading,title:t.value,"data-depth":t.depth},o.a.createElement(a["AnchorLink"],{to:"#".concat(t.heading)},o.a.createElement("span",null,t.value))))))}),g=p,m=(n("hQjr"),t=>{var e=t.mobileMenuCollapsed,n=t.location,r=Object(i["useContext"])(a["context"]),s=r.config,c=s.logo,u=s.title,h=s.description,f=s.mode,d=s.repository.url,p=r.menu,m=r.nav,v=r.base,b=r.meta,y=Boolean((b.hero||b.features||b.gapless)&&"site"===f)||!1===b.sidemenu||void 0;return o.a.createElement("div",{className:"__dumi-default-menu","data-mode":f,"data-hidden":y,"data-mobile-show":!e||void 0},o.a.createElement("div",{className:"__dumi-default-menu-inner"},o.a.createElement("div",{className:"__dumi-default-menu-header"},o.a.createElement(a["Link"],{to:v,className:"__dumi-default-menu-logo",style:{backgroundImage:c&&"url('".concat(c,"')")}}),o.a.createElement("h1",null,u),o.a.createElement("p",null,h),/github\.com/.test(d)&&"doc"===f&&o.a.createElement("p",null,o.a.createElement("object",{type:"image/svg+xml",data:"https://img.shields.io/github/stars".concat(d.match(/((\/[^\/]+){2})$/)[1],"?style=social")}))),m.length?o.a.createElement("div",{className:"__dumi-default-menu-mobile-area"},o.a.createElement("ul",{className:"__dumi-default-menu-nav-list"},m.map((t=>{var e,n=Boolean(null===(e=t.children)||void 0===e?void 0:e.length)&&o.a.createElement("ul",null,t.children.map((t=>o.a.createElement("li",{key:t.path||t.title},o.a.createElement(a["NavLink"],{to:t.path},t.title)))));return o.a.createElement("li",{key:t.path||t.title},t.path?o.a.createElement(a["NavLink"],{to:t.path},t.title):t.title,n)}))),o.a.createElement(l,{location:n})):o.a.createElement("div",{className:"__dumi-default-menu-doc-locale"},o.a.createElement(l,{location:n})),o.a.createElement("ul",{className:"__dumi-default-menu-list"},!y&&p.map((t=>{var e,r=Boolean(null===(e=b.slugs)||void 0===e?void 0:e.length),i=t.children&&Boolean(t.children.length),s="menu"===b.toc&&!i&&r&&t.path===n.pathname;return o.a.createElement("li",{key:t.path||t.title},o.a.createElement(a["NavLink"],{to:t.path,exact:!(t.children&&t.children.length)},t.title),Boolean(t.children&&t.children.length)&&o.a.createElement("ul",null,t.children.map((t=>o.a.createElement("li",{key:t.path},o.a.createElement(a["NavLink"],{to:t.path,exact:!0},o.a.createElement("span",null,t.title)),Boolean("menu"===b.toc&&"undefined"!==typeof window&&t.path===n.pathname&&r)&&o.a.createElement(g,{slugs:b.slugs}))))),s&&o.a.createElement(g,{slugs:b.slugs}))})))))}),v=m,b=(n("KAdo"),()=>{var t=Object(i["useState"])(""),e=Object(r["a"])(t,2),n=e[0],s=e[1],c=Object(i["useState"])([]),l=Object(r["a"])(c,2),u=l[0],h=l[1],d=Object(i["useRef"])(),p=Object(a["useSearch"])(n);return Object(i["useEffect"])((()=>{Array.isArray(p)?h(p):"function"===typeof p&&p(".".concat(d.current.className))}),[p]),o.a.createElement("div",{className:"__dumi-default-search"},o.a.createElement("input",Object(f["a"])({className:"__dumi-default-search-input",type:"search",ref:d},Array.isArray(p)?{value:n,onChange:t=>s(t.target.value)}:{})),o.a.createElement("ul",null,u.map((t=>{var e;return o.a.createElement("li",{key:t.path,onClick:()=>s("")},o.a.createElement(a["AnchorLink"],{to:t.path},(null===(e=t.parent)||void 0===e?void 0:e.title)&&o.a.createElement("span",null,t.parent.title),t.title))}))))}),y=(n("7ZSp"),t=>o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"__dumi-default-layout-hero"},t.image&&o.a.createElement("img",{src:t.image}),o.a.createElement("h1",null,t.title),o.a.createElement("div",{dangerouslySetInnerHTML:{__html:t.desc}}),t.actions&&t.actions.map((t=>o.a.createElement(a["Link"],{to:t.link,key:t.text},o.a.createElement("button",{type:"button"},t.text))))))),w=t=>o.a.createElement("div",{className:"__dumi-default-layout-features"},t.map((t=>o.a.createElement("dl",{key:t.title,style:{backgroundImage:t.icon?"url(".concat(t.icon,")"):void 0}},t.link?o.a.createElement(a["Link"],{to:t.link},o.a.createElement("dt",null,t.title)):o.a.createElement("dt",null,t.title),o.a.createElement("dd",{dangerouslySetInnerHTML:{__html:t.desc}}))))),_=t=>{var e,n,s=t.children,c=t.location,l=Object(i["useContext"])(a["context"]),u=l.config,f=u.mode,d=u.repository,p=l.meta,m=l.locale,_=d.url,x=d.branch,S=d.platform,C=Object(i["useState"])(!0),E=Object(r["a"])(C,2),O=E[0],k=E[1],T="site"===f,j=T&&p.hero,M=T&&p.features,A=!1!==p.sidemenu&&!j&&!M&&!p.gapless,P=!j&&!M&&Boolean(null===(e=p.slugs)||void 0===e?void 0:e.length)&&("content"===p.toc||void 0===p.toc)&&!p.gapless,I=/^zh|cn$/i.test(m),R=new Date(p.updatedTime),D="".concat(R.toLocaleDateString([],{hour12:!1})," ").concat(R.toLocaleTimeString([],{hour12:!1})),L={github:"GitHub",gitlab:"GitLab"}[(null===(n=(_||"").match(/(github|gitlab)/))||void 0===n?void 0:n[1])||"nothing"]||S;return o.a.createElement("div",{className:"__dumi-default-layout","data-route":c.pathname,"data-show-sidemenu":String(A),"data-show-slugs":String(P),"data-site-mode":T,"data-gapless":String(!!p.gapless),onClick:()=>{O||k(!0)}},o.a.createElement(h,{location:c,navPrefix:o.a.createElement(b,null),onMobileMenuClick:t=>{k((t=>!t)),t.stopPropagation()}}),o.a.createElement(v,{mobileMenuCollapsed:O,location:c}),P&&o.a.createElement(g,{slugs:p.slugs,className:"__dumi-default-layout-toc"}),j&&y(p.hero),M&&w(p.features),o.a.createElement("div",{className:"__dumi-default-layout-content"},s,!j&&!M&&p.filePath&&!p.gapless&&o.a.createElement("div",{className:"__dumi-default-layout-footer-meta"},L&&o.a.createElement(a["Link"],{to:"".concat(_,"/edit/").concat(x,"/").concat(p.filePath)},I?"\u5728 ".concat(L," \u4e0a\u7f16\u8f91\u6b64\u9875"):"Edit this doc on ".concat(L)),o.a.createElement("span",{"data-updated-text":I?"\u6700\u540e\u66f4\u65b0\u65f6\u95f4\uff1a":"Last update: "},D)),(j||M)&&p.footer&&o.a.createElement("div",{className:"__dumi-default-layout-footer",dangerouslySetInnerHTML:{__html:p.footer}})))};e["default"]=_},JI6M:function(t,e,n){"use strict";var r=n("MMxC"),i=n("mTKU").trim,o=n("HKQd");r({target:"String",proto:!0,forced:o("trim")},{trim:function(){return i(this)}})},JPgR:function(t,e,n){var r=n("lJCZ"),i=n("CxY0"),o=t.exports;for(var a in r)r.hasOwnProperty(a)&&(o[a]=r[a]);function s(t){if("string"===typeof t&&(t=i.parse(t)),t.protocol||(t.protocol="https:"),"https:"!==t.protocol)throw new Error('Protocol "'+t.protocol+'" not supported. Expected "https:"');return t}o.request=function(t,e){return t=s(t),r.request.call(this,t,e)},o.get=function(t,e){return t=s(t),r.get.call(this,t,e)}},JS3A:function(t,e,n){var r=n("tSXo");t.exports=function(t){if(!r(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},JX7q:function(t,e,n){"use strict";function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.d(e,"a",(function(){return r}))},JXee:function(t,e,n){var r=n("MMxC"),i=n("YMoz"),o=n("jdp+");r({target:"Math",stat:!0},{fscale:function(t,e,n,r,a){return o(i(t,e,n,r,a))}})},JXem:function(t,e,n){"use strict";var r,i,o,a=n("Acmb"),s=n("lz10"),c=n("jtLI"),l=n("2kyd"),u=n("Zcjx"),h=l("iterator"),f=!1,d=function(){return this};[].keys&&(o=[].keys(),"next"in o?(i=a(a(o)),i!==Object.prototype&&(r=i)):f=!0),void 0==r&&(r={}),u||c(r,h)||s(r,h,d),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:f}},Ji7U:function(t,e,n){"use strict";function r(t,e){return r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},r(t,e)}function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}n.r(e),n.d(e,"default",(function(){return i}))},KAdo:function(t,e,n){},KAxK:function(t,e,n){"use strict";var r=n("MMxC"),i=n("IuhT"),o=n("cT1L");r({target:"Map",stat:!0},{keyBy:function(t,e){var n=new this;o(e);var r=o(n.set);return i(t,(function(t){r.call(n,e(t),t)})),n}})},KHCi:function(t,e,n){var r=n("MMxC"),i=Math.min,o=Math.max;r({target:"Math",stat:!0},{clamp:function(t,e,n){return i(n,o(e,t))}})},KUpu:function(t,e,n){var r=n("I65O");r("hasInstance")},KcUY:function(t,e,n){"use strict";function r(t){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var i=u(n("q1tI")),o=c(n("q3YX")),a=c(n("bYHP")),s=c(n("nLCz"));function c(t){return t&&t.__esModule?t:{default:t}}function l(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return l=function(){return t},t}function u(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!==typeof t)return{default:t};var e=l();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n["default"]=t,e&&e.set(t,n),n}function h(t,e){return m(t)||g(t,e)||d(t,e)||f()}function f(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(t,e){if(t){if("string"===typeof t)return p(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(t,e):void 0}}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function g(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0)if(n.push(a.value),e&&n.length===e)break}catch(err){i=!0,o=err}finally{try{r||null==s["return"]||s["return"]()}finally{if(i)throw o}}return n}}function m(t){if(Array.isArray(t))return t}var v=function(t,e){var n=function(){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[1].replace(/[^^]\/$/,"");return(null===(t=n[0].find((function(t){var e=t.path;return e===i})))||void 0===t?void 0:t.meta)||{}},r=(0,i.useState)(n(t,e)),o=h(r,2),a=o[0],s=o[1];return(0,i.useLayoutEffect)((function(){s(n(t,e))}),[e]),a},b=function(t,e){var n=function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(null===(e=r[0].find((function(t){return r[1].startsWith("/".concat(t.name))})))||void 0===e?void 0:e.name)||t[0].name},r=(0,i.useState)(n(t,e)),o=h(r,2),a=o[0],s=o[1];return(0,i.useLayoutEffect)((function(){s(n(t,e))}),[e]),a},y=function(t,e,n){var r=function(){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var i=n[0].navs[n[1]]||[],o="*",a=i.length-1;a>=0;a-=1){var s=i[a],c=[s].concat(s.children).filter(Boolean),l=c.find((function(t){return t.path&&new RegExp("^".concat(t.path.replace(/\.html$/,""),"(/|.|$)")).test(n[2])}));if(l){o=l.path;break}}return(null===(t=n[0].menus[n[1]])||void 0===t?void 0:t[o])||[]},o=(0,i.useState)(r(t,e,n)),a=h(o,2),s=a[0],c=a[1];return(0,i.useLayoutEffect)((function(){c(r(t,e,n))}),[t.navs,t.menus,e,n]),s},w=function(t,e,n){var r=function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return r[0]===r[1][0].name?r[2].path:"".concat(n.path,"/").concat(t).replace(/\/\//,"/")},o=(0,i.useState)(r(t,e,n)),a=h(o,2),s=a[0],c=a[1];return(0,i.useLayoutEffect)((function(){c(r(t,e,n))}),[t]),s},_=function t(e){var n;return null===(n=e.find((function(e){return!!e.__dumiRoot||!!e.routes&&t(e.routes)})))||void 0===n?void 0:n.routes},x=function(t){var e=t.location,n=t.route,r=t.children,c=e.pathname.replace(n.path.replace(/^\/$/,"//"),""),l=_(t.routes)||[],u=v(l,e.pathname),h=b(o["default"].locales,c),f=y(o["default"],h,e.pathname),d=w(h,o["default"].locales,n);return(0,i.useEffect)((function(){e.hash&&a["default"].scrollToAnchor(decodeURIComponent(e.hash.slice(1)))}),[]),i["default"].createElement(s["default"].Provider,{value:{config:o["default"],meta:u,locale:h,nav:o["default"].navs[h]||[],menu:f,base:d,routes:l}},r)},S=x;e["default"]=S},KvPC:function(t,e,n){"use strict";var r=n("eYKs").charAt,i=n("1aI8"),o=n("uMwj"),a="String Iterator",s=i.set,c=i.getterFor(a);o(String,"String",(function(t){s(this,{type:a,string:String(t),index:0})}),(function(){var t,e=c(this),n=e.string,i=e.index;return i>=n.length?{value:void 0,done:!0}:(t=r(n,i),e.index+=t.length,{value:t,done:!1})}))},L5O0:function(t,e,n){var r=n("MMxC"),i=n("qA1w");r({target:"WeakSet",stat:!0},{of:i})},LJ80:function(t,e,n){var r=n("jtLI"),i=n("cC5k"),o=n("g8rt"),a=n("YfKC");t.exports=function(t,e){for(var n=i(e),s=a.f,c=o.f,l=0;l<n.length;l++){var u=n[l];r(t,u)||s(t,u,c(e,u))}}},"LK+K":function(t,e,n){"use strict";function r(t){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},r(t)}function i(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}n.r(e),n.d(e,"default",(function(){return c}));var o=n("U8pU"),a=n("JX7q");function s(t,e){return!e||"object"!==Object(o["a"])(e)&&"function"!==typeof e?Object(a["a"])(t):e}function c(t){var e=i();return function(){var n,i=r(t);if(e){var o=r(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return s(this,n)}}},LMrN:function(t,e,n){},LUyE:function(t,e,n){"use strict";var r=n("cT1L"),i=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)};t.exports.f=function(t){return new i(t)}},LtsZ:function(t,e,n){"use strict";n.r(e),n.d(e,"Link",(function(){return y})),n.d(e,"MemoryRouter",(function(){return o["a"]})),n.d(e,"NavLink",(function(){return C})),n.d(e,"Prompt",(function(){return o["b"]})),n.d(e,"Redirect",(function(){return o["c"]})),n.d(e,"Route",(function(){return o["d"]})),n.d(e,"Router",(function(){return o["e"]})),n.d(e,"StaticRouter",(function(){return o["f"]})),n.d(e,"Switch",(function(){return o["g"]})),n.d(e,"matchPath",(function(){return o["i"]})),n.d(e,"useHistory",(function(){return o["j"]})),n.d(e,"useLocation",(function(){return o["k"]})),n.d(e,"useParams",(function(){return o["l"]})),n.d(e,"useRouteMatch",(function(){return o["m"]})),n.d(e,"withRouter",(function(){return o["n"]})),n.d(e,"__RouterContext",(function(){return o["h"]})),n.d(e,"createBrowserHistory",(function(){return l["a"]})),n.d(e,"createHashHistory",(function(){return l["b"]})),n.d(e,"createMemoryHistory",(function(){return l["d"]})),n.d(e,"ApplyPluginsType",(function(){return S})),n.d(e,"Plugin",(function(){return G})),n.d(e,"dynamic",(function(){return ot}));var r=n("o0o1"),i=n.n(r),o=n("Ty5D"),a=n("dI71"),s=n("q1tI"),c=n.n(s),l=n("YS25"),u=(n("17x9"),n("wx14")),h=n("zLVn"),f=n("9R94");c.a.Component;c.a.Component;var d=function(t,e){return"function"===typeof t?t(e):t},p=function(t,e){return"string"===typeof t?Object(l["c"])(t,null,null,e):t},g=function(t){return t},m=c.a.forwardRef;function v(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}"undefined"===typeof m&&(m=g);var b=m((function(t,e){var n=t.innerRef,r=t.navigate,i=t.onClick,o=Object(h["a"])(t,["innerRef","navigate","onClick"]),a=o.target,s=Object(u["a"])({},o,{onClick:function(t){try{i&&i(t)}catch(e){throw t.preventDefault(),e}t.defaultPrevented||0!==t.button||a&&"_self"!==a||v(t)||(t.preventDefault(),r())}});return s.ref=g!==m&&e||n,c.a.createElement("a",s)}));var y=m((function(t,e){var n=t.component,r=void 0===n?b:n,i=t.replace,a=t.to,s=t.innerRef,l=Object(h["a"])(t,["component","replace","to","innerRef"]);return c.a.createElement(o["h"].Consumer,null,(function(t){t||Object(f["a"])(!1);var n=t.history,o=p(d(a,t.location),t.location),h=o?n.createHref(o):"",v=Object(u["a"])({},l,{href:h,navigate:function(){var e=d(a,t.location),r=i?n.replace:n.push;r(e)}});return g!==m?v.ref=e||s:v.innerRef=s,c.a.createElement(r,v)}))})),w=function(t){return t},_=c.a.forwardRef;function x(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter((function(t){return t})).join(" ")}"undefined"===typeof _&&(_=w);var S,C=_((function(t,e){var n=t["aria-current"],r=void 0===n?"page":n,i=t.activeClassName,a=void 0===i?"active":i,s=t.activeStyle,l=t.className,g=t.exact,m=t.isActive,v=t.location,b=t.sensitive,S=t.strict,C=t.style,E=t.to,O=t.innerRef,k=Object(h["a"])(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return c.a.createElement(o["h"].Consumer,null,(function(t){t||Object(f["a"])(!1);var n=v||t.location,i=p(d(E,n),n),h=i.pathname,T=h&&h.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),j=T?Object(o["i"])(n.pathname,{path:T,exact:g,sensitive:b,strict:S}):null,M=!!(m?m(j,n):j),A=M?x(l,a):l,P=M?Object(u["a"])({},C,{},s):C,I=Object(u["a"])({"aria-current":M&&r||null,className:A,style:P,to:i},k);return w!==_?I.ref=e||O:I.innerRef=O,c.a.createElement(y,I)}))})),E=n("8L3h");function O(t){return O="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O(t)}function k(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(l){return void n(l)}s.done?e(c):Promise.resolve(c).then(r,i)}function T(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){k(o,r,i,a,s,"next",t)}function s(t){k(o,r,i,a,s,"throw",t)}a(void 0)}))}}function j(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function A(t,e,n){return e&&M(t.prototype,e),n&&M(t,n),t}function P(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function R(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?I(Object(n),!0).forEach((function(e){P(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function D(t){return L(t)||N(t)||F(t)||U()}function L(t){if(Array.isArray(t))return t}function N(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function F(t,e){if(t){if("string"===typeof t)return B(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?B(t,e):void 0}}function B(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function U(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function W(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=F(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(s)throw o}}}}function z(t,e){if(!t)throw new Error(e)}function H(t){var e=t.fns,n=t.args;if(1===e.length)return e[0];var r=e.pop();return e.reduce((function(t,e){return function(){return e(t,n)}}),r)}function Y(t){return!!t&&"object"===O(t)&&"function"===typeof t.then}(function(t){t["compose"]="compose",t["modify"]="modify",t["event"]="event"})(S||(S={}));var G=function(){function t(e){j(this,t),this.hooks={},this.validKeys=(null===e||void 0===e?void 0:e.validKeys)||[]}return A(t,[{key:"register",value:function(t){var e=this;z(!!t.apply,"register failed, plugin.apply must supplied"),z(!!t.path,"register failed, plugin.path must supplied"),Object.keys(t.apply).forEach((function(n){z(e.validKeys.indexOf(n)>-1,"register failed, invalid key ".concat(n," from plugin ").concat(t.path,".")),e.hooks[n]||(e.hooks[n]=[]),e.hooks[n]=e.hooks[n].concat(t.apply[n])}))}},{key:"getHooks",value:function(t){var e=t.split("."),n=D(e),r=n[0],i=n.slice(1),o=this.hooks[r]||[];return i.length&&(o=o.map((function(t){try{var e,n=t,r=W(i);try{for(r.s();!(e=r.n()).done;){var o=e.value;n=n[o]}}catch(err){r.e(err)}finally{r.f()}return n}catch(a){return null}})).filter(Boolean)),o}},{key:"applyPlugins",value:function(t){var e=t.key,n=t.type,r=t.initialValue,o=t.args,a=t.async,s=this.getHooks(e)||[];switch(o&&z("object"===O(o),"applyPlugins failed, args must be plain object."),n){case S.modify:return a?s.reduce(function(){var t=T(i.a.mark((function t(n,r){var a;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(z("function"===typeof r||"object"===O(r)||Y(r),"applyPlugins failed, all hooks for key ".concat(e," must be function, plain object or Promise.")),!Y(n)){t.next=5;break}return t.next=4,n;case 4:n=t.sent;case 5:if("function"!==typeof r){t.next=16;break}if(a=r(n,o),!Y(a)){t.next=13;break}return t.next=10,a;case 10:return t.abrupt("return",t.sent);case 13:return t.abrupt("return",a);case 14:t.next=21;break;case 16:if(!Y(r)){t.next=20;break}return t.next=19,r;case 19:r=t.sent;case 20:return t.abrupt("return",R(R({},n),r));case 21:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),Y(r)?r:Promise.resolve(r)):s.reduce((function(t,n){return z("function"===typeof n||"object"===O(n),"applyPlugins failed, all hooks for key ".concat(e," must be function or plain object.")),"function"===typeof n?n(t,o):R(R({},t),n)}),r);case S.event:return s.forEach((function(t){z("function"===typeof t,"applyPlugins failed, all hooks for key ".concat(e," must be function.")),t(o)}));case S.compose:return function(){return H({fns:s.concat(r),args:o})()}}}}]),t}(),X=Object(s["createContext"])(null),V=[],K=[],$=!1;function q(t){var e=t(),n={loading:!0,loaded:null,error:null};return n.promise=e.then((function(t){return n.loading=!1,n.loaded=t,t}))["catch"]((function(t){throw n.loading=!1,n.error=t,t})),n}function Z(t){var e={loading:!1,loaded:{},error:null},n=[];try{Object.keys(t).forEach((function(r){var i=q(t[r]);i.loading?e.loading=!0:(e.loaded[r]=i.loaded,e.error=i.error),n.push(i.promise),i.promise.then((function(t){e.loaded[r]=t}))["catch"]((function(t){e.error=t}))}))}catch(err){e.error=err}return e.promise=Promise.all(n).then((function(t){return e.loading=!1,t}))["catch"]((function(t){throw e.loading=!1,t})),e}function J(t){return t&&t.__esModule?t["default"]:t}function Q(t,e){return Object(s["createElement"])(J(t),e)}function tt(t,e){var n=Object.assign({loader:null,loading:null,delay:200,timeout:null,render:Q,webpack:null,modules:null},e),r=null;function i(){if(!r){var e=new et(t,n);r={getCurrentValue:e.getCurrentValue.bind(e),subscribe:e.subscribe.bind(e),retry:e.retry.bind(e),promise:e.promise.bind(e)}}return r.promise()}if("undefined"===typeof window&&V.push(i),!$&&"undefined"!==typeof window&&"function"===typeof n.webpack){var o=n.webpack();K.push((function(t){var e,n=W(o);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(-1!==t.indexOf(r))return i()}}catch(err){n.e(err)}finally{n.f()}}))}var a=function(t,e){i();var o=Object(s["useContext"])(X),a=Object(E["useSubscription"])(r);return Object(s["useImperativeHandle"])(e,(function(){return{retry:r.retry}})),o&&Array.isArray(n.modules)&&n.modules.forEach((function(t){o(t)})),a.loading||a.error?Object(s["createElement"])(n.loading,{isLoading:a.loading,pastDelay:a.pastDelay,timedOut:a.timedOut,error:a.error,retry:r.retry}):a.loaded?n.render(a.loaded,t):null},c=Object(s["forwardRef"])(a);return c.preload=function(){return i()},c.displayName="LoadableComponent",c}var et=function(){function t(e,n){j(this,t),this._loadFn=e,this._opts=n,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}return A(t,[{key:"promise",value:function(){return this._res.promise}},{key:"retry",value:function(){var t=this;this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};var e=this._res,n=this._opts;e.loading&&("number"===typeof n.delay&&(0===n.delay?this._state.pastDelay=!0:this._delay=setTimeout((function(){t._update({pastDelay:!0})}),n.delay)),"number"===typeof n.timeout&&(this._timeout=setTimeout((function(){t._update({timedOut:!0})}),n.timeout))),this._res.promise.then((function(){t._update(),t._clearTimeouts()}))["catch"]((function(e){t._update(),t._clearTimeouts()})),this._update({})}},{key:"_update",value:function(t){this._state=R(R({},this._state),t),this._callbacks.forEach((function(t){return t()}))}},{key:"_clearTimeouts",value:function(){clearTimeout(this._delay),clearTimeout(this._timeout)}},{key:"getCurrentValue",value:function(){return R(R({},this._state),{},{error:this._res.error,loaded:this._res.loaded,loading:this._res.loading})}},{key:"subscribe",value:function(t){var e=this;return this._callbacks.add(t),function(){e._callbacks["delete"](t)}}}]),t}();function nt(t){return tt(q,t)}function rt(t){if("function"!==typeof t.render)throw new Error("LoadableMap requires a `render(loaded, props)` function");return tt(Z,t)}function it(t,e){var n=[];while(t.length){var r=t.pop();n.push(r(e))}return Promise.all(n).then((function(){if(t.length)return it(t,e)}))}function ot(t){var e=nt,n={loading:function(t){t.error,t.isLoading;return Object(s["createElement"])("p",null,"loading...")}};if("function"===typeof t)n.loader=t;else{if("object"!==O(t))throw new Error("Unexpect arguments ".concat(t));n=R(R({},n),t)}return e(n)}nt.Map=rt,nt.preloadAll=function(){return new Promise((function(t,e){it(V).then(t,e)}))},nt.preloadReady=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new Promise((function(e){var n=function(){return $=!0,e()};it(K,t).then(n,n)}))},"undefined"!==typeof window&&(window.__NEXT_PRELOADREADY=nt.preloadReady)},M8HR:function(t,e,n){"use strict";var r=n("MVys");function i(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=r((function(){var t=i("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=r((function(){var t=i("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},MMxC:function(t,e,n){var r=n("ukPv"),i=n("g8rt").f,o=n("lz10"),a=n("NMFW"),s=n("TMUv"),c=n("LJ80"),l=n("kkxG");t.exports=function(t,e){var n,u,h,f,d,p,g=t.target,m=t.global,v=t.stat;if(u=m?r:v?r[g]||s(g,{}):(r[g]||{}).prototype,u)for(h in e){if(d=e[h],t.noTargetGet?(p=i(u,h),f=p&&p.value):f=u[h],n=l(m?h:g+(v?".":"#")+h,t.forced),!n&&void 0!==f){if(typeof d===typeof f)continue;c(d,f)}(t.sham||f&&f.sham)&&o(d,"sham",!0),a(u,h,d,t)}}},MVys:function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},MgzW:function(t,e,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function s(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map((function(t){return e[t]}));if("0123456789"!==r.join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(t){i[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(err){return!1}}t.exports=s()?Object.assign:function(t,e){for(var n,s,c=a(t),l=1;l<arguments.length;l++){for(var u in n=Object(arguments[l]),n)i.call(n,u)&&(c[u]=n[u]);if(r){s=r(n);for(var h=0;h<s.length;h++)o.call(n,s[h])&&(c[s[h]]=n[s[h]])}}return c}},Mi8B:function(t,e,n){"use strict";var r=n("MMxC"),i=n("ukPv"),o=n("tny8"),a=n("8OQV"),s=n("FVwB"),c=n("ZSlt"),l=n("igoe"),u=n("HhvW"),h=n("lz10"),f=n("oa35"),d=n("J+Da"),p=n("nCqj"),g=n("gFfw"),m=n("jtLI"),v=n("Ei+o"),b=n("tSXo"),y=n("u+7+"),w=n("g1ZG"),_=n("uGHk").f,x=n("Sn4z"),S=n("zv1X").forEach,C=n("ssJt"),E=n("YfKC"),O=n("g8rt"),k=n("1aI8"),T=n("+vfm"),j=k.get,M=k.set,A=E.f,P=O.f,I=Math.round,R=i.RangeError,D=c.ArrayBuffer,L=c.DataView,N=s.NATIVE_ARRAY_BUFFER_VIEWS,F=s.TYPED_ARRAY_TAG,B=s.TypedArray,U=s.TypedArrayPrototype,W=s.aTypedArrayConstructor,z=s.isTypedArray,H="BYTES_PER_ELEMENT",Y="Wrong length",G=function(t,e){var n=0,r=e.length,i=new(W(t))(r);while(r>n)i[n]=e[n++];return i},X=function(t,e){A(t,e,{get:function(){return j(this)[e]}})},V=function(t){var e;return t instanceof D||"ArrayBuffer"==(e=v(t))||"SharedArrayBuffer"==e},K=function(t,e){return z(t)&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},$=function(t,e){return K(t,e=g(e,!0))?u(2,t[e]):P(t,e)},q=function(t,e,n){return!(K(t,e=g(e,!0))&&b(n)&&m(n,"value"))||m(n,"get")||m(n,"set")||n.configurable||m(n,"writable")&&!n.writable||m(n,"enumerable")&&!n.enumerable?A(t,e,n):(t[e]=n.value,t)};o?(N||(O.f=$,E.f=q,X(U,"buffer"),X(U,"byteOffset"),X(U,"byteLength"),X(U,"length")),r({target:"Object",stat:!0,forced:!N},{getOwnPropertyDescriptor:$,defineProperty:q}),t.exports=function(t,e,n){var o=t.match(/\d+$/)[0]/8,s=t+(n?"Clamped":"")+"Array",c="get"+t,u="set"+t,g=i[s],m=g,v=m&&m.prototype,E={},O=function(t,e){var n=j(t);return n.view[c](e*o+n.byteOffset,!0)},k=function(t,e,r){var i=j(t);n&&(r=(r=I(r))<0?0:r>255?255:255&r),i.view[u](e*o+i.byteOffset,r,!0)},P=function(t,e){A(t,e,{get:function(){return O(this,e)},set:function(t){return k(this,e,t)},enumerable:!0})};N?a&&(m=e((function(t,e,n,r){return l(t,m,s),T(function(){return b(e)?V(e)?void 0!==r?new g(e,p(n,o),r):void 0!==n?new g(e,p(n,o)):new g(e):z(e)?G(m,e):x.call(m,e):new g(d(e))}(),t,m)})),w&&w(m,B),S(_(g),(function(t){t in m||h(m,t,g[t])})),m.prototype=v):(m=e((function(t,e,n,r){l(t,m,s);var i,a,c,u=0,h=0;if(b(e)){if(!V(e))return z(e)?G(m,e):x.call(m,e);i=e,h=p(n,o);var g=e.byteLength;if(void 0===r){if(g%o)throw R(Y);if(a=g-h,a<0)throw R(Y)}else if(a=f(r)*o,a+h>g)throw R(Y);c=a/o}else c=d(e),a=c*o,i=new D(a);M(t,{buffer:i,byteOffset:h,byteLength:a,length:c,view:new L(i)});while(u<c)P(t,u++)})),w&&w(m,B),v=m.prototype=y(U)),v.constructor!==m&&h(v,"constructor",m),F&&h(v,F,s),E[s]=m,r({global:!0,forced:m!=g,sham:!N},E),H in m||h(m,H,o),H in v||h(v,H,o),C(s)}):t.exports=function(){}},Mn2j:function(t,e,n){var r=n("Mi8B");r("Int8",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},NMFW:function(t,e,n){var r=n("ukPv"),i=n("lz10"),o=n("jtLI"),a=n("TMUv"),s=n("J3Yn"),c=n("1aI8"),l=c.get,u=c.enforce,h=String(String).split("String");(t.exports=function(t,e,n,s){var c=!!s&&!!s.unsafe,l=!!s&&!!s.enumerable,f=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof e||o(n,"name")||i(n,"name",e),u(n).source=h.join("string"==typeof e?e:"")),t!==r?(c?!f&&t[e]&&(l=!0):delete t[e],l?t[e]=n:i(t,e,n)):l?t[e]=n:a(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&l(this).source||s(this)}))},NMu4:function(t,e,n){"use strict";var r=n("MMxC");r({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})},"NQz/":function(t,e,n){"use strict";var r=n("FVwB").exportTypedArrayMethod,i=n("MVys"),o=n("ukPv"),a=o.Uint8Array,s=a&&a.prototype||{},c=[].toString,l=[].join;i((function(){c.call({})}))&&(c=function(){return l.call(this)});var u=s.toString!=c;r("toString",c,u)},NYJX:function(t,e,n){"use strict";var r=n("MMxC"),i=n("zv1X").filter,o=n("jMDO"),a=n("kGMc"),s=o("filter"),c=a("filter");r({target:"Array",proto:!0,forced:!s||!c},{filter:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},NcLc:function(t,e,n){"use strict";var r=n("k/J9"),i=n("M8HR"),o=RegExp.prototype.exec,a=String.prototype.replace,s=o,c=function(){var t=/a/,e=/b*/g;return o.call(t,"a"),o.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),l=i.UNSUPPORTED_Y||i.BROKEN_CARET,u=void 0!==/()??/.exec("")[1],h=c||u||l;h&&(s=function(t){var e,n,i,s,h=this,f=l&&h.sticky,d=r.call(h),p=h.source,g=0,m=t;return f&&(d=d.replace("y",""),-1===d.indexOf("g")&&(d+="g"),m=String(t).slice(h.lastIndex),h.lastIndex>0&&(!h.multiline||h.multiline&&"\n"!==t[h.lastIndex-1])&&(p="(?: "+p+")",m=" "+m,g++),n=new RegExp("^(?:"+p+")",d)),u&&(n=new RegExp("^"+p+"$(?!\\s)",d)),c&&(e=h.lastIndex),i=o.call(f?n:h,m),f?i?(i.input=i.input.slice(g),i[0]=i[0].slice(g),i.index=h.lastIndex,h.lastIndex+=i[0].length):h.lastIndex=0:c&&i&&(h.lastIndex=h.global?i.index+i[0].length:e),u&&i&&i.length>1&&a.call(i[0],n,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(i[s]=void 0)})),i}),t.exports=s},Nehr:function(t,e,n){"use strict";t.exports={isString:function(t){return"string"===typeof t},isObject:function(t){return"object"===typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},O9az:function(t,e,n){var r=n("MMxC"),i=n("f1E4"),o=n("tSXo"),a=n("jtLI"),s=n("MVys"),c=n("YfKC"),l=n("g8rt"),u=n("Acmb"),h=n("HhvW");function f(t,e,n){var r,s,d=arguments.length<4?t:arguments[3],p=l.f(i(t),e);if(!p){if(o(s=u(t)))return f(s,e,n,d);p=h(0)}if(a(p,"value")){if(!1===p.writable||!o(d))return!1;if(r=l.f(d,e)){if(r.get||r.set||!1===r.writable)return!1;r.value=n,c.f(d,e,r)}else c.f(d,e,h(0,n));return!0}return void 0!==p.set&&(p.set.call(d,n),!0)}var d=s((function(){var t=c.f({},"a",{configurable:!0});return!1!==Reflect.set(u(t),"a",1,t)}));r({target:"Reflect",stat:!0,forced:d},{set:f})},OAmA:function(t,e,n){"use strict";var r=n("MMxC"),i=n("Zcjx"),o=n("Z+8a");r({target:"WeakSet",proto:!0,real:!0,forced:i},{addAll:function(){return o.apply(this,arguments)}})},ODXe:function(t,e,n){"use strict";function r(t){if(Array.isArray(t))return t}function i(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0)if(n.push(a.value),e&&n.length===e)break}catch(err){i=!0,o=err}finally{try{r||null==s["return"]||s["return"]()}finally{if(i)throw o}}return n}}n.d(e,"a",(function(){return s}));var o=n("BsWD");function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(t,e){return r(t)||i(t,e)||Object(o["a"])(t,e)||a()}},Onz0:function(t,e,n){(function(t){function n(t){return Array.isArray?Array.isArray(t):"[object Array]"===m(t)}function r(t){return"boolean"===typeof t}function i(t){return null===t}function o(t){return null==t}function a(t){return"number"===typeof t}function s(t){return"string"===typeof t}function c(t){return"symbol"===typeof t}function l(t){return void 0===t}function u(t){return"[object RegExp]"===m(t)}function h(t){return"object"===typeof t&&null!==t}function f(t){return"[object Date]"===m(t)}function d(t){return"[object Error]"===m(t)||t instanceof Error}function p(t){return"function"===typeof t}function g(t){return null===t||"boolean"===typeof t||"number"===typeof t||"string"===typeof t||"symbol"===typeof t||"undefined"===typeof t}function m(t){return Object.prototype.toString.call(t)}e.isArray=n,e.isBoolean=r,e.isNull=i,e.isNullOrUndefined=o,e.isNumber=a,e.isString=s,e.isSymbol=c,e.isUndefined=l,e.isRegExp=u,e.isObject=h,e.isDate=f,e.isError=d,e.isFunction=p,e.isPrimitive=g,e.isBuffer=t.isBuffer}).call(this,n("tjlA").Buffer)},Osgv:function(t,e,n){var r=n("MMxC");r({target:"Math",stat:!0},{signbit:function(t){return(t=+t)==t&&0==t?1/t==-1/0:t<0}})},OxFa:function(t,e,n){},P0e2:function(t,e,n){var r=n("Srjj"),i=n("De94");t.exports=Object.keys||function(t){return r(t,i)}},P7XM:function(t,e){"function"===typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}},PHrn:function(t,e,n){"use strict";var r=n("zv1X").forEach,i=n("R8iy"),o=n("kGMc"),a=i("forEach"),s=o("forEach");t.exports=a&&s?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},PPXv:function(t,e,n){var r=n("Zcjx"),i=n("qcmB");t.exports=r?i:function(t){return Map.prototype.entries.call(t)}},PRug:function(t,e,n){e=t.exports=n("i3fk"),e.Stream=e,e.Readable=e,e.Writable=n("W8Jt"),e.Duplex=n("FxWf"),e.Transform=n("TpIV"),e.PassThrough=n("Rhof")},PUJJ:function(t,e,n){"use strict";var r=n("MMxC"),i=n("Zcjx"),o=n("f1E4"),a=n("cT1L"),s=n("IuhT");r({target:"Set",proto:!0,real:!0,forced:i},{isSupersetOf:function(t){var e=o(this),n=a(e.has);return!s(t,(function(t){if(!1===n.call(e,t))return s.stop()})).stopped}})},Pp3M:function(t,e,n){"use strict";var r=n("/gva"),i=n("vO0A");t.exports=r("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),i)},Q2Ig:function(t,e,n){e.nextTick=function(t){var e=Array.prototype.slice.call(arguments);e.shift(),setTimeout((function(){t.apply(null,e)}),0)},e.platform=e.arch=e.execPath=e.title="browser",e.pid=1,e.browser=!0,e.env={},e.argv=[],e.binding=function(t){throw new Error("No such module. (Possibly not yet loaded)")},function(){var t,r="/";e.cwd=function(){return r},e.chdir=function(e){t||(t=n("33yf")),r=t.resolve(e,r)}}(),e.exit=e.kill=e.umask=e.dlopen=e.uptime=e.memoryUsage=e.uvCounters=function(){},e.features={}},Q2WS:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n("hwdV").Buffer,o=n(5);function a(t,e,n){t.copy(e,n)}t.exports=function(){function t(){r(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";var e=this.head,n=""+e.data;while(e=e.next)n+=t+e.data;return n},t.prototype.concat=function(t){if(0===this.length)return i.alloc(0);if(1===this.length)return this.head.data;var e=i.allocUnsafe(t>>>0),n=this.head,r=0;while(n)a(n.data,e,r),r+=n.data.length,n=n.next;return e},t}(),o&&o.inspect&&o.inspect.custom&&(t.exports.prototype[o.inspect.custom]=function(){var t=o.inspect({length:this.length});return this.constructor.name+" "+t})},Q3OH:function(t,e,n){var r=n("eNh0");r("flatMap")},QCnb:function(t,e,n){"use strict";t.exports=n("+wdc")},QQ4S:function(t,e,n){"use strict";var r=n("0qr0"),i=n("m0kY"),o=n("oa35"),a=n("R8iy"),s=n("kGMc"),c=Math.min,l=[].lastIndexOf,u=!!l&&1/[1].lastIndexOf(1,-0)<0,h=a("lastIndexOf"),f=s("indexOf",{ACCESSORS:!0,1:0}),d=u||!h||!f;t.exports=d?function(t){if(u)return l.apply(this,arguments)||0;var e=r(this),n=o(e.length),a=n-1;for(arguments.length>1&&(a=c(a,i(arguments[1]))),a<0&&(a=n+a);a>=0;a--)if(a in e&&e[a]===t)return a||0;return-1}:l},Qlla:function(t,e,n){var r=n("29mP");t.exports=r("navigator","userAgent")||""},"Qqe/":function(t,e,n){var r=n("1Cbe"),i=n("NMFW"),o=n("33TD");r||i(Object.prototype,"toString",o,{unsafe:!0})},"R/Zn":function(t,e,n){var r=n("MVys");t.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},R8iy:function(t,e,n){"use strict";var r=n("MVys");t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){throw 1},1)}))}},RDHo:function(t,e,n){"use strict";var r=n("MMxC"),i=n("Zcjx"),o=n("+X1D");r({target:"Set",proto:!0,real:!0,forced:i},{deleteAll:function(){return o.apply(this,arguments)}})},RIqP:function(t,e,n){var r=n("Ijbi"),i=n("EbDI"),o=n("ZhPi"),a=n("Bnag");function s(t){return r(t)||i(t)||o(t)||a()}t.exports=s},RhWa:function(t,e,n){"use strict";var r=n("MMxC"),i=n("Zcjx"),o=n("29mP"),a=n("f1E4"),s=n("cT1L"),c=n("qcmB"),l=n("IuhT");r({target:"Set",proto:!0,real:!0,forced:i},{isSubsetOf:function(t){var e=c(this),n=a(t),r=n.has;return"function"!=typeof r&&(n=new(o("Set"))(t),r=s(n.has)),!l(e,(function(t){if(!1===r.call(n,t))return l.stop()}),void 0,!1,!0).stopped}})},Rhof:function(t,e,n){"use strict";t.exports=o;var r=n("TpIV"),i=Object.create(n("Onz0"));function o(t){if(!(this instanceof o))return new o(t);r.call(this,t)}i.inherits=n("P7XM"),i.inherits(o,r),o.prototype._transform=function(t,e,n){n(null,t)}},Rka6:function(t,e,n){"use strict";var r=n("MMxC"),i=n("Zcjx"),o=n("f1E4"),a=n("7BAe"),s=n("PPXv"),c=n("IuhT");r({target:"Map",proto:!0,real:!0,forced:i},{findKey:function(t){var e=o(this),n=s(e),r=a(t,arguments.length>1?arguments[1]:void 0,3);return c(n,(function(t,n){if(r(n,t,e))return c.stop(t)}),void 0,!0,!0).result}})},Rsk4:function(t,e,n){"use strict";n.r(e),e["default"]={"docs-demo":{component:function(){var t=n("284h"),e=n("TqRt"),r=e(n("1OyB")),i=e(n("vuIU")),o=e(n("Ji7U")),a=e(n("LK+K")),s=t(n("q1tI")),c=e(n("TSYQ"));n("hZTp");var l=n("oXiK"),u=function(t){(0,o["default"])(n,t);var e=(0,a["default"])(n);function n(){var t;return(0,r["default"])(this,n),t=e.call(this),t.state={editState:l.consts.states.NORMAL,arrow:{color:"#FF3440",stroke:4},freeDraw:{color:"#FF3440",stroke:4},text:{color:"#FF3440"},mosaic:{stroke:"#FF3440"}},t}return(0,i["default"])(n,[{key:"componentDidMount",value:function(){var t=this;window.fabricPhoto=this.fp=new l.FabricPhoto("#upload-file-image-preview",{cssMaxWidth:700,cssMaxHeight:400}),this.fp.once("loadImage",(function(e){t.fp.clearUndoStack()})),this.fp.loadImageFromURL("/images/demo.jpeg","image name"),this.fp.on("selectObject",(function(e){"rect"===e.type||"circle"===e.type||"triangle"===e.type?(t.setState({editState:l.consts.states.SHAPE}),t.activateShapeMode()):"text"===e.type&&(t.setState({editState:l.consts.states.TEXT}),t.activateTextMode())})),this.fp.on("activateText",(function(e){"new"===e.type&&(console.log("--activateText--new--\x3e",e),t.fp.addText("\u53cc\u51fb\u7f16\u8f91",{styles:{fill:t.state.text.color,fontSize:50},position:e.originPosition}))})),this.fp.on({emptyUndoStack:function(){},emptyRedoStack:function(){},pushUndoStack:function(){},pushRedoStack:function(){},endCropping:function(){},endFreeDrawing:function(){},adjustObject:function(t,e){t.type}})}},{key:"componentWillUnmount",value:function(){this.fp&&(this.fp.destory(),this.fp=null,$("#upload-file-image-preview-paper").empty())}},{key:"activateShapeMode",value:function(){this.fp.getCurrentState()!==l.consts.states.SHAPE&&(this.fp.endFreeDrawing(),this.fp.endTextMode(),this.fp.endLineDrawing(),this.fp.endMosaicDrawing(),this.fp.endCropping(),this.fp.endArrowDrawing(),this.fp.endPan(),this.fp.startDrawingShapeMode())}},{key:"activateTextMode",value:function(){this.fp.getCurrentState()!==l.consts.states.TEXT&&(this.fp.endFreeDrawing(),this.fp.endLineDrawing(),this.fp.endArrowDrawing(),this.fp.endMosaicDrawing(),this.fp.endCropping(),this.fp.endDrawingShapeMode(),this.fp.endTextMode(),this.fp.endPan(),this.fp.startTextMode())}},{key:"getWindowViewPort",value:function(){return{height:$(window).height(),width:$(window).width()}}},{key:"getDialogViewPort",value:function(){var t=this.getWindowViewPort(),e=t.height,n=t.width;return{width:n<680?680:n>900?900:n,height:e<450?450:e>600?600:e}}},{key:"resetEditorState",value:function(){this.setState({editState:l.consts.states.NORMAL})}},{key:"onArrowBtnClick",value:function(){this.fp.endAll(),this.state.editState===l.consts.states.ARROW?this.resetEditorState():(this.setState({editState:l.consts.states.ARROW}),this.fp.startArrowDrawing({width:this.state.arrow.stroke,color:this.state.arrow.color}))}},{key:"onFreeDrawBtnClick",value:function(){this.fp.endAll(),this.state.editState===l.consts.states.FREE_DRAWING?this.resetEditorState():(this.setState({editState:l.consts.states.FREE_DRAWING}),this.fp.startFreeDrawing({width:this.state.freeDraw.stroke,color:this.state.freeDraw.color}))}},{key:"onMosaicBtnClick",value:function(){this.fp.endAll(),this.state.editState===l.consts.states.MOSAIC?this.resetEditorState():(this.setState({editState:l.consts.states.MOSAIC}),this.fp.startMosaicDrawing({dimensions:this.state.mosaic.stroke}))}},{key:"onTextBtnClick",value:function(){this.fp.getCurrentState()===l.consts.states.TEXT?(this.fp.endAll(),this.resetEditorState()):(this.setState({editState:l.consts.states.TEXT}),this.fp.endAll(),this.fp.startTextMode())}},{key:"onRotationBtnClick",value:function(){this.fp.endAll(),this.fp.rotate(90),this.resetEditorState()}},{key:"onCropBtnClick",value:function(){this.fp.startCropping()}},{key:"onClearBtnClick",value:function(){this.resetEditorState(),this.fp.clearObjects()}},{key:"onApplyCropBtn",value:function(){this.fp.endCropping(!0)}},{key:"onCancleCropBtn",value:function(){this.fp.endCropping()}},{key:"onUndoBtn",value:function(){this.fp.undo()}},{key:"onRedoBtn",value:function(){this.fp.redo()}},{key:"onPanBtnClick",value:function(){this.fp.endAll(),this.fp.startPan()}},{key:"renderArrowMenus",value:function(){return s["default"].createElement("div",{className:"tools-panel"},s["default"].createElement("div",{className:"tools-panel-brush"},s["default"].createElement("div",null,s["default"].createElement("span",{className:"small-brush",onClick:function(){}}," ")),s["default"].createElement("div",null,s["default"].createElement("span",{className:"normal-brush",onClick:function(){}}," ")),s["default"].createElement("div",null,s["default"].createElement("span",{className:"big-brush",onClick:function(){}}," "))),s["default"].createElement("span",{className:"tools-divider"}," "),s["default"].createElement("div",{className:"tools-panel-color"},s["default"].createElement("span",{className:"color red",onClick:this.changeEditorColor("#FF3440")}," "),s["default"].createElement("span",{className:"color yellow",onClick:this.changeEditorColor("#FFCF50")}," "),s["default"].createElement("span",{className:"color green",onClick:this.changeEditorColor("#00A344")}," "),s["default"].createElement("span",{className:"color blue",onClick:this.changeEditorColor("#0DA9D6")}," "),s["default"].createElement("span",{className:"color grey",onClick:this.changeEditorColor("#999999")}," "),s["default"].createElement("span",{className:"color black",onClick:this.changeEditorColor("#ffffff")}," "),s["default"].createElement("span",{className:"color white",onClick:this.changeEditorColor("#000000")}," ")))}},{key:"renderFreeDrawMenus",value:function(){return s["default"].createElement("div",{className:"tools-panel"},s["default"].createElement("div",{className:"tools-panel-brush"},s["default"].createElement("div",null,s["default"].createElement("span",{className:"small-brush",onClick:function(){}}," ")),s["default"].createElement("div",null,s["default"].createElement("span",{className:"normal-brush",onClick:function(){}}," ")),s["default"].createElement("div",null,s["default"].createElement("span",{className:"big-brush",onClick:function(){}}," "))),s["default"].createElement("span",{className:"tools-divider"}," "),s["default"].createElement("div",{className:"tools-panel-color"},s["default"].createElement("span",{className:"color red",onClick:this.changeEditorColor("#FF3440")}," "),s["default"].createElement("span",{className:"color yellow",onClick:this.changeEditorColor("#FFCF50")}," "),s["default"].createElement("span",{className:"color green",onClick:this.changeEditorColor("#00A344")}," "),s["default"].createElement("span",{className:"color blue",onClick:this.changeEditorColor("#0DA9D6")}," "),s["default"].createElement("span",{className:"color grey",onClick:this.changeEditorColor("#999999")}," "),s["default"].createElement("span",{className:"color black",onClick:this.changeEditorColor("#ffffff")}," "),s["default"].createElement("span",{className:"color white",onClick:this.changeEditorColor("#000000")}," ")))}},{key:"renderMosaicMenus",value:function(){return s["default"].createElement("div",{className:"tools-panel"},s["default"].createElement("div",{className:"tools-panel-brush"},s["default"].createElement("div",null,s["default"].createElement("span",{className:"small-brush",onClick:function(){}}," ")),s["default"].createElement("div",null,s["default"].createElement("span",{className:"normal-brush",onClick:function(){}}," ")),s["default"].createElement("div",null,s["default"].createElement("span",{className:"big-brush",onClick:function(){}}," "))))}},{key:"renderTextMenus",value:function(){return s["default"].createElement("div",{className:"tools-panel"},s["default"].createElement("div",{className:"tools-panel-color"},s["default"].createElement("span",{className:"color red",onClick:this.changeEditorColor("#FF3440")}," "),s["default"].createElement("span",{className:"color yellow",onClick:this.changeEditorColor("#FFCF50")}," "),s["default"].createElement("span",{className:"color green",onClick:this.changeEditorColor("#00A344")}," "),s["default"].createElement("span",{className:"color blue",onClick:this.changeEditorColor("#0DA9D6")}," "),s["default"].createElement("span",{className:"color grey",onClick:this.changeEditorColor("#999999")}," "),s["default"].createElement("span",{className:"color black",onClick:this.changeEditorColor("#ffffff")}," "),s["default"].createElement("span",{className:"color white",onClick:this.changeEditorColor("#000000")}," ")))}},{key:"renderCropMenus",value:function(){return s["default"].createElement("div",{className:"tools-panel"},s["default"].createElement("div",{className:"tools-panel-crop"},s["default"].createElement("span",{className:"tools-panel-crop-apply-btn",onClick:this.onApplyCropBtn.bind(this)}," "),s["default"].createElement("span",{className:"tools-panel-crop-cancel-btn",onClick:this.onCancleCropBtn.bind(this)}," ")))}},{key:"zoomOut",value:function(t){var e=this.fp.getZoom()+t;e>4||this.fp.setZoom(e)}},{key:"zoomIn",value:function(t){var e=this.fp.getZoom()-t;e<1||this.fp.setZoom(e)}},{key:"changeEditorColor",value:function(){return function(){}}},{key:"onURL",value:function(){this.fp.toDataURL("image/png")}},{key:"render",value:function(){var t=(0,c["default"])({"file-button":!0,"file-button--pc":"pc"===Object({NODE_ENV:"production"}).APP_ENV,"upload-success":!0}),e=null;return this.fp&&console.log("editor state",this.fp.getCurrentState()),e=this.fp&&this.fp.getCurrentState()===l.consts.states.FREE_DRAWING?this.renderFreeDrawMenus():this.fp&&this.fp.getCurrentState()===l.consts.states.ARROW?this.renderArrowMenus():this.fp&&this.fp.getCurrentState()===l.consts.states.MOSAIC?this.renderMosaicMenus():this.fp&&this.fp.getCurrentState()===l.consts.states.TEXT?this.renderTextMenus():null,s["default"].createElement("div",{className:"wrap_inner"},s["default"].createElement("div",{className:"main"},s["default"].createElement("div",{className:"upload-file-image-preview",id:"upload-file-image-preview"}),s["default"].createElement("div",{className:t},s["default"].createElement("div",{className:"image-thumb-btns"},s["default"].createElement("i",{className:"dxicon dxicon-image-suoxiao",onClick:this.zoomIn.bind(this,.2)}),s["default"].createElement("div",{className:"thumb-divider"}),s["default"].createElement("i",{className:"dxicon dxicon-image-fangda",onClick:this.zoomOut.bind(this,.2)})),s["default"].createElement("div",{className:"image-tools-btns"},s["default"].createElement("i",{className:"dxicon dxicon-image-jiantou",onClick:this.onArrowBtnClick.bind(this)}),s["default"].createElement("i",{className:"dxicon dxicon-image-huabi",onClick:this.onFreeDrawBtnClick.bind(this)}),s["default"].createElement("i",{className:"dxicon dxicon-image-text",onClick:this.onTextBtnClick.bind(this)}),s["default"].createElement("i",{className:"dxicon dxicon-image-masaike",onClick:this.onMosaicBtnClick.bind(this)}),s["default"].createElement("i",{className:"dxicon dxicon-image-xuanzhuan",onClick:this.onRotationBtnClick.bind(this)}),s["default"].createElement("i",{className:"dxicon dxicon-image-jiancai",onClick:this.onCropBtnClick.bind(this)}),s["default"].createElement("i",{className:"dxicon dxicon-image-jiancai",onClick:this.onPanBtnClick.bind(this)}),s["default"].createElement("span",{className:"tools-divider"}," "),s["default"].createElement("span",{className:"file-button-cancel",onClick:this.onClearBtnClick.bind(this)},"\u590d\u539f"),s["default"].createElement("span",{className:"file-button-cancel",onClick:this.onUndoBtn.bind(this)},"undo"),s["default"].createElement("span",{className:"file-button-cancel",onClick:this.onRedoBtn.bind(this)},"redo"),s["default"].createElement("span",{className:"file-button-cancel",onClick:this.onURL.bind(this)},"url"),e),s["default"].createElement("div",{className:"ctn-btns"}))))}}]),n}(s.Component),h=function(){return s["default"].createElement(u,null)};return s["default"].createElement(h)},previewerProps:{sources:{_:{tsx:"import React, { Component } from 'react';\nimport classnames from 'classnames';\nimport '../src/scss/index.scss';\n\nimport { FabricPhoto, consts } from '../../src/index';\n\nclass WrapContainer extends Component {\n    constructor() {\n        super();\n        this.state = {\n            editState: consts.states.NORMAL,\n            arrow: {\n                color: '#FF3440',\n                stroke: 4\n            },\n            freeDraw: {\n                color: '#FF3440',\n                stroke: 4\n            },\n            text: {\n                color: '#FF3440'\n            },\n            mosaic: {\n                stroke: '#FF3440'\n            }\n        };\n    }\n\n    componentDidMount() {\n        window.fabricPhoto = this.fp = new FabricPhoto('#upload-file-image-preview', {\n            cssMaxWidth: 700,\n            cssMaxHeight: 400\n        });\n        this.fp.once('loadImage', (oImage) => {\n            this.fp.clearUndoStack();\n        });\n        this.fp.loadImageFromURL('/images/demo.jpeg', 'image name');\n        this.fp.on('selectObject', (obj) => {\n            //console.log('selectObject---\x3e',obj);\n            if (obj.type === 'rect' || obj.type === 'circle' || obj.type === 'triangle') {\n                this.setState({\n                    editState: consts.states.SHAPE\n                });\n                this.activateShapeMode();\n            } else if (obj.type === 'text') {\n                this.setState({\n                    editState: consts.states.TEXT\n                });\n                this.activateTextMode();\n            }\n        });\n        this.fp.on('activateText', (obj) => {\n            //console.log('activateText----obj---\x3e',obj);\n            // add new text on cavas\n            if (obj.type === 'new') {\n                console.log('--activateText--new--\x3e', obj);\n                this.fp.addText('\u53cc\u51fb\u7f16\u8f91', {\n                    styles: {\n                        fill: this.state.text.color,\n                        fontSize: 50\n                    },\n                    position: obj.originPosition\n                });\n            }\n        });\n        this.fp.on({\n            emptyUndoStack: () => {\n                // $btnUndo.addClass('disabled');\n                // resizeEditor();\n            },\n            emptyRedoStack: () => {\n                // $btnRedo.addClass('disabled');\n                // resizeEditor();\n            },\n            pushUndoStack: () => {\n                // $btnUndo.removeClass('disabled');\n                // resizeEditor();\n            },\n            pushRedoStack: () => {\n                // $btnRedo.removeClass('disabled');\n                // resizeEditor();\n            },\n            endCropping: () => {\n                // $cropSubMenu.hide();\n                // resizeEditor();\n            },\n            endFreeDrawing: () => {\n                //$freeDrawingSubMenu.hide();\n            },\n            adjustObject: (obj, type) => {\n                if (obj.type === 'text' && type === 'scale') {\n                    //$inputFontSizeRange.val(obj.getFontSize());\n                }\n            }\n        });\n    }\n\n    componentWillUnmount() {\n        if (this.fp) {\n            this.fp.destory();\n            this.fp = null;\n            $('#upload-file-image-preview-paper').empty();\n        }\n    }\n\n    activateShapeMode() {\n        if (this.fp.getCurrentState() !== consts.states.SHAPE) {\n            this.fp.endFreeDrawing();\n            this.fp.endTextMode();\n            this.fp.endLineDrawing();\n            this.fp.endMosaicDrawing();\n            this.fp.endCropping();\n            this.fp.endArrowDrawing();\n            this.fp.endPan();\n            this.fp.startDrawingShapeMode();\n        }\n    }\n\n    activateTextMode() {\n        if (this.fp.getCurrentState() !== consts.states.TEXT) {\n            this.fp.endFreeDrawing();\n            this.fp.endLineDrawing();\n            this.fp.endArrowDrawing();\n            this.fp.endMosaicDrawing();\n            this.fp.endCropping();\n            this.fp.endDrawingShapeMode();\n            this.fp.endTextMode();\n            this.fp.endPan();\n            this.fp.startTextMode();\n        }\n    }\n\n    getWindowViewPort() {\n        return {\n            height: $(window).height(),\n            width: $(window).width()\n        };\n    }\n\n    getDialogViewPort() {\n        const { height, width } = this.getWindowViewPort();\n        return {\n            width: width < 680 ? 680 : width > 900 ? 900 : width,\n            height: height < 450 ? 450 : height > 600 ? 600 : height\n        };\n    }\n\n    resetEditorState() {\n        this.setState({\n            editState: consts.states.NORMAL\n        });\n    }\n\n    onArrowBtnClick() {\n        this.fp.endAll();\n        //this.fp.startLineDrawing();\n        if (this.state.editState === consts.states.ARROW) {\n            this.resetEditorState();\n        } else {\n            this.setState({\n                editState: consts.states.ARROW\n            });\n            this.fp.startArrowDrawing({\n                width: this.state.arrow.stroke,\n                color: this.state.arrow.color\n            });\n        }\n    }\n\n    onFreeDrawBtnClick() {\n        this.fp.endAll();\n        if (this.state.editState === consts.states.FREE_DRAWING) {\n            this.resetEditorState();\n        } else {\n            this.setState({\n                editState: consts.states.FREE_DRAWING\n            });\n            this.fp.startFreeDrawing({\n                width: this.state.freeDraw.stroke,\n                color: this.state.freeDraw.color\n            });\n        }\n    }\n\n    onMosaicBtnClick() {\n        this.fp.endAll();\n        if (this.state.editState === consts.states.MOSAIC) {\n            this.resetEditorState();\n        } else {\n            this.setState({\n                editState: consts.states.MOSAIC\n            });\n            this.fp.startMosaicDrawing({\n                dimensions: this.state.mosaic.stroke\n            });\n        }\n    }\n\n    onTextBtnClick() {\n        if (this.fp.getCurrentState() === consts.states.TEXT) {\n            this.fp.endAll();\n            this.resetEditorState();\n        } else {\n            this.setState({\n                editState: consts.states.TEXT\n            });\n            //this.activateTextMode();\n            this.fp.endAll();\n            this.fp.startTextMode();\n        }\n    }\n\n    onRotationBtnClick() {\n        this.fp.endAll();\n        this.fp.rotate(90);\n        this.resetEditorState();\n    }\n\n    onCropBtnClick() {\n        this.fp.startCropping();\n    }\n\n    onClearBtnClick() {\n        this.resetEditorState();\n        this.fp.clearObjects();\n    }\n    onApplyCropBtn() {\n        this.fp.endCropping(true);\n    }\n\n    onCancleCropBtn() {\n        this.fp.endCropping();\n    }\n\n    onUndoBtn() {\n        this.fp.undo();\n    }\n    onRedoBtn() {\n        this.fp.redo();\n    }\n\n    onPanBtnClick() {\n        this.fp.endAll();\n        this.fp.startPan();\n    }\n\n    renderArrowMenus() {\n        return (\n            <div className=\"tools-panel\">\n                <div className=\"tools-panel-brush\">\n                    <div>\n                        <span className=\"small-brush\" onClick={() => {}}>\n                            {' '}\n                        </span>\n                    </div>\n                    <div>\n                        <span className=\"normal-brush\" onClick={() => {}}>\n                            {' '}\n                        </span>\n                    </div>\n                    <div>\n                        <span className=\"big-brush\" onClick={() => {}}>\n                            {' '}\n                        </span>\n                    </div>\n                </div>\n                <span className=\"tools-divider\"> </span>\n                <div className=\"tools-panel-color\">\n                    <span className=\"color red\" onClick={this.changeEditorColor('#FF3440')}>\n                        {' '}\n                    </span>\n                    <span className=\"color yellow\" onClick={this.changeEditorColor('#FFCF50')}>\n                        {' '}\n                    </span>\n                    <span className=\"color green\" onClick={this.changeEditorColor('#00A344')}>\n                        {' '}\n                    </span>\n                    <span className=\"color blue\" onClick={this.changeEditorColor('#0DA9D6')}>\n                        {' '}\n                    </span>\n                    <span className=\"color grey\" onClick={this.changeEditorColor('#999999')}>\n                        {' '}\n                    </span>\n                    <span className=\"color black\" onClick={this.changeEditorColor('#ffffff')}>\n                        {' '}\n                    </span>\n                    <span className=\"color white\" onClick={this.changeEditorColor('#000000')}>\n                        {' '}\n                    </span>\n                </div>\n            </div>\n        );\n    }\n\n    renderFreeDrawMenus() {\n        return (\n            <div className=\"tools-panel\">\n                <div className=\"tools-panel-brush\">\n                    <div>\n                        <span className=\"small-brush\" onClick={() => {}}>\n                            {' '}\n                        </span>\n                    </div>\n                    <div>\n                        <span className=\"normal-brush\" onClick={() => {}}>\n                            {' '}\n                        </span>\n                    </div>\n                    <div>\n                        <span className=\"big-brush\" onClick={() => {}}>\n                            {' '}\n                        </span>\n                    </div>\n                </div>\n                <span className=\"tools-divider\"> </span>\n                <div className=\"tools-panel-color\">\n                    <span className=\"color red\" onClick={this.changeEditorColor('#FF3440')}>\n                        {' '}\n                    </span>\n                    <span className=\"color yellow\" onClick={this.changeEditorColor('#FFCF50')}>\n                        {' '}\n                    </span>\n                    <span className=\"color green\" onClick={this.changeEditorColor('#00A344')}>\n                        {' '}\n                    </span>\n                    <span className=\"color blue\" onClick={this.changeEditorColor('#0DA9D6')}>\n                        {' '}\n                    </span>\n                    <span className=\"color grey\" onClick={this.changeEditorColor('#999999')}>\n                        {' '}\n                    </span>\n                    <span className=\"color black\" onClick={this.changeEditorColor('#ffffff')}>\n                        {' '}\n                    </span>\n                    <span className=\"color white\" onClick={this.changeEditorColor('#000000')}>\n                        {' '}\n                    </span>\n                </div>\n            </div>\n        );\n    }\n\n    renderMosaicMenus() {\n        return (\n            <div className=\"tools-panel\">\n                <div className=\"tools-panel-brush\">\n                    <div>\n                        <span className=\"small-brush\" onClick={() => {}}>\n                            {' '}\n                        </span>\n                    </div>\n                    <div>\n                        <span className=\"normal-brush\" onClick={() => {}}>\n                            {' '}\n                        </span>\n                    </div>\n                    <div>\n                        <span className=\"big-brush\" onClick={() => {}}>\n                            {' '}\n                        </span>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n    renderTextMenus() {\n        return (\n            <div className=\"tools-panel\">\n                <div className=\"tools-panel-color\">\n                    <span className=\"color red\" onClick={this.changeEditorColor('#FF3440')}>\n                        {' '}\n                    </span>\n                    <span className=\"color yellow\" onClick={this.changeEditorColor('#FFCF50')}>\n                        {' '}\n                    </span>\n                    <span className=\"color green\" onClick={this.changeEditorColor('#00A344')}>\n                        {' '}\n                    </span>\n                    <span className=\"color blue\" onClick={this.changeEditorColor('#0DA9D6')}>\n                        {' '}\n                    </span>\n                    <span className=\"color grey\" onClick={this.changeEditorColor('#999999')}>\n                        {' '}\n                    </span>\n                    <span className=\"color black\" onClick={this.changeEditorColor('#ffffff')}>\n                        {' '}\n                    </span>\n                    <span className=\"color white\" onClick={this.changeEditorColor('#000000')}>\n                        {' '}\n                    </span>\n                </div>\n            </div>\n        );\n    }\n\n    renderCropMenus() {\n        return (\n            <div className=\"tools-panel\">\n                <div className=\"tools-panel-crop\">\n                    <span\n                        className=\"tools-panel-crop-apply-btn\"\n                        onClick={this.onApplyCropBtn.bind(this)}\n                    >\n                        {' '}\n                    </span>\n                    <span\n                        className=\"tools-panel-crop-cancel-btn\"\n                        onClick={this.onCancleCropBtn.bind(this)}\n                    >\n                        {' '}\n                    </span>\n                </div>\n            </div>\n        );\n    }\n\n    zoomOut(delta) {\n        let nextZoom = this.fp.getZoom() + delta;\n        if (nextZoom > 4) {\n            return;\n        }\n        this.fp.setZoom(nextZoom);\n    }\n\n    zoomIn(delta) {\n        let nextZoom = this.fp.getZoom() - delta;\n        if (nextZoom < 1) {\n            return;\n        }\n        this.fp.setZoom(nextZoom);\n    }\n\n    changeEditorColor() {\n        return () => {};\n    }\n    onURL() {\n        this.fp.toDataURL('image/png');\n    }\n    render() {\n        let btnClassname = classnames({\n            'file-button': true,\n            'file-button--pc': process.env.APP_ENV === 'pc',\n            'upload-success': true\n        });\n        let menus = null;\n        this.fp && console.log('editor state', this.fp.getCurrentState());\n        if (this.fp && this.fp.getCurrentState() === consts.states.FREE_DRAWING) {\n            menus = this.renderFreeDrawMenus();\n        } else if (this.fp && this.fp.getCurrentState() === consts.states.ARROW) {\n            menus = this.renderArrowMenus();\n        } else if (this.fp && this.fp.getCurrentState() === consts.states.MOSAIC) {\n            menus = this.renderMosaicMenus();\n        } else if (this.fp && this.fp.getCurrentState() === consts.states.TEXT) {\n            menus = this.renderTextMenus();\n        } else {\n            menus = null;\n        }\n        return (\n            <div className=\"wrap_inner\">\n                <div className=\"main\">\n                    <div className=\"upload-file-image-preview\" id=\"upload-file-image-preview\"></div>\n                    <div className={btnClassname}>\n                        <div className=\"image-thumb-btns\">\n                            <i\n                                className=\"dxicon dxicon-image-suoxiao\"\n                                onClick={this.zoomIn.bind(this, 0.2)}\n                            />\n                            <div className=\"thumb-divider\"></div>\n                            <i\n                                className=\"dxicon dxicon-image-fangda\"\n                                onClick={this.zoomOut.bind(this, 0.2)}\n                            />\n                        </div>\n                        <div className=\"image-tools-btns\">\n                            <i\n                                className=\"dxicon dxicon-image-jiantou\"\n                                onClick={this.onArrowBtnClick.bind(this)}\n                            />\n                            <i\n                                className=\"dxicon dxicon-image-huabi\"\n                                onClick={this.onFreeDrawBtnClick.bind(this)}\n                            />\n                            <i\n                                className=\"dxicon dxicon-image-text\"\n                                onClick={this.onTextBtnClick.bind(this)}\n                            />\n                            <i\n                                className=\"dxicon dxicon-image-masaike\"\n                                onClick={this.onMosaicBtnClick.bind(this)}\n                            />\n                            <i\n                                className=\"dxicon dxicon-image-xuanzhuan\"\n                                onClick={this.onRotationBtnClick.bind(this)}\n                            />\n                            <i\n                                className=\"dxicon dxicon-image-jiancai\"\n                                onClick={this.onCropBtnClick.bind(this)}\n                            />\n                            <i\n                                className=\"dxicon dxicon-image-jiancai\"\n                                onClick={this.onPanBtnClick.bind(this)}\n                            />\n                            <span className=\"tools-divider\"> </span>\n                            <span\n                                className=\"file-button-cancel\"\n                                onClick={this.onClearBtnClick.bind(this)}\n                            >\n                                \u590d\u539f\n                            </span>\n                            <span\n                                className=\"file-button-cancel\"\n                                onClick={this.onUndoBtn.bind(this)}\n                            >\n                                undo\n                            </span>\n                            <span\n                                className=\"file-button-cancel\"\n                                onClick={this.onRedoBtn.bind(this)}\n                            >\n                                redo\n                            </span>\n                            <span className=\"file-button-cancel\" onClick={this.onURL.bind(this)}>\n                                url\n                            </span>\n                            {menus}\n                        </div>\n                        <div className=\"ctn-btns\"></div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default () => <WrapContainer />;"},"src/scss/index.scss":{import:"../src/scss/index.scss",content:'@import "./variable";\n@import "./mixin/iconfont";\n@import "./mixin/clearfix";\n@import "./theme/_default";\n@import "./normalize";\n@import "./iconfont";\n@import "./main";\n'},"src/index.js":{import:"../../src/index",content:"import Module from './module';\nimport commandFactory from './command';\nimport consts from './consts';\nimport util from './lib/util';\nimport CustomEvents from './lib/custom-event';\n\nconst events = consts.eventNames;\nconst modules = consts.moduleNames;\nconst commands = consts.commandNames;\nconst { states, keyCodes, fObjectOptions } = consts;\nconst { isUndefined, forEach, hasStamp } = util;\n\nlet DomURL = window.URL || window.webkitURL || window;\n\nclass FabricPhoto {\n    constructor(element, option) {\n        option = option || {};\n        this._module = new Module();\n        this._canvas = null;\n        this._state = states.NORMAL;\n        this._handlers = {\n            keydown: this._onKeyDown.bind(this),\n            mousedown: this._onMouseDown.bind(this),\n            addedObject: this._onAddedObject.bind(this),\n            removedObject: this._onRemovedObject.bind(this),\n            selectedObject: this._onSelectedObject.bind(this),\n            movingObject: this._onMovingObject.bind(this),\n            scalingObject: this._onScalingObject.bind(this),\n            createdPath: this._onCreatedPath.bind(this)\n        };\n\n        this._setCanvas(element, option.cssMaxWidth, option.cssMaxHeight);\n        this._attachModuleEvents();\n        this._attachCanvasEvents();\n        this._attachDomEvents();\n\n        if (option.selectionStyle) {\n            this._setSelectionStyle(option.selectionStyle);\n        }\n    }\n\n    _setSelectionStyle(styles) {\n        Object.assign(fObjectOptions.SELECTION_STYLE, styles);\n    }\n\n    _attachModuleEvents() {\n        const { PUSH_UNDO_STACK, PUSH_REDO_STACK, EMPTY_UNDO_STACK, EMPTY_REDO_STACK } = events;\n\n        /**\n         * @event fabricPhoto#pushUndoStack\n         */\n        this._module.on(PUSH_UNDO_STACK, this.fire.bind(this, PUSH_UNDO_STACK));\n        /**\n         * @event fabricPhoto#pushRedoStack\n         */\n        this._module.on(PUSH_REDO_STACK, this.fire.bind(this, PUSH_REDO_STACK));\n        /**\n         * @event fabricPhoto#emptyUndoStack\n         */\n        this._module.on(EMPTY_UNDO_STACK, this.fire.bind(this, EMPTY_UNDO_STACK));\n        /**\n         * @event fabricPhoto#emptyRedoStack\n         */\n        this._module.on(EMPTY_REDO_STACK, this.fire.bind(this, EMPTY_REDO_STACK));\n    }\n    _attachCanvasEvents() {\n        this._canvas.on({\n            'mouse:down': this._handlers.mousedown,\n            'object:added': this._handlers.addedObject,\n            'object:removed': this._handlers.removedObject,\n            'object:moving': this._handlers.movingObject,\n            'object:scaling': this._handlers.scalingObject,\n            'object:selected': this._handlers.selectedObject,\n            'path:created': this._handlers.createdPath\n        });\n    }\n    _attachDomEvents() {\n        fabric.util.addListener(document, 'keydown', this._handlers.keydown);\n    }\n    _detachDomEvents() {\n        fabric.util.removeListener(document, 'keydown', this._handlers.keydown);\n    }\n    _onKeyDown(e) {\n        if ((e.ctrlKey || e.metaKey) && e.keyCode === keyCodes.Z) {\n            this.undo();\n        }\n\n        if ((e.ctrlKey || e.metaKey) && e.keyCode === keyCodes.Y) {\n            this.redo();\n        }\n\n        if (\n            (e.keyCode === keyCodes.BACKSPACE || e.keyCode === keyCodes.DEL) &&\n            this._canvas.getActiveObject()\n        ) {\n            e.preventDefault();\n            this.removeActiveObject();\n        }\n    }\n    _onMouseDown(fEvent) {\n        const originPointer = this._canvas.getPointer(fEvent.e);\n\n        this.fire(events.MOUSE_DOWN, {\n            e: fEvent.e,\n            originPointer\n        });\n    }\n    /**\n     * \"object:added\" canvas event handler\n     * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event\n     * @private\n     */\n    _onAddedObject(fEvent) {\n        const obj = fEvent.target;\n\n        if (obj.isType('cropzone') || obj.isType('text')) {\n            return;\n        }\n\n        if (!hasStamp(obj)) {\n            const command = commandFactory.create(commands.ADD_OBJECT, obj);\n            this._module.pushUndoStack(command);\n            this._module.clearRedoStack();\n        }\n        /**\n         * @event fabricPhoto#addObject\n         * @param {fabric.Object} obj - http://fabricjs.com/docs/fabric.Object.html\n         * @example\n         * fabricPhoto.on('addObject', function(obj) {\n         *     console.log(obj);\n         * });\n         */\n        this.fire(events.ADD_OBJECT, obj);\n    }\n    /**\n     * \"object:removed\" canvas event handler\n     * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event\n     * @private\n     */\n    _onRemovedObject(fEvent) {\n        /**\n         * @event fabricPhoto#removeObject\n         * @param {fabric.Object} obj - http://fabricjs.com/docs/fabric.Object.html\n         * @example\n         * fabricPhoto.on('removeObject', function(obj) {\n         *     console.log(obj);\n         * });\n         */\n        this.fire(events.REMOVE_OBJECT, fEvent.target);\n    }\n    /**\n     * \"object:selected\" canvas event handler\n     * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event\n     * @private\n     */\n    _onSelectedObject(fEvent) {\n        /**\n         * @event fabricPhoto#selectObject\n         * @param {fabric.Object} obj - http://fabricjs.com/docs/fabric.Object.html\n         * @example\n         * fabricPhoto.on('selectObject', function(obj) {\n         *     console.log(obj);\n         *     console.log(obj.type);\n         * });\n         */\n        this.fire(events.SELECT_OBJECT, fEvent.target);\n    }\n    /**\n     * \"object:moving\" canvas event handler\n     * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event\n     * @private\n     */\n    _onMovingObject(fEvent) {\n        /**\n         * @event fabricPhoto#adjustObject\n         * @param {fabric.Object} obj - http://fabricjs.com/docs/fabric.Object.html\n         * @param {string} Action type (move / scale)\n         * @example\n         * fabricPhoto.on('adjustObject', function(obj, type) {\n         *     console.log(obj);\n         *     console.log(type);\n         * });\n         */\n        this.fire(events.ADJUST_OBJECT, fEvent.target, 'move');\n    }\n\n    /**\n     * \"object:scaling\" canvas event handler\n     * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event\n     * @private\n     */\n    _onScalingObject(fEvent) {\n        /**\n         * @ignore\n         * @event fabricPhoto#adjustObject\n         * @param {fabric.Object} obj - http://fabricjs.com/docs/fabric.Object.html\n         * @param {string} Action type (move / scale)\n         * @example\n         * fabricPhoto.on('adjustObject', function(obj, type) {\n         *     console.log(obj);\n         *     console.log(type);\n         * });\n         */\n        this.fire(events.ADJUST_OBJECT, fEvent.target, 'move');\n    }\n\n    /**\n     * EventListener - \"path:created\"\n     *  - Events:: \"object:added\" -> \"path:created\"\n     * @param {{path: fabric.Path}} obj - Path object\n     * @private\n     */\n    _onCreatedPath(obj) {\n        obj.path.customType = 'freedraw';\n        obj.path.set(consts.fObjectOptions.SELECTION_STYLE);\n    }\n    /**\n     * onSelectClear handler in fabric canvas\n     * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event\n     * @private\n     */\n    _onFabricSelectClear(fEvent) {\n        const textComp = this._getModule(modules.TEXT);\n        const obj = textComp.getSelectedObj();\n\n        textComp.isPrevEditing = true;\n\n        textComp.setSelectedInfo(fEvent.target, false);\n\n        if (obj.text === '') {\n            obj.remove();\n        } else if (!hasStamp(obj)) {\n            const command = commandFactory.create(commands.ADD_OBJECT, obj);\n            this._module.pushUndoStack(command);\n            this._module.clearRedoStack();\n        }\n    }\n\n    /**\n     * onSelect handler in fabric canvas\n     * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event\n     * @private\n     */\n    _onFabricSelect(fEvent) {\n        const textComp = this._getModule(modules.TEXT);\n        const obj = textComp.getSelectedObj();\n\n        textComp.isPrevEditing = true;\n\n        if (obj.text === '') {\n            obj.remove();\n        } else if (!hasStamp(obj) && textComp.isSelected()) {\n            const command = commandFactory.create(commands.ADD_OBJECT, obj);\n            this._module.pushUndoStack(command);\n            this._module.clearRedoStack();\n        }\n\n        textComp.setSelectedInfo(fEvent.target, true);\n    }\n\n    /**\n     * Set canvas element\n     * @param {string|jQuery|HTMLElement} element - Wrapper or canvas element or selector\n     * @param {number} cssMaxWidth - Canvas css max width\n     * @param {number} cssMaxHeight - Canvas css max height\n     * @private\n     */\n    _setCanvas(element, cssMaxWidth, cssMaxHeight) {\n        const mainModule = this._getMainModule();\n        mainModule.setCanvasElement(element);\n        mainModule.setCssMaxDimension({\n            width: cssMaxWidth,\n            height: cssMaxHeight\n        });\n        this._canvas = mainModule.getCanvas();\n    }\n\n    /**\n     * Returns main module\n     * @returns {Module} Main module\n     * @private\n     */\n    _getMainModule() {\n        return this._getModule(modules.MAIN);\n    }\n\n    /**\n     * Get module\n     * @param {string} name - Module name\n     * @returns {Module}\n     * @private\n     */\n    _getModule(name) {\n        return this._module.getModule(name);\n    }\n\n    getCurrentState() {\n        return this._state;\n    }\n\n    /**\n     * Clear all objects\n     * @example\n     * fabricPhoto.clearObjects();\n     */\n    clearObjects() {\n        const command = commandFactory.create(commands.CLEAR_OBJECTS);\n        const callback = this.fire.bind(this, events.CLEAR_OBJECTS);\n\n        /**\n         * @event fabricPhoto#clearObjects\n         */\n        command.setExecuteCallback(callback);\n        this.execute(command);\n    }\n\n    /**\n     * Check whether the image is edited\n     * @example\n     * fabricPhoto.isEditor();\n     */\n    isEdited() {\n        return this._canvas.getObjects().length > 0;\n    }\n\n    /**\n     * End current action & Deactivate\n     * @example\n     * fabricPhoto.startFreeDrawing();\n     * fabricPhoto.endAll(); // === fabricPhoto.endFreeDrawing();\n     *\n     * fabricPhoto.startCropping();\n     * fabricPhoto.endAll(); // === fabricPhoto.endCropping();\n     */\n    endAll() {\n        this.endCropping();\n        this.endTextMode();\n        this.endFreeDrawing();\n        this.endLineDrawing();\n        this.endArrowDrawing();\n        this.endMosaicDrawing();\n        this.endDrawingShapeMode();\n        this.endCropByBoundInfo();\n        this.endPan();\n        this.deactivateAll();\n        this._state = states.NORMAL;\n    }\n\n    /**\n     * Deactivate all objects\n     * @example\n     * fabricPhoto.deactivateAll();\n     */\n    deactivateAll() {\n        this._canvas.deactivateAll();\n        this._canvas.renderAll();\n    }\n\n    /**\n     * Invoke command\n     * @param {Command} command - Command\n     * @ignore\n     */\n    execute(command) {\n        this.endAll();\n        this._module.invoke(command);\n    }\n\n    /**\n     * Undo\n     * @example\n     * fabricPhoto.undo();\n     */\n    undo() {\n        this.endAll();\n        this._module.undo();\n    }\n\n    /**\n     * Redo\n     * @example\n     * fabricPhoto.redo();\n     */\n    redo() {\n        this.endAll();\n        this._module.redo();\n    }\n\n    /**\n     * Load image from file\n     * @param {File} imgFile - Image file\n     * @param {string} [imageName] - imageName\n     * @example\n     * fabricPhoto.loadImageFromFile(file);\n     */\n    loadImageFromFile(imgFile, imageName) {\n        if (!imgFile) {\n            return;\n        }\n\n        this.loadImageFromURL(DomURL.createObjectURL(imgFile), imageName || imgFile.name);\n    }\n\n    /**\n     * Load image from url\n     * @param {string} url - File url\n     * @param {string} imageName - imageName\n     * @example\n     * fabricPhoto.loadImageFromURL('http://url/testImage.png', 'lena')\n     */\n    loadImageFromURL(url, imageName) {\n        if (!imageName || !url) {\n            return;\n        }\n\n        const callback = this._callbackAfterImageLoading.bind(this);\n        const command = commandFactory.create(commands.LOAD_IMAGE, imageName, url);\n        command.setExecuteCallback(callback).setUndoCallback((oImage) => {\n            if (oImage) {\n                callback(oImage);\n            } else {\n                this.fire(events.CLEAR_IMAGE);\n            }\n        });\n        this.execute(command);\n    }\n\n    /**\n     * Callback after image loading\n     * @param {?fabric.Image} oImage - Image instance\n     * @private\n     */\n    _callbackAfterImageLoading(oImage) {\n        const mainModule = this._getMainModule();\n        const canvasElement = mainModule.getCanvasElement();\n        const { width, height } = canvasElement.getBoundingClientRect();\n\n        /**\n         * @event fabricPhoto#loadImage\n         * @param {object} dimension\n         *  @param {number} dimension.originalWidth - original image width\n         *  @param {number} dimension.originalHeight - original image height\n         *  @param {number} dimension.currentWidth - current width (css)\n         *  @param {number} dimension.current - current height (css)\n         * @example\n         * fabricPhoto.on('loadImage', function(dimension) {\n         *     console.log(dimension.originalWidth);\n         *     console.log(dimension.originalHeight);\n         *     console.log(dimension.currentWidth);\n         *     console.log(dimension.currentHeight);\n         * });\n         */\n\n        this.fire(events.LOAD_IMAGE, {\n            originalWidth: oImage.width,\n            originalHeight: oImage.height,\n            currentWidth: width,\n            currentHeight: height\n        });\n    }\n\n    /**\n     * Add image object on canvas\n     * @param {string} imgUrl - Image url to make object\n     * @example\n     * fabricPhoto.addImageObject('path/fileName.jpg');\n     */\n    addImageObject(imgUrl) {\n        if (!imgUrl) {\n            return;\n        }\n\n        fabric.Image.fromURL(imgUrl, this._callbackAfterLoadingImageObject.bind(this), {\n            crossOrigin: 'Anonymous'\n        });\n    }\n\n    /**\n     * Callback function after loading image\n     * @param {fabric.Image} obj - Fabric image object\n     * @private\n     */\n    _callbackAfterLoadingImageObject(obj) {\n        const mainModule = this._getMainModule();\n        const centerPos = mainModule.getCanvasImage().getCenterPoint();\n\n        obj.set(consts.fObjectOptions.SELECTION_STYLE);\n        obj.set({\n            left: centerPos.x,\n            top: centerPos.y,\n            crossOrigin: 'anonymous'\n        });\n\n        this._canvas.add(obj).setActiveObject(obj);\n    }\n\n    /**\n     * Start cropping\n     * @example\n     * fabricPhoto.startCropping();\n     */\n    startCropping() {\n        if (this.getCurrentState() === states.CROP) {\n            return;\n        }\n\n        this.endAll();\n        this._state = states.CROP;\n        const cropper = this._getModule(modules.CROPPER);\n        cropper.start();\n        this.fire(events.START_CROPPING);\n    }\n\n    /**\n     * Apply cropping\n     * @param {boolean} [isApplying] - Whether the cropping is applied or canceled\n     * @example\n     * fabricPhoto.startCropping();\n     * fabricPhoto.endCropping(false); // cancel cropping\n     *\n     * fabricPhoto.startCropping();\n     * fabricPhoto.endCropping(true); // apply cropping\n     */\n    endCropping(isApplying) {\n        if (this.getCurrentState() !== states.CROP) {\n            return;\n        }\n\n        const cropper = this._getModule(modules.CROPPER);\n        this._state = states.NORMAL;\n        const data = cropper.end(isApplying);\n\n        this.once('loadImage', () => {\n            this.fire(events.END_CROPPING);\n        });\n\n        if (data) {\n            this.loadImageFromURL(data.url, data.imageName);\n        }\n    }\n    /**\n     * start cropping\n     */\n    startCropByBoundInfo() {\n        this._state = states.CROP;\n    }\n    /**\n     * Apply cropping\n     * @param {object} [cropInfo] - crop bound info left top width height\n     */\n    endCropByBoundInfo(cropInfo) {\n        if (!cropInfo) {\n            return;\n        }\n\n        const data = {\n            imageName: this.getImageName(),\n            url: this._canvas.toDataURL(cropInfo)\n        };\n\n        this.once('loadImage', () => {\n            this.clearRedoStack();\n            this.clearUndoStack();\n            this.fire(events.END_CROPPING);\n        });\n\n        if (data) {\n            this.loadImageFromURL(data.url, data.imageName);\n        }\n    }\n\n    getViewPortImage() {\n        return this._getMainModule().getViewPortImage();\n    }\n\n    /**\n     * @param {string} type - 'rotate' or 'setAngle'\n     * @param {number} angle - angle value (degree)\n     * @private\n     */\n    _rotate(type, angle) {\n        const callback = this.fire.bind(this, events.ROTATE_IMAGE);\n        const command = commandFactory.create(commands.ROTATE_IMAGE, type, angle);\n\n        /**\n         * @event fabricPhoto#rotateImage\n         * @param {number} currentAngle - image.angle\n         * @example\n         * fabricPhoto.on('rotateImage', function(angle) {\n         *     console.log('angle: ', angle);\n         * });\n         */\n        command.setExecuteCallback(callback).setUndoCallback(callback);\n        this.execute(command);\n    }\n\n    /**\n     * Rotate image\n     * @param {number} angle - Additional angle to rotate image\n     * @example\n     * fabricPhoto.setAngle(10); // angle = 10\n     * fabricPhoto.rotate(10); // angle = 20\n     * fabricPhoto.setAngle(5); // angle = 5\n     * fabricPhoto.rotate(-95); // angle = -90\n     */\n    rotate(angle) {\n        this._rotate('rotate', angle);\n    }\n\n    /**\n     * Set angle\n     * @param {number} angle - Angle of image\n     * @example\n     * fabricPhoto.setAngle(10); // angle = 10\n     * fabricPhoto.rotate(10); // angle = 20\n     * fabricPhoto.setAngle(5); // angle = 5\n     * fabricPhoto.rotate(50); // angle = 55\n     * fabricPhoto.setAngle(-40); // angle = -40\n     */\n    setAngle(angle) {\n        this._rotate('setAngle', angle);\n    }\n\n    /**\n     * Get angle\n     */\n    getAngle() {\n        return this._getMainModule().getCanvasImage().angle;\n    }\n\n    /**\n     * Start free-drawing mode\n     * @param {{width: number, color: string}} [setting] - Brush width & color\n     * @example\n     * fabricPhoto.startFreeDrawing();\n     * fabricPhoto.endFreeDrawing();\n     * fabricPhoto.startFreeDrawing({\n     *     width: 12,\n     *     color: 'rgba(0, 0, 0, 0.5)'\n     * });\n     */\n    startFreeDrawing(setting) {\n        if (this.getCurrentState() === states.FREE_DRAWING) {\n            return;\n        }\n        this.endAll();\n        this._getModule(modules.FREE_DRAWING).start(setting);\n        this._state = states.FREE_DRAWING;\n\n        /**\n         * @event ImageEditor#startFreeDrawing\n         */\n        this.fire(events.START_FREE_DRAWING);\n    }\n    /**\n     * change path style\n     * @param {{width: number, color: string}} [setting] - Brush width & color\n     */\n    changeFreeDrawingPathStyle(setting) {\n        const activeObj = this._canvas.getActiveObject();\n\n        if (\n            this.getCurrentState() !== states.FREE_DRAWING ||\n            !activeObj ||\n            activeObj.customType !== 'freedraw'\n        ) {\n            return;\n        }\n\n        this._getModule(modules.FREE_DRAWING).setStyle(activeObj, setting);\n    }\n    /**\n     * Set drawing brush\n     * @param {{width: number, color: string}} setting - Brush width & color\n     * @example\n     * fabricPhoto.startFreeDrawing();\n     * fabricPhoto.setBrush({\n     *     width: 12,\n     *     color: 'rgba(0, 0, 0, 0.5)'\n     * });\n     * fabricPhoto.setBrush({\n     *     width: 8,\n     *     color: 'FFFFFF'\n     * });\n     */\n    setBrush(setting) {\n        const state = this._state;\n        let compName;\n\n        switch (state) {\n            case states.LINE:\n                compName = modules.LINE;\n                break;\n            default:\n                compName = modules.FREE_DRAWING;\n        }\n\n        this._getModule(compName).setBrush(setting);\n    }\n\n    /**\n     * End free-drawing mode\n     * @example\n     * fabricPhoto.startFreeDrawing();\n     * fabricPhoto.endFreeDrawing();\n     */\n    endFreeDrawing() {\n        if (this.getCurrentState() !== states.FREE_DRAWING) {\n            return;\n        }\n        this._getModule(modules.FREE_DRAWING).end();\n        this._state = states.NORMAL;\n\n        /**\n         * @event fabricPhoto#endFreeDrawing\n         */\n        this.fire(events.END_FREE_DRAWING);\n    }\n\n    /**\n     * Start line-drawing mode\n     * @param {{width: number, color: string}} [setting] - Brush width & color\n     * @example\n     * fabricPhoto.startLineDrawing();\n     * fabricPhoto.endLineDrawing();\n     * fabricPhoto.startLineDrawing({\n     *     width: 12,\n     *     color: 'rgba(0, 0, 0, 0.5)'\n     * });\n     */\n    startLineDrawing(setting) {\n        if (this.getCurrentState() === states.LINE) {\n            return;\n        }\n\n        this.endAll();\n        this._getModule(modules.LINE).start(setting);\n        this._state = states.LINE;\n\n        /**\n         * @event fabricPhoto#startLineDrawing\n         */\n        this.fire(events.START_LINE_DRAWING);\n    }\n\n    /**\n     * End line-drawing mode\n     * @example\n     * fabricPhoto.startLineDrawing();\n     * fabricPhoto.endLineDrawing();\n     */\n    endLineDrawing() {\n        if (this.getCurrentState() !== states.LINE) {\n            return;\n        }\n        this._getModule(modules.LINE).end();\n        this._state = states.NORMAL;\n\n        /**\n         * @event fabricPhoto#endLineDrawing\n         */\n        this.fire(events.END_LINE_DRAWING);\n    }\n\n    /**\n     * Start arrow-drawing mode\n     * @param {{width: number, color: string}} [setting] - Brush width & color\n     * @example\n     * fabricPhoto.startArrowDrawing();\n     * fabricPhoto.endArrowDrawing();\n     * fabricPhoto.startLineDrawing({\n     *     width: 12,\n     *     color: 'rgba(0, 0, 0, 0.5)'\n     * });\n     */\n    startArrowDrawing(setting) {\n        this.endAll();\n        this._getModule(modules.ARROW).start(setting);\n        this._state = states.ARROW;\n        this.fire(events.START_ARROW_DRAWING);\n    }\n\n    /**\n     * Start change arrow obj\n     * @param {{width: number, color: string}} [setting] - Brush width & color\n     */\n    changeArrowStyle(setting) {\n        const activeObj = this._canvas.getActiveObject();\n\n        if (\n            this.getCurrentState() !== states.ARROW ||\n            !activeObj ||\n            activeObj.customType !== 'arrow'\n        ) {\n            return;\n        }\n\n        this._getModule(modules.ARROW).setStyle(activeObj, setting);\n    }\n    /**\n     * End arrow-drawing mode\n     * @example\n     * fabricPhoto.startArrowDrawing();\n     * fabricPhoto.endArrowDrawing();\n     */\n    endArrowDrawing() {\n        this._getModule(modules.ARROW).end();\n        this._state = states.NORMAL;\n        this.fire(events.END_ARROW_DRAWING);\n    }\n\n    /**\n     * Start mosaic mode\n     * @param {{dimensions: number}} [setting] - dimensions\n     * @example\n     * fabricPhoto.startMosaicDrawing();\n     * fabricPhoto.endMosaicDrawing();\n     * fabricPhoto.startLineDrawing({\n     *     dimensions: 12,\n     * });\n     */\n    startMosaicDrawing(setting) {\n        this.endAll();\n        this._getModule(modules.MOSAIC).start(setting);\n        this._state = states.MOSAIC;\n\n        this.fire(events.START_MOSAIC_DRAWING);\n    }\n\n    /**\n     * End endMosaic mode\n     * @example\n     * fabricPhoto.startMosaicDrawing();\n     * fabricPhoto.endMosaicDrawing();\n     */\n    endMosaicDrawing() {\n        this._getModule(modules.MOSAIC).end();\n        this._state = states.NORMAL;\n        this.fire(events.END_MOSAIC_DRAWING);\n    }\n    /**\n     * Start to draw shape on canvas (bind event on canvas)\n     * @example\n     * fabricPhoto.startDrawingShapeMode();\n     */\n    startDrawingShapeMode() {\n        if (this.getCurrentState() !== states.SHAPE) {\n            this._state = states.SHAPE;\n            this._getModule(modules.SHAPE).startDrawingMode();\n        }\n    }\n\n    /**\n     * Set states of current drawing shape\n     * @param {string} type - Shape type (ex: 'rect', 'circle', 'triangle')\n     * @param {object} [options] - Shape options\n     *      @param {string} [options.fill] - Shape foreground color (ex: '#fff', 'transparent')\n     *      @param {string} [options.stoke] - Shape outline color\n     *      @param {number} [options.strokeWidth] - Shape outline width\n     *      @param {number} [options.width] - Width value (When type option is 'rect', this options can use)\n     *      @param {number} [options.height] - Height value (When type option is 'rect', this options can use)\n     *      @param {number} [options.rx] - Radius x value (When type option is 'circle', this options can use)\n     *      @param {number} [options.ry] - Radius y value (When type option is 'circle', this options can use)\n     *      @param {number} [options.isRegular] - Whether resizing shape has 1:1 ratio or not\n     * @example\n     * fabricPhoto.setDrawingShape('rect', {\n     *     fill: 'red',\n     *     width: 100,\n     *     height: 200\n     * });\n     * fabricPhoto.setDrawingShape('circle', {\n     *     fill: 'transparent',\n     *     stroke: 'blue',\n     *     strokeWidth: 3,\n     *     rx: 10,\n     *     ry: 100\n     * });\n     * fabricPhoto.setDrawingShape('triangle', { // When resizing, the shape keep the 1:1 ratio\n     *     width: 1,\n     *     height: 1,\n     *     isRegular: true\n     * });\n     * fabricPhoto.setDrawingShape('circle', { // When resizing, the shape keep the 1:1 ratio\n     *     rx: 10,\n     *     ry: 10,\n     *     isRegular: true\n     * });\n     */\n    setDrawingShape(type, options) {\n        this._getModule(modules.SHAPE).setStates(type, options);\n    }\n\n    /**\n     * Add shape\n     * @param {string} type - Shape type (ex: 'rect', 'circle', 'triangle')\n     * @param {object} options - Shape options\n     *      @param {string} [options.fill] - Shape foreground color (ex: '#fff', 'transparent')\n     *      @param {string} [options.stroke] - Shape outline color\n     *      @param {number} [options.strokeWidth] - Shape outline width\n     *      @param {number} [options.width] - Width value (When type option is 'rect', this options can use)\n     *      @param {number} [options.height] - Height value (When type option is 'rect', this options can use)\n     *      @param {number} [options.rx] - Radius x value (When type option is 'circle', this options can use)\n     *      @param {number} [options.ry] - Radius y value (When type option is 'circle', this options can use)\n     *      @param {number} [options.left] - Shape x position\n     *      @param {number} [options.top] - Shape y position\n     *      @param {number} [options.isRegular] - Whether resizing shape has 1:1 ratio or not\n     * @example\n     * fabricPhoto.addShape('rect', {\n     *     fill: 'red',\n     *     stroke: 'blue',\n     *     strokeWidth: 3,\n     *     width: 100,\n     *     height: 200,\n     *     left: 10,\n     *     top: 10,\n     *     isRegular: true\n     * });\n     * fabricPhoto.addShape('circle', {\n     *     fill: 'red',\n     *     stroke: 'blue',\n     *     strokeWidth: 3,\n     *     rx: 10,\n     *     ry: 100,\n     *     isRegular: false\n     * });\n     */\n    addShape(type, options) {\n        options = options || {};\n\n        this._setPositions(options);\n        this._getModule(modules.SHAPE).add(type, options);\n    }\n\n    /**\n     * Change shape\n     * @param {object} options - Shape options\n     *      @param {string} [options.fill] - Shape foreground color (ex: '#fff', 'transparent')\n     *      @param {string} [options.stroke] - Shape outline color\n     *      @param {number} [options.strokeWidth] - Shape outline width\n     *      @param {number} [options.width] - Width value (When type option is 'rect', this options can use)\n     *      @param {number} [options.height] - Height value (When type option is 'rect', this options can use)\n     *      @param {number} [options.rx] - Radius x value (When type option is 'circle', this options can use)\n     *      @param {number} [options.ry] - Radius y value (When type option is 'circle', this options can use)\n     *      @param {number} [options.isRegular] - Whether resizing shape has 1:1 ratio or not\n     * @example\n     * // call after selecting shape object on canvas\n     * fabricPhoto.changeShape({ // change rectagle or triangle\n     *     fill: 'red',\n     *     stroke: 'blue',\n     *     strokeWidth: 3,\n     *     width: 100,\n     *     height: 200\n     * });\n     * fabricPhoto.changeShape({ // change circle\n     *     fill: 'red',\n     *     stroke: 'blue',\n     *     strokeWidth: 3,\n     *     rx: 10,\n     *     ry: 100\n     * });\n     */\n    changeShape(options) {\n        const activeObj = this._canvas.getActiveObject();\n        const shapeModule = this._getModule(modules.SHAPE);\n\n        if (!activeObj) {\n            return;\n        }\n\n        shapeModule.change(activeObj, options);\n    }\n\n    /**\n     * End to draw shape on canvas (unbind event on canvas)\n     * @example\n     * fabricPhoto.startDrawingShapeMode();\n     * fabricPhoto.endDrawingShapeMode();\n     */\n    endDrawingShapeMode() {\n        if (this.getCurrentState() === states.SHAPE) {\n            this._getModule(modules.SHAPE).endDrawingMode();\n            this._state = states.NORMAL;\n        }\n    }\n\n    /**\n     * Start text input mode\n     * @example\n     * fabricPhoto.endTextMode();\n     * fabricPhoto.startTextMode();\n     */\n    startTextMode() {\n        if (this.getCurrentState() !== states.TEXT) {\n            this._state = states.TEXT;\n\n            this._getModule(modules.TEXT).start({\n                mousedown: this._onFabricMouseDown.bind(this),\n                select: this._onFabricSelect.bind(this),\n                selectClear: this._onFabricSelectClear.bind(this),\n                dbclick: this._onDBClick.bind(this),\n                remove: this._handlers.removedObject\n            });\n        }\n    }\n\n    /**\n     * Add text on image\n     * @param {string} text - Initial input text\n     * @param {object} [options] Options for generating text\n     *     @param {object} [options.styles] Initial styles\n     *         @param {string} [options.styles.fill] Color\n     *         @param {string} [options.styles.fontFamily] Font type for text\n     *         @param {number} [options.styles.fontSize] Size\n     *         @param {string} [options.styles.fontStyle] Type of inclination (normal / italic)\n     *         @param {string} [options.styles.fontWeight] Type of thicker or thinner looking (normal / bold)\n     *         @param {string} [options.styles.textAlign] Type of text align (left / center / right)\n     *         @param {string} [options.styles.textDecoraiton] Type of line (underline / line-throgh / overline)\n     *     @param {{x: number, y: number}} [options.position] - Initial position\n     * @param {boolean} defaultEdit default start edit\n     * @example\n     * fabricPhoto.addText();\n     * fabricPhoto.addText('init text', {\n     *     styles: {\n     *     fill: '#000',\n     *         fontSize: '20',\n     *         fontWeight: 'bold'\n     *     },\n     *     position: {\n     *         x: 10,\n     *         y: 10\n     *     }\n     * });\n     */\n    addText(text, options, defaultEdit = false) {\n        if (this.getCurrentState() !== states.TEXT) {\n            this._state = states.TEXT;\n        }\n\n        this._getModule(modules.TEXT).add(text || '', options || {}, defaultEdit);\n    }\n\n    /**\n     * Change contents of selected text object on image\n     * @param {string} text - Changing text\n     * @example\n     * fabricPhoto.changeText('change text');\n     */\n    changeText(text) {\n        const activeObj = this._canvas.getActiveObject();\n\n        if (this.getCurrentState() !== states.TEXT || !activeObj) {\n            return;\n        }\n\n        this._getModule(modules.TEXT).change(activeObj, text);\n    }\n\n    /**\n     * Set style\n     * @param {object} styleObj - Initial styles\n     *     @param {string} [styleObj.fill] Color\n     *     @param {string} [styleObj.fontFamily] Font type for text\n     *     @param {number} [styleObj.fontSize] Size\n     *     @param {string} [styleObj.fontStyle] Type of inclination (normal / italic)\n     *     @param {string} [styleObj.fontWeight] Type of thicker or thinner looking (normal / bold)\n     *     @param {string} [styleObj.textAlign] Type of text align (left / center / right)\n     *     @param {string} [styleObj.textDecoraiton] Type of line (underline / line-throgh / overline)\n     * @example\n     * fabricPhoto.changeTextStyle({\n     *     fontStyle: 'italic'\n     * });\n     */\n    changeTextStyle(styleObj) {\n        const activeObj = this._canvas.getActiveObject();\n\n        if (this.getCurrentState() !== states.TEXT || !activeObj) {\n            return;\n        }\n\n        this._getModule(modules.TEXT).setStyle(activeObj, styleObj);\n    }\n\n    /**\n     * End text input mode\n     * @example\n     * fabricPhoto.startTextMode();\n     * fabricPhoto.endTextMode();\n     */\n    endTextMode() {\n        if (this.getCurrentState() !== states.TEXT) {\n            return;\n        }\n\n        this._state = states.NORMAL;\n\n        this._getModule(modules.TEXT).end();\n    }\n\n    /**\n     * Double click event handler\n     * @private\n     */\n    _onDBClick() {\n        /**\n         * @event ImageEditor#editText\n         * @example\n         * fabricPhoto.on('editText', function(obj) {\n         *     console.log('text object: ' + obj);\n         * });\n         */\n        this.fire(events.EDIT_TEXT);\n    }\n\n    /**\n     * Mousedown event handler\n     * @param {fabric.Event} event - Current mousedown event object\n     * @private\n     */\n    _onFabricMouseDown(event) {\n        // eslint-disable-line\n        const obj = event.target;\n        const e = event.e || {};\n        const originPointer = this._canvas.getPointer(e);\n        const textComp = this._getModule(modules.TEXT);\n        let isNew = !obj;\n        if (obj && !obj.isType('text')) {\n            isNew = true;\n        }\n        if (textComp.isPrevEditing) {\n            textComp.isPrevEditing = false;\n\n            return;\n        }\n        /**\n         * @event fabricPhoto#activateText\n         * @param {object} options\n         *     @param {boolean} options.type - Type of text object (new / select)\n         *     @param {string} options.text - Current text\n         *     @param {object} options.styles - Current styles\n         *         @param {string} options.styles.fill - Color\n         *         @param {string} options.styles.fontFamily - Font type for text\n         *         @param {number} options.styles.fontSize - Size\n         *         @param {string} options.styles.fontStyle - Type of inclination (normal / italic)\n         *         @param {string} options.styles.fontWeight - Type of thicker or thinner looking (normal / bold)\n         *         @param {string} options.styles.textAlign - Type of text align (left / center / right)\n         *         @param {string} options.styles.textDecoraiton - Type of line (underline / line-throgh / overline)\n         *     @param {{x: number, y: number}} options.originPosition - Current position on origin canvas\n         *     @param {{x: number, y: number}} options.clientPosition - Current position on client area\n         * @example\n         * fabricPhoto.on('activateText', function(obj) {\n         *     console.log('text object type: ' + obj.type);\n         *     console.log('text contents: ' + obj.text);\n         *     console.log('text styles: ' + obj.styles);\n         *     console.log('text position on canvas: ' + obj.originPosition);\n         *     console.log('text position on brwoser: ' + obj.clientPosition);\n         * });\n         */\n        this.fire(events.ACTIVATE_TEXT, {\n            type: !isNew ? 'select' : 'new',\n            text: obj ? obj.text : '',\n            styles: obj\n                ? {\n                      fill: obj.fill,\n                      fontFamily: obj.fontFamily,\n                      fontSize: obj.fontSize,\n                      fontStyle: obj.fontStyle,\n                      textAlign: obj.textAlign,\n                      textDecoration: obj.textDecoration\n                  }\n                : {},\n            originPosition: {\n                x: originPointer.x,\n                y: originPointer.y\n            },\n            clientPosition: {\n                x: e.clientX || 0,\n                y: e.clientY || 0\n            }\n        });\n    }\n\n    /**\n     * Remove active object or group\n     * @example\n     * fabricPhoto.removeActiveObject();\n     */\n    removeActiveObject() {\n        const canvas = this._canvas;\n        const target = canvas.getActiveObject() || canvas.getActiveGroup();\n        const command = commandFactory.create(commands.REMOVE_OBJECT, target);\n        this.execute(command);\n    }\n\n    /**\n     * Start pan mode\n     */\n    startPan() {\n        if (this.getCurrentState() === states.PAN) {\n            return;\n        }\n\n        this.endAll();\n        this._getModule(modules.PAN).start();\n        this._state = states.PAN;\n        this.fire(events.START_PAN);\n    }\n    /**\n     * End pan mode\n     */\n    endPan() {\n        this._getModule(modules.PAN).end();\n        this._state = states.NORMAL;\n        this.fire(events.END_PAN);\n    }\n\n    setZoom(rate) {\n        rate = rate || 1;\n        const command = commandFactory.create(commands.ZOOM, rate);\n        const callback = this._callbackAfterZoom.bind(this);\n        command.setExecuteCallback(callback).setUndoCallback((zoom) => {\n            callback(zoom);\n        });\n        this.execute(command);\n    }\n\n    _callbackAfterZoom(zoom) {\n        this.fire(consts.eventNames.CHANGE_ZOOM, zoom);\n    }\n\n    getZoom() {\n        const mainModule = this._getModule(modules.MAIN);\n        return mainModule.getZoom();\n    }\n\n    /**\n     * Get data url\n     * @param {string} type - A DOMString indicating the image format. The default type is image/png.\n     * @returns {string} A DOMString containing the requested data URI\n     * @example\n     * imgEl.src = imageEditor.toDataURL();\n     */\n    toDataURL(type) {\n        this.endAll();\n        return this._getMainModule().toDataURL(type);\n    }\n\n    /**\n     * Get blob\n     * @param {string} type - A DOMString indicating the image format. The default type is image/png.\n     * @returns {Blob} Blob\n     * @example\n     * imgEl.src = imageEditor.toDataURL();\n     */\n    toBlobData(type) {\n        this.endAll();\n        return this._getMainModule().toBlob(type);\n    }\n\n    /**\n     * Get image name\n     * @returns {string} image name\n     * @example\n     * console.log(imageEditor.getImageName());\n     */\n    getImageName() {\n        return this._getMainModule().getImageName();\n    }\n\n    /**\n     * Clear undoStack\n     * @example\n     * fabricPhoto.clearUndoStack();\n     */\n    clearUndoStack() {\n        this._module.clearUndoStack();\n    }\n\n    /**\n     * Clear redoStack\n     * @example\n     * fabricPhoto.clearRedoStack();\n     */\n    clearRedoStack() {\n        this._module.clearRedoStack();\n    }\n\n    /**\n     * Whehter the undo stack is empty or not\n     * @returns {boolean}\n     * fabricPhoto.isEmptyUndoStack();\n     */\n    isEmptyUndoStack() {\n        return this._module.isEmptyUndoStack();\n    }\n\n    /**\n     * Whehter the redo stack is empty or not\n     * @returns {boolean}\n     * fabricPhoto.isEmptyRedoStack();\n     */\n    isEmptyRedoStack() {\n        return this._module.isEmptyRedoStack();\n    }\n\n    /**\n     * Resize canvas dimension\n     * @param {{width: number, height: number}} dimension - Max width & height\n     */\n    resizeCanvasDimension(dimension) {\n        const mainModule = this._getMainModule();\n\n        if (!dimension) {\n            return;\n        }\n\n        mainModule.setCssMaxDimension(dimension);\n        mainModule.adjustCanvasDimension();\n    }\n    /**\n     * Destroy\n     */\n    destroy() {\n        const wrapperEl = this._canvas.wrapperEl;\n\n        this.endAll();\n        this._detachDomEvents();\n\n        this._canvas.clear();\n\n        wrapperEl.parentNode.removeChild(wrapperEl);\n\n        forEach(\n            this,\n            (value, key) => {\n                this[key] = null;\n            },\n            this\n        );\n    }\n\n    /**\n     * Set position\n     * @param {object} options - Position options (left or top)\n     * @private\n     */\n    _setPositions(options) {\n        const centerPosition = this._canvas.getCenter();\n\n        if (isUndefined(options.left)) {\n            options.left = centerPosition.left;\n        }\n\n        if (isUndefined(options.top)) {\n            options.top = centerPosition.top;\n        }\n    }\n\n    /**\n     * adjustCanvasDimension\n     */\n    adjustCanvasDimension() {\n        this._getMainModule().adjustCanvasDimension();\n    }\n\n    getViewPortInfo() {\n        return this._getMainModule().getViewPortInfo();\n    }\n}\n\nCustomEvents.mixin(FabricPhoto);\n\nexport default FabricPhoto;\n\nexport { FabricPhoto, consts };\n"},"module.js":{import:"./module",content:"import CustomEvents from './lib/custom-event';\n\nimport Main from './modules/main';\nimport Draw from './modules/draw';\nimport Text from './modules/text';\nimport ImageLoader from './modules/image-loader';\nimport Rotation from './modules/rotation';\nimport Shape from './modules/shape';\nimport Line from './modules/line';\nimport Arrow from './modules/arrow';\nimport Cropper from './modules/cropper';\nimport Mosaic from './modules/mosaic';\nimport Pan from './modules/pan';\n\nimport consts from './consts';\n\nimport util from './lib/util.js';\n\nconst { eventNames, rejectMessages } = consts;\n\nexport default class {\n    constructor() {\n        this._customEvents = new CustomEvents();\n\n        this._undoStack = [];\n        this._redoStack = [];\n\n        this._moduleMap = {};\n\n        /* Lock-flag for executing command*/\n        this._isLocked = false;\n\n        this._createModules();\n    }\n\n    _createModules() {\n        const main = new Main();\n\n        this._register(main);\n        this._register(new Draw(main));\n        this._register(new Text(main));\n        this._register(new ImageLoader(main));\n        this._register(new Mosaic(main));\n        this._register(new Rotation(main));\n        this._register(new Shape(main));\n        this._register(new Line(main));\n        this._register(new Arrow(main));\n        this._register(new Cropper(main));\n        this._register(new Pan(main));\n    }\n\n    _register(component) {\n        this._moduleMap[component.getName()] = component;\n    }\n\n    _invokeExecution(command) {\n        this.lock();\n\n        return command\n            .execute(this._moduleMap)\n            .then((value) => {\n                this.pushUndoStack(command);\n                this.unlock();\n                if (util.isFunction(command.executeCallback)) {\n                    command.executeCallback(value);\n                }\n\n                return value;\n            })\n            .catch((err) => {\n                this.unlock();\n                console.error(err);\n            }) // do nothing with exception\n            .then((value) => {\n                this.unlock();\n\n                return value;\n            });\n    }\n\n    _invokeUndo(command) {\n        this.lock();\n\n        return command\n            .undo(this._moduleMap)\n            .then((value) => {\n                this.pushRedoStack(command);\n                this.unlock();\n                if (util.isFunction(command.undoCallback)) {\n                    command.undoCallback(value);\n                }\n\n                return value;\n            })\n            .catch(() => {\n                this.unlock();\n                console.error(err);\n            }) //TODO  do nothing with exception\n            .then((value) => {\n                this.unlock();\n\n                return value;\n            });\n    }\n\n    _fire(...args) {\n        const event = this._customEvents;\n        const eventContext = event;\n        event.emit.apply(eventContext, args);\n    }\n\n    on(...args) {\n        const event = this._customEvents;\n        const eventContext = event;\n        event.on.apply(eventContext, args);\n    }\n\n    getModule(name) {\n        return this._moduleMap[name];\n    }\n\n    lock() {\n        this._isLocked = true;\n    }\n\n    unlock() {\n        this._isLocked = false;\n    }\n\n    /**\n     * \u6267\u884c\u547d\u4ee4\n     * \u5b58\u50a8\u547d\u4ee4\u5230undo\u7136\u540e\u6e05\u9664 redoStack\n     * @param {Command} command - Command\n     * @returns {Promise}\n     */\n    invoke(command) {\n        if (this._isLocked) {\n            return Promise.reject(rejectMessages.isLock);\n        }\n\n        return this._invokeExecution(command).then((value) => {\n            this.clearRedoStack();\n\n            return value;\n        });\n    }\n\n    //undo\u547d\u4ee4\n    undo() {\n        let command = this._undoStack.pop();\n        let promise;\n\n        if (command && this._isLocked) {\n            this.pushUndoStack(command, true);\n            command = null;\n        }\n        if (command) {\n            if (this.isEmptyUndoStack()) {\n                this._fire(eventNames.EMPTY_UNDO_STACK);\n            }\n            promise = this._invokeUndo(command);\n        } else {\n            promise = Promise.reject(rejectMessages.undo);\n        }\n\n        return promise;\n    }\n\n    //redo\u547d\u4ee4\n    redo() {\n        let command = this._redoStack.pop();\n\n        let promise;\n\n        if (command && this._isLocked) {\n            this.pushRedoStack(command, true);\n            command = null;\n        }\n        if (command) {\n            if (this.isEmptyRedoStack()) {\n                this._fire(eventNames.EMPTY_REDO_STACK);\n            }\n            promise = this._invokeExecution(command);\n        } else {\n            promise = Promise.reject(rejectMessages.redo);\n        }\n\n        return promise;\n    }\n\n    /**\n     * Push undo stack\n     * @param {Command} command - command\n     * @param {boolean} [isSilent] - Fire event or not\n     */\n    pushUndoStack(command, isSilent) {\n        this._undoStack.push(command);\n        if (!isSilent) {\n            this._fire(eventNames.PUSH_UNDO_STACK);\n        }\n    }\n\n    pushRedoStack(command, isSilent) {\n        this._redoStack.push(command);\n        if (!isSilent) {\n            this._fire(eventNames.PUSH_REDO_STACK);\n        }\n    }\n\n    isEmptyRedoStack() {\n        return this._redoStack.length === 0;\n    }\n\n    isEmptyUndoStack() {\n        return this._undoStack.length === 0;\n    }\n\n    clearUndoStack() {\n        if (!this.isEmptyUndoStack()) {\n            this._undoStack = [];\n            this._fire(eventNames.EMPTY_UNDO_STACK);\n        }\n    }\n\n    clearRedoStack() {\n        if (!this.isEmptyRedoStack()) {\n            this._redoStack = [];\n            this._fire(eventNames.EMPTY_REDO_STACK);\n        }\n    }\n}\n"},"lib/custom-event.js":{import:"./lib/custom-event",content:"import util from './util.js';\n\nvar R_EVENTNAME_SPLIT = /\\s+/g; // eslint-disable-line\n\nfunction CustomEvents() {\n    this.events = null;\n    this.contexts = null;\n}\n\nCustomEvents.mixin = function(func) {\n    Object.assign(func.prototype, CustomEvents.prototype);\n};\n\nCustomEvents.prototype._getHandlerItem = function(handler, context) {\n    var item = {\n        handler: handler\n    };\n\n    if (context) {\n        item.context = context;\n    }\n\n    return item;\n};\n\nCustomEvents.prototype._safeEvent = function(eventName) {\n    var events = this.events,\n        byName;\n\n    if (!events) {\n        events = this.events = {};\n    }\n\n    if (eventName) {\n        byName = events[eventName];\n\n        if (!byName) {\n            byName = [];\n            events[eventName] = byName;\n        }\n\n        events = byName;\n    }\n\n    return events;\n};\n\nCustomEvents.prototype._safeContext = function() {\n    var context = this.contexts;\n\n    if (!context) {\n        context = this.contexts = [];\n    }\n\n    return context;\n};\n\nCustomEvents.prototype._indexOfContext = function(ctx) {\n    var context = this._safeContext(),\n        index = 0;\n\n    while (context[index]) {\n        if (ctx === context[index][0]) {\n            return index;\n        }\n\n        index += 1;\n    }\n\n    return -1;\n};\n\nCustomEvents.prototype._memorizeContext = function(ctx) {\n    var context, index;\n\n    if (!util.isExisty(ctx)) {\n        return;\n    }\n\n    context = this._safeContext();\n    index = this._indexOfContext(ctx);\n\n    if (index > -1) {\n        context[index][1] += 1;\n    } else {\n        context.push([ctx, 1]);\n    }\n};\n\nCustomEvents.prototype._forgetContext = function(ctx) {\n    var context, contextIndex;\n\n    if (!util.isExisty(ctx)) {\n        return;\n    }\n\n    context = this._safeContext();\n    contextIndex = this._indexOfContext(ctx);\n\n    if (contextIndex > -1) {\n        context[contextIndex][1] -= 1;\n\n        if (context[contextIndex][1] <= 0) {\n            context.splice(contextIndex, 1);\n        }\n    }\n};\n\nCustomEvents.prototype._bindEvent = function(eventName, handler, context) {\n    var events = this._safeEvent(eventName);\n    this._memorizeContext(context);\n    events.push(this._getHandlerItem(handler, context));\n};\n\n/**\n * Bind event handlers\n * @param {(string|{name:string, handler:function})} eventName - custom\n *  event name or an object {eventName: handler}\n * @param {(function|object)} [handler] - handler function or context\n * @param {object} [context] - context for binding\n * @example\n *  // 1. Basic\n *  customEvent.on('onload', handler);\n *\n *  // 2. With context\n *  customEvent.on('onload', handler, myObj);\n *\n *  // 3. Bind by object that name, handler pairs\n *  customEvent.on({\n *    'play': handler,\n *    'pause': handler2\n *  });\n *\n *  // 4. Bind by object that name, handler pairs with context object\n *  customEvent.on({\n *    'play': handler\n *  }, myObj);\n */\nCustomEvents.prototype.on = function(eventName, handler, context) {\n    var self = this;\n\n    if (util.isString(eventName)) {\n        // [syntax 1, 2]\n        eventName = eventName.split(R_EVENTNAME_SPLIT);\n        util.forEach(eventName, function(name) {\n            self._bindEvent(name, handler, context);\n        });\n    } else if (util.isObject(eventName)) {\n        // [syntax 3, 4]\n        context = handler;\n        util.forEach(eventName, function(func, name) {\n            self.on(name, func, context);\n        });\n    }\n};\n\n/**\n * Bind one-shot event handlers\n * @param {(string|{name:string, handler:function})} eventName - custom\n *  event name or an object {eventName: handler}\n * @param {(function|object)} [handler] - handler function or context\n * @param {object} [context] - context for binding\n */\nCustomEvents.prototype.once = function(eventName, handler, context) {\n    var self = this;\n\n    if (util.isObject(eventName)) {\n        context = handler;\n        util.forEach(eventName, function(func, name) {\n            self.once(name, func, context);\n        });\n        return;\n    }\n\n    function onceHandler() {\n        handler.apply(context, arguments);\n        self.off(eventName, onceHandler, context);\n    }\n\n    this.on(eventName, onceHandler, context);\n};\n\n/**\n * Splice supplied array by callback result\n * @param {array} arr - array to splice\n * @param {function} predicate - function return boolean\n * @private\n */\nCustomEvents.prototype._spliceMatches = function(arr, predicate) {\n    var i, len;\n\n    if (!util.isArray(arr)) {\n        return;\n    }\n\n    for (i = 0, len = arr.length; i < len; i += 1) {\n        if (predicate(arr[i]) === true) {\n            arr.splice(i, 1);\n            len -= 1;\n            i -= 1;\n        }\n    }\n};\n\n/**\n * Get matcher for unbind specific handler events\n * @param {function} handler - handler function\n * @returns {function} handler matcher\n * @private\n */\nCustomEvents.prototype._matchHandler = function(handler) {\n    var self = this;\n\n    return function(item) {\n        var needRemove = handler === item.handler;\n\n        if (needRemove) {\n            self._forgetContext(item.context);\n        }\n\n        return needRemove;\n    };\n};\n\n/**\n * Get matcher for unbind specific context events\n * @param {object} context - context\n * @returns {function} object matcher\n * @private\n */\nCustomEvents.prototype._matchContext = function(context) {\n    var self = this;\n\n    return function(item) {\n        var needRemove = context === item.context;\n\n        if (needRemove) {\n            self._forgetContext(item.context);\n        }\n\n        return needRemove;\n    };\n};\n\n/**\n * Get matcher for unbind specific hander, context pair events\n * @param {function} handler - handler function\n * @param {object} context - context\n * @returns {function} handler, context matcher\n * @private\n */\nCustomEvents.prototype._matchHandlerAndContext = function(handler, context) {\n    var self = this;\n\n    return function(item) {\n        var matchHandler = handler === item.handler,\n            matchContext = context === item.context,\n            needRemove = matchHandler && matchContext;\n\n        if (needRemove) {\n            self._forgetContext(item.context);\n        }\n\n        return needRemove;\n    };\n};\n\n/**\n * Unbind event by event name\n * @param {string} eventName - custom event name to unbind\n * @param {function} [handler] - handler function\n * @private\n */\nCustomEvents.prototype._offByEventName = function(eventName, handler) {\n    var self = this,\n        forEach = util.forEach,\n        andByHandler = util.isFunction(handler),\n        matchHandler = self._matchHandler(handler);\n\n    eventName = eventName.split(R_EVENTNAME_SPLIT);\n\n    forEach(eventName, function(name) {\n        var handlerItems = self._safeEvent(name);\n\n        if (andByHandler) {\n            self._spliceMatches(handlerItems, matchHandler);\n        } else {\n            forEach(handlerItems, function(item) {\n                self._forgetContext(item.context);\n            });\n\n            self.events[name] = [];\n        }\n    });\n};\n\n/**\n * Unbind event by handler function\n * @param {function} handler - handler function\n * @private\n */\nCustomEvents.prototype._offByHandler = function(handler) {\n    var self = this,\n        matchHandler = this._matchHandler(handler);\n\n    util.forEach(this._safeEvent(), function(handlerItems) {\n        self._spliceMatches(handlerItems, matchHandler);\n    });\n};\n\n/**\n * Unbind event by object(name: handler pair object or context object)\n * @param {object} obj - context or {name: handler} pair object\n * @param {function} handler - handler function\n * @private\n */\nCustomEvents.prototype._offByObject = function(obj, handler) {\n    var self = this,\n        matchFunc;\n\n    if (this._indexOfContext(obj) < 0) {\n        util.forEach(obj, function(func, name) {\n            self.off(name, func);\n        });\n    } else if (util.isString(handler)) {\n        matchFunc = this._matchContext(obj);\n\n        self._spliceMatches(this._safeEvent(handler), matchFunc);\n    } else if (util.isFunction(handler)) {\n        matchFunc = this._matchHandlerAndContext(handler, obj);\n\n        util.forEach(this._safeEvent(), function(handlerItems) {\n            self._spliceMatches(handlerItems, matchFunc);\n        });\n    } else {\n        matchFunc = this._matchContext(obj);\n\n        util.forEach(this._safeEvent(), function(handlerItems) {\n            self._spliceMatches(handlerItems, matchFunc);\n        });\n    }\n};\n\n/**\n * Unbind custom events\n * @param {(string|object|function)} eventName - event name or context or\n *  {name: handler} pair object or handler function\n * @param {(function)} handler - handler function\n * @example\n * // 1. off by event name\n * customEvent.off('onload');\n *\n * // 2. off by event name and handler\n * customEvent.off('play', handler);\n *\n * // 3. off by handler\n * customEvent.off(handler);\n *\n * // 4. off by context\n * customEvent.off(myObj);\n *\n * // 5. off by context and handler\n * customEvent.off(myObj, handler);\n *\n * // 6. off by context and event name\n * customEvent.off(myObj, 'onload');\n *\n * // 7. off by an Object.<string, function> that is {eventName: handler}\n * customEvent.off({\n *   'play': handler,\n *   'pause': handler2\n * });\n *\n * // 8. off the all events\n * customEvent.off();\n */\nCustomEvents.prototype.off = function(eventName, handler) {\n    if (util.isString(eventName)) {\n        // [syntax 1, 2]\n        this._offByEventName(eventName, handler);\n    } else if (!arguments.length) {\n        // [syntax 8]\n        this.events = {};\n        this.contexts = [];\n    } else if (util.isFunction(eventName)) {\n        // [syntax 3]\n        this._offByHandler(eventName);\n    } else if (util.isObject(eventName)) {\n        // [syntax 4, 5, 6]\n        this._offByObject(eventName, handler);\n    }\n};\n\n/**\n * Fire custom event\n * @param {string} eventName - name of custom event\n */\nCustomEvents.prototype.fire = function(eventName) {\n    // eslint-disable-line\n    this.invoke.apply(this, arguments);\n};\n\n// alias\nCustomEvents.prototype.emit = CustomEvents.prototype.fire;\n\n/**\n * Fire a event and returns the result of operation 'boolean AND' with all\n *  listener's results.\n *\n * So, It is different from {@link CustomEvents#fire}.\n *\n * In service code, use this as a before event in component level usually\n *  for notifying that the event is cancelable.\n * @param {string} eventName - Custom event name\n * @param {...*} data - Data for event\n * @returns {boolean} The result of operation 'boolean AND'\n * @example\n *  if (this.invoke('beforeZoom')) {    // check the result of 'beforeZoom'\n *      // if true,\n *      // doSomething\n *  }\n *\n *  // In service code,\n *  map.on({\n *      'beforeZoom': function() {\n *          // It should cancel the 'zoom' event by some conditions.\n *          if (that.disabled && this.getState()) {\n *              return false;\n *          }\n *          return true;\n *      }\n *  });\n */\nCustomEvents.prototype.invoke = function(eventName) {\n    var events, args, index, item;\n\n    if (!this.hasListener(eventName)) {\n        return true;\n    }\n\n    events = this._safeEvent(eventName);\n    args = Array.prototype.slice.call(arguments, 1);\n    index = 0;\n\n    while (events[index]) {\n        item = events[index];\n\n        if (item.handler.apply(item.context, args) === false) {\n            return false;\n        }\n\n        index += 1;\n    }\n\n    return true;\n};\n\n/**\n * Return whether at least one of the handlers is registered in the given\n *  event name.\n * @param {string} eventName - Custom event name\n * @returns {boolean} Is there at least one handler in event name?\n */\nCustomEvents.prototype.hasListener = function(eventName) {\n    return this.getListenerLength(eventName) > 0;\n};\n\n/**\n * Return a count of events registered.\n * @param {string} eventName - Custom event name\n * @returns {number} number of event\n */\nCustomEvents.prototype.getListenerLength = function(eventName) {\n    var events = this._safeEvent(eventName);\n    return events.length;\n};\n\nexport default CustomEvents;\n"},"util.js":{import:"./util.js",content:"const { min, max } = Math;\n\nfunction isExisty(param) {\n    return param != null;\n}\n\nfunction isUndefined(obj) {\n    return obj === void 0;\n}\n\nfunction isNull(obj) {\n    return obj === null;\n}\n\nfunction isTruthy(obj) {\n    return isExisty(obj) && obj !== false;\n}\n\nfunction isFalsy(obj) {\n    return !isTruthy(obj);\n}\n\nfunction isArguments(obj) {\n    var result = isExisty(obj) && (toString.call(obj) === '[object Arguments]' || !!obj.callee);\n\n    return result;\n}\n\nfunction isArray(obj) {\n    return Array.isArray(obj);\n}\n\nfunction isFunction(obj) {\n    return obj instanceof Function;\n}\n\nfunction createObject() {\n    function F() {}\n\n    return function(obj) {\n        F.prototype = obj;\n        return new F();\n    };\n}\n\nfunction inherit(subType, superType) {\n    var prototype = createObject(superType.prototype);\n    prototype.constructor = subType;\n    subType.prototype = prototype;\n}\n\nvar lastId = 0;\n\nfunction stamp(obj) {\n    obj.__xm_id = obj.__xm_id || ++lastId;\n    return obj.__xm_id;\n}\n\nfunction pick(obj, paths) {\n    var args = arguments,\n        target = args[0],\n        length = args.length,\n        i;\n    try {\n        for (i = 1; i < length; i++) {\n            target = target[args[i]];\n        }\n        return target;\n    } catch (e) {\n        return;\n    }\n}\n\nfunction hasStamp(obj) {\n    return isExisty(pick(obj, '__xm_id'));\n}\n\nfunction resetLastId() {\n    lastId = 0;\n}\nfunction inArray(val, arr, startIndex = 0) {\n    arr = arr || [];\n    let len = arr.length;\n    for (let i = startIndex; i < len; i++) {\n        if (arr[i] === val) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction compareJSON(object) {\n    var leftChain,\n        rightChain,\n        argsLen = arguments.length,\n        i;\n\n    function isSameObject(x, y) {\n        var p;\n\n        if (isNaN(x) && isNaN(y) && isNumber(x) && isNumber(y)) {\n            return true;\n        }\n\n        if (x === y) {\n            return true;\n        }\n\n        if (\n            (isFunction(x) && isFunction(y)) ||\n            (x instanceof Date && y instanceof Date) ||\n            (x instanceof RegExp && y instanceof RegExp) ||\n            (x instanceof String && y instanceof String) ||\n            (x instanceof Number && y instanceof Number)\n        ) {\n            return x.toString() === y.toString();\n        }\n\n        if (!(x instanceof Object && y instanceof Object)) {\n            return false;\n        }\n\n        if (\n            x.isPrototypeOf(y) ||\n            y.isPrototypeOf(x) ||\n            x.constructor !== y.constructor ||\n            x.prototype !== y.prototype\n        ) {\n            return false;\n        }\n\n        if (inArray(x, leftChain) > -1 || inArray(y, rightChain) > -1) {\n            return false;\n        }\n\n        for (p in y) {\n            if (y.hasOwnProperty(p) !== x.hasOwnProperty(p)) {\n                return false;\n            } else if (typeof y[p] !== typeof x[p]) {\n                return false;\n            }\n        }\n\n        for (p in x) {\n            if (y.hasOwnProperty(p) !== x.hasOwnProperty(p)) {\n                return false;\n            } else if (typeof y[p] !== typeof x[p]) {\n                return false;\n            }\n\n            if (typeof x[p] === 'object' || typeof x[p] === 'function') {\n                leftChain.push(x);\n                rightChain.push(y);\n\n                if (!isSameObject(x[p], y[p])) {\n                    return false;\n                }\n\n                leftChain.pop();\n                rightChain.pop();\n            } else if (x[p] !== y[p]) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    if (argsLen < 1) {\n        return true;\n    }\n\n    for (i = 1; i < argsLen; i++) {\n        leftChain = [];\n        rightChain = [];\n\n        if (!isSameObject(arguments[0], arguments[i])) {\n            return false;\n        }\n    }\n\n    return true;\n}\n\nfunction clamp(value, minValue, maxValue) {\n    let temp;\n    if (minValue > maxValue) {\n        temp = minValue;\n        minValue = maxValue;\n        maxValue = temp;\n    }\n\n    return max(minValue, min(value, maxValue));\n}\n\nfunction keyMirror(...args) {\n    const obj = {};\n\n    args.forEach((key) => {\n        obj[key] = key;\n    });\n\n    return obj;\n}\n\nfunction makeStyleText(styleObj) {\n    let styleStr = '';\n    Object.keys(styleObj).forEach((key) => {\n        styleStr += `${key}: ${styleObj[key]};`;\n    });\n\n    return styleStr;\n}\nvar browser = {\n    chrome: false,\n    firefox: false,\n    safari: false,\n    msie: false,\n    edge: false,\n    others: false,\n    version: 0\n};\nvar nav = window.navigator,\n    appName = nav.appName.replace(/\\s/g, '_'),\n    userAgent = nav.userAgent;\n\nvar rIE = /MSIE\\s([0-9]+[.0-9]*)/,\n    rIE11 = /Trident.*rv:11\\./,\n    rEdge = /Edge\\/(\\d+)\\./,\n    versionRegex = {\n        firefox: /Firefox\\/(\\d+)\\./,\n        chrome: /Chrome\\/(\\d+)\\./,\n        safari: /Version\\/([\\d\\.]+)\\sSafari\\/(\\d+)/\n    };\n\nvar key, tmp;\n\nvar detector = {\n    Microsoft_Internet_Explorer: function() {\n        // ie8 ~ ie10\n        browser.msie = true;\n        browser.version = parseFloat(userAgent.match(rIE)[1]);\n    },\n    Netscape: function() {\n        var detected = false;\n\n        if (rIE11.exec(userAgent)) {\n            browser.msie = true;\n            browser.version = 11;\n            detected = true;\n        } else if (rEdge.exec(userAgent)) {\n            browser.edge = true;\n            browser.version = userAgent.match(rEdge)[1];\n            detected = true;\n        } else {\n            for (key in versionRegex) {\n                if (versionRegex.hasOwnProperty(key)) {\n                    tmp = userAgent.match(versionRegex[key]);\n                    if (tmp && tmp.length > 1) {\n                        browser[key] = detected = true;\n                        browser.version = parseFloat(tmp[1] || 0);\n                        break;\n                    }\n                }\n            }\n        }\n        if (!detected) {\n            browser.others = true;\n        }\n    }\n};\n\nvar fn = detector[appName];\n\nif (fn) {\n    detector[appName]();\n}\n\nfunction forEachArray(arr, iteratee, context) {\n    var index = 0,\n        len = arr.length;\n\n    context = context || null;\n\n    for (; index < len; index++) {\n        if (iteratee.call(context, arr[index], index, arr) === false) {\n            break;\n        }\n    }\n}\n\nfunction forEachOwnProperties(obj, iteratee, context) {\n    var key;\n\n    context = context || null;\n\n    for (key in obj) {\n        if (obj.hasOwnProperty(key)) {\n            if (iteratee.call(context, obj[key], key, obj) === false) {\n                break;\n            }\n        }\n    }\n}\n\nfunction forEach(obj, iteratee, context) {\n    if (Array.isArray(obj)) {\n        forEachArray(obj, iteratee, context);\n    } else {\n        forEachOwnProperties(obj, iteratee, context);\n    }\n}\nfunction map(obj, iteratee, context) {\n    var resultArray = [];\n\n    context = context || null;\n\n    forEach(obj, function() {\n        resultArray.push(iteratee.apply(context, arguments));\n    });\n\n    return resultArray;\n}\n\nfunction isObject(obj) {\n    return obj === Object(obj);\n}\n\nfunction isString(obj) {\n    return typeof obj === 'string' || obj instanceof String;\n}\n\nfunction isNumber(obj) {\n    return typeof obj === 'number' || obj instanceof Number;\n}\nfunction bind(fn, obj) {\n    var slice = Array.prototype.slice;\n\n    if (fn.bind) {\n        return fn.bind.apply(fn, slice.call(arguments, 1));\n    }\n\n    /* istanbul ignore next */\n    var args = slice.call(arguments, 2);\n\n    /* istanbul ignore next */\n    return function() {\n        /* istanbul ignore next */\n        return fn.apply(obj, args.length ? args.concat(slice.call(arguments)) : arguments);\n    };\n}\nfunction extend(target, objects) {\n    var source,\n        prop,\n        hasOwnProp = Object.prototype.hasOwnProperty,\n        i,\n        len;\n\n    for (i = 1, len = arguments.length; i < len; i++) {\n        source = arguments[i];\n        for (prop in source) {\n            if (hasOwnProp.call(source, prop)) {\n                target[prop] = source[prop];\n            }\n        }\n    }\n    return target;\n}\nfunction setStyle(obj, css) {\n    for (let atr in css) {\n        obj.style.setProperty(atr, css[atr]);\n    }\n}\nexport default {\n    createObject: createObject(),\n    inherit: inherit,\n    isFunction: isFunction,\n    isArray: isArray,\n    isArguments: isArguments,\n    isString: isString,\n    isNumber: isNumber,\n    isFalsy: isFalsy,\n    isObject: isObject,\n    isTruthy: isTruthy,\n    isNull: isNull,\n    isUndefined: isUndefined,\n    compareJSON: compareJSON,\n    hasStamp: hasStamp,\n    resetLastId: resetLastId,\n    stamp: stamp,\n    pick: pick,\n    clamp: clamp,\n    keyMirror: keyMirror,\n    browser: browser,\n    makeStyleText: makeStyleText,\n    forEach: forEach,\n    map: map,\n    isExisty: isExisty,\n    bind: bind,\n    extend: extend,\n    setStyle: setStyle,\n    inArray: inArray\n};\n"},"modules/main.js":{import:"./modules/main",content:"import { fabric } from 'fabric';\nimport Base from './base';\nimport consts from '../consts';\nimport util from '../lib/util.js';\nimport dataURLtoBlob from '../lib/canvas-to-blob';\n\nconst DEFAULT_CSS_MAX_WIDTH = 700;\nconst DEFAULT_CSS_MAX_HEIGHT = 400;\n\nconst cssOnly = {\n    cssOnly: true\n};\nconst backstoreOnly = {\n    backstoreOnly: true\n};\n/*\n * \u56fe\u5f62\u7f16\u8f91\u5668\u7684 \u753b\u677f\u76f8\u5173\u7684\u8bbe\u5b9a \u90fd\u9700\u8981\u5728\u8fd9\u91cc\u5b9e\u73b0\n */\nexport default class Main extends Base {\n    constructor() {\n        super();\n        this.name = consts.moduleNames.MAIN;\n\n        /*Fabric canvas instance*/\n        this.canvas = null;\n\n        /*Fabric image instance*/\n        this.canvasImage = null;\n\n        /*Max width of canvas elements*/\n        this.cssMaxWidth = DEFAULT_CSS_MAX_WIDTH;\n\n        /*Max height of canvas elements*/\n        this.cssMaxHeight = DEFAULT_CSS_MAX_HEIGHT;\n\n        /*Image name*/\n        this.imageName = '';\n\n        fabric.Path.prototype.selectable = false;\n    }\n\n    /**\n     * To data url from canvas\n     * @param {string} type - A DOMString indicating the image format. The default type is image/png.\n     * @param {number} quality - image's quality number\n     * @returns {string} A DOMString containing the requested data URI.\n     */\n    toDataURL(type, quality = 1) {\n        const wrapperElStyle = Object.assign({}, this.canvas.wrapperEl.style);\n        const lowerCanvasElStyle = Object.assign({}, this.canvas.lowerCanvasEl.style);\n        const upperCanvasElStyle = Object.assign({}, this.canvas.upperCanvasEl.style);\n        let url = this.canvas.toDataURL(\n            type,\n            quality,\n            1,\n            0,\n            0,\n            this.canvas.width,\n            this.canvas.height\n        );\n        util.setStyle(this.canvas.wrapperEl, wrapperElStyle);\n        util.setStyle(this.canvas.lowerCanvasEl, lowerCanvasElStyle);\n        util.setStyle(this.canvas.upperCanvasEl, upperCanvasElStyle);\n        return url;\n    }\n\n    /**\n     * To data url from canvas\n     * @param {string} type - A DOMString indicating the image format. The default type is image/png.\n     * @param {number} quality - image's quality number\n     * @returns {Blob}\n     */\n    toBlob(type, quality = 1) {\n        return dataURLtoBlob(this.toDataURL(type, quality));\n    }\n\n    /**\n     * Save image(background) of canvas\n     * @param {string} name - Name of image\n     * @param {?fabric.Image} canvasImage - Fabric image instance\n     * @override\n     */\n    setCanvasImage(name, canvasImage) {\n        if (canvasImage) {\n            util.stamp(canvasImage);\n        }\n        this.imageName = name;\n        this.canvasImage = canvasImage;\n    }\n\n    /**\n     * Set css max dimension\n     * @param {{width: number, height: number}} maxDimension - Max width & Max height\n     */\n    setCssMaxDimension(maxDimension) {\n        this.cssMaxWidth = maxDimension.width || this.cssMaxWidth;\n        this.cssMaxHeight = maxDimension.height || this.cssMaxHeight;\n    }\n\n    /**\n     * Set canvas element to fabric.Canvas\n     * @param {jQuery|Element|string} element - Wrapper or canvas element or selector\n     * @override\n     */\n    setCanvasElement(element) {\n        let selectedElement;\n        let canvasElement;\n\n        if (element.jquery) {\n            selectedElement = element[0];\n        } else if (element.nodeType) {\n            selectedElement = element;\n        } else {\n            selectedElement = document.querySelector(element);\n        }\n\n        if (!selectedElement || !selectedElement.nodeName) {\n            throw new Error('\u5bb9\u5668\u5143\u7d20\u662f\u7a7a');\n        }\n\n        if (selectedElement.nodeName.toUpperCase() !== 'CANVAS') {\n            canvasElement = document.createElement('canvas');\n            selectedElement.appendChild(canvasElement);\n        }\n\n        this.canvas = new fabric.Canvas(canvasElement, {\n            containerClass: 'xm-fabric-photo-editor-canvas-container',\n            enableRetinaScaling: false\n        });\n        this.canvas.selection = false;\n        //be used in zoom and panning\n        if (this.canvas.wrapperEl) {\n            this.canvas.wrapperEl.style.setProperty('overflow', 'hidden');\n        }\n    }\n\n    /**\n     * Adjust canvas dimension with scaling image\n     */\n    adjustCanvasDimension() {\n        //reset zoom to adjust canvas\n        const canvasImage = this.canvasImage.scale(1);\n        const boundingRect = canvasImage.getBoundingRect();\n        const width = boundingRect.width;\n        const height = boundingRect.height;\n        const maxDimension = this._calcMaxDimension(width, height);\n        this.setCanvasCssDimension({\n            // width: '100%',\n            // height: '100%', // Set height '' for IE9\n            // 'max-width': `${maxDimension.width}px`,\n            // 'max-height': `${maxDimension.height}px`\n            width: `${maxDimension.width}px`,\n            height: `${maxDimension.height}px`\n        });\n        this.setCanvasBackstoreDimension({\n            width,\n            height\n        });\n        this.canvas.centerObject(canvasImage);\n        if (this.canvas.lowerCanvasEl) {\n            this.canvas.lowerCanvasEl.style.setProperty('top', '0px');\n            this.canvas.lowerCanvasEl.style.setProperty('left', '0px');\n        }\n        if (this.canvas.upperCanvasEl) {\n            this.canvas.upperCanvasEl.style.setProperty('top', '0px');\n            this.canvas.upperCanvasEl.style.setProperty('left', '0px');\n        }\n        this._zoom = maxDimension.width / width;\n    }\n\n    /**\n     * Calculate max dimension of canvas\n     * The css-max dimension is dynamically decided with maintaining image ratio\n     * The css-max dimension is lower than canvas dimension (attribute of canvas, not css)\n     * @param {number} width - Canvas width\n     * @param {number} height - Canvas height\n     * @returns {{width: number, height: number}} - Max width & Max height\n     * @private\n     */\n    _calcMaxDimension(width, height) {\n        const wScaleFactor = this.cssMaxWidth / width;\n        const hScaleFactor = this.cssMaxHeight / height;\n        let cssMaxWidth = Math.min(width, this.cssMaxWidth);\n        let cssMaxHeight = Math.min(height, this.cssMaxHeight);\n        if (wScaleFactor < 1 && wScaleFactor < hScaleFactor) {\n            cssMaxWidth = width * wScaleFactor;\n            cssMaxHeight = height * wScaleFactor;\n        } else if (hScaleFactor < 1 && hScaleFactor < wScaleFactor) {\n            cssMaxWidth = width * hScaleFactor;\n            cssMaxHeight = height * hScaleFactor;\n        }\n        return {\n            width: Math.floor(cssMaxWidth),\n            height: Math.floor(cssMaxHeight)\n        };\n    }\n\n    /**\n     * Set canvas dimension - css only\n     *  {@link http://fabricjs.com/docs/fabric.Canvas.html#setDimensions}\n     * @param {object} dimension - Canvas css dimension\n     * @override\n     */\n    setCanvasCssDimension(dimension) {\n        this.canvas.setDimensions(dimension, cssOnly);\n    }\n\n    /**\n     * Set canvas dimension - backstore only\n     *  {@link http://fabricjs.com/docs/fabric.Canvas.html#setDimensions}\n     * @param {object} dimension - Canvas backstore dimension\n     * @override\n     */\n    setCanvasBackstoreDimension(dimension) {\n        this.canvas.setDimensions(dimension, backstoreOnly);\n    }\n\n    setZoom(zoom) {\n        if (this._zoom === zoom) {\n            return;\n        }\n        // const canvasImage = this.canvasImage.scale(1);\n        // const boundingRect = canvasImage.getBoundingRect();\n        // const width = boundingRect.width;\n        // const height = boundingRect.height;\n        let { width, height } = this.getViewPortInfo().canvas;\n        const maxDimension = this._calcMaxDimension(width, height);\n        //maximum is no more than twice the size of the picture\n\n        zoom = Math.max(maxDimension.width / width, Math.min(zoom, 2));\n\n        const maxWidth = width * zoom;\n        const maxHeight = height * zoom;\n        if (this.canvas.lowerCanvasEl) {\n            this.canvas.lowerCanvasEl.style.setProperty('height', `${maxHeight}px`);\n            this.canvas.lowerCanvasEl.style.setProperty('width', `${maxWidth}px`);\n            this.canvas.lowerCanvasEl.style.setProperty('top', '0px');\n            this.canvas.lowerCanvasEl.style.setProperty('left', '0px');\n        }\n        if (this.canvas.upperCanvasEl) {\n            this.canvas.upperCanvasEl.style.setProperty('height', `${maxHeight}px`);\n            this.canvas.upperCanvasEl.style.setProperty('width', `${maxWidth}px`);\n            this.canvas.upperCanvasEl.style.setProperty('top', '0px');\n            this.canvas.upperCanvasEl.style.setProperty('left', '0px');\n        }\n\n        if (this.cssMaxWidth > maxWidth) {\n            this.canvas.wrapperEl.style.setProperty('width', `${maxWidth}px`);\n        }\n        if (this.cssMaxHeight > maxHeight) {\n            this.canvas.wrapperEl.style.setProperty('height', `${maxHeight}px`);\n        }\n        this._zoom = zoom;\n        this.canvas.renderAll();\n    }\n\n    getZoom() {\n        return this._zoom;\n    }\n\n    getViewPortImage() {\n        const wrapperEl = this.getCanvas().wrapperEl;\n        const upperCanvasEl = this.getCanvas().upperCanvasEl;\n        const left = parseInt(upperCanvasEl.style['left'], 10),\n            top = parseInt(upperCanvasEl.style['top'], 10);\n        let canvasCssWidth = parseInt(wrapperEl.style['width'], 10),\n            canvasCssHeight = parseInt(wrapperEl.style['height'], 10),\n            upperCanvasCssWidth = parseInt(upperCanvasEl.style['width'], 10),\n            upperCanvasCssHeight = parseInt(upperCanvasEl.style['height'], 10),\n            canvasWidth = upperCanvasEl.width;\n\n        let radio = upperCanvasCssWidth / canvasWidth;\n        let cropInfo = {\n            width: canvasCssWidth / radio,\n            height: canvasCssHeight / radio,\n            left: Math.abs(left / radio),\n            top: Math.abs(top / radio)\n        };\n        const wrapperElStyle = Object.assign({}, this.canvas.wrapperEl.style);\n        const lowerCanvasElStyle = Object.assign({}, this.canvas.lowerCanvasEl.style);\n        const upperCanvasElStyle = Object.assign({}, this.canvas.upperCanvasEl.style);\n        let url = this.getCanvas().toDataURL(cropInfo);\n        util.setStyle(this.canvas.wrapperEl, wrapperElStyle);\n        util.setStyle(this.canvas.lowerCanvasEl, lowerCanvasElStyle);\n        util.setStyle(this.canvas.upperCanvasEl, upperCanvasElStyle);\n        return {\n            cropInfo: cropInfo,\n            originInfo: {\n                height: upperCanvasCssHeight,\n                width: upperCanvasCssWidth,\n                left: Math.abs(left),\n                top: Math.abs(top)\n            },\n            viewPortInfo: {\n                height: canvasCssHeight,\n                width: canvasCssWidth\n            },\n            url: url,\n            radio: radio\n        };\n    }\n\n    getViewPortInfo() {\n        const canvas = this.getCanvas();\n        const upperCanvasEl = this.getCanvas().upperCanvasEl;\n        const left = parseInt(upperCanvasEl.style['left'], 10),\n            top = parseInt(upperCanvasEl.style['top'], 10);\n        let upperCanvasCssWidth = parseInt(upperCanvasEl.style['width'], 10),\n            upperCanvasCssHeight = parseInt(upperCanvasEl.style['height'], 10);\n        return {\n            canvas: {\n                height: canvas.height,\n                width: canvas.width,\n                cssHeight: upperCanvasCssHeight,\n                cssWidth: upperCanvasCssWidth,\n                left: left,\n                top: top\n            }\n        };\n    }\n\n    /**\n     * Set image properties\n     * {@link http://fabricjs.com/docs/fabric.Image.html#set}\n     * @param {object} setting - Image properties\n     * @param {boolean} [withRendering] - If true, The changed image will be reflected in the canvas\n     * @override\n     */\n    setImageProperties(setting, withRendering) {\n        const canvasImage = this.canvasImage;\n\n        if (!canvasImage) {\n            return;\n        }\n\n        canvasImage.set(setting).setCoords();\n        if (withRendering) {\n            this.canvas.renderAll();\n        }\n    }\n\n    /**\n     * Returns canvas element of fabric.Canvas[[lower-canvas]]\n     * @returns {HTMLCanvasElement}\n     * @override\n     */\n    getCanvasElement() {\n        return this.canvas.getElement();\n    }\n\n    /**\n     * Get fabric.Canvas instance\n     * @override\n     * @returns {fabric.Canvas}\n     */\n    getCanvas() {\n        return this.canvas;\n    }\n\n    /**\n     * Get canvasImage (fabric.Image instance)\n     * @override\n     * @returns {fabric.Image}\n     */\n    getCanvasImage() {\n        return this.canvasImage;\n    }\n\n    /**\n     * Get image name\n     * @override\n     * @returns {string}\n     */\n    getImageName() {\n        return this.imageName;\n    }\n}\n"},"base.js":{import:"./base",content:"export default class {\n    constructor(actions) {\n        this.execute = actions.execute;\n\n        this.undo = actions.undo;\n\n        this.executeCallback = null;\n\n        this.undoCallback = null;\n    }\n\n    execute() {\n        throw new Error('\u6ca1\u6709\u5b9e\u73b0execute\u65b9\u6cd5');\n    }\n\n    undo() {\n        throw new Error('\u6ca1\u6709\u5b9e\u73b0undo\u65b9\u6cd5');\n    }\n\n    setExecuteCallback(callback) {\n        this.executeCallback = callback;\n        return this;\n    }\n\n    setUndoCallback(callback) {\n        this.undoCallback = callback;\n        return this;\n    }\n}\n"},"consts.js":{import:"../consts",content:"import util from './lib/util';\n\nexport default {\n    /**\n     * Component names\n     * @type {Object.<string, string>}\n     */\n    moduleNames: util.keyMirror(\n        'MAIN',\n        'IMAGE_LOADER',\n        'CROPPER',\n        'FLIP',\n        'ROTATION',\n        'FREE_DRAWING',\n        'LINE',\n        'ARROW',\n        'TEXT',\n        'ICON',\n        'FILTER',\n        'SHAPE',\n        'MOSAIC',\n        'PAN'\n    ),\n\n    /**\n     * Command names\n     * @type {Object.<string, string>}\n     */\n    commandNames: util.keyMirror(\n        'CLEAR',\n        'LOAD_IMAGE',\n        'FLIP_IMAGE',\n        'ROTATE_IMAGE',\n        'ADD_OBJECT',\n        'REMOVE_OBJECT',\n        'APPLY_FILTER',\n        'ZOOM'\n    ),\n\n    /**\n     * Event names\n     * @type {Object.<string, string>}\n     */\n    eventNames: {\n        LOAD_IMAGE: 'loadImage',\n        CLEAR_OBJECTS: 'clearObjects',\n        CLEAR_IMAGE: 'clearImage',\n        START_CROPPING: 'startCropping',\n        END_CROPPING: 'endCropping',\n        FLIP_IMAGE: 'flipImage',\n        ROTATE_IMAGE: 'rotateImage',\n        ADD_OBJECT: 'addObject',\n        SELECT_OBJECT: 'selectObject',\n        REMOVE_OBJECT: 'removeObject',\n        ADJUST_OBJECT: 'adjustObject',\n        START_FREE_DRAWING: 'startFreeDrawing',\n        END_FREE_DRAWING: 'endFreeDrawing',\n        START_LINE_DRAWING: 'startLineDrawing',\n        END_LINE_DRAWING: 'endLineDrawing',\n        START_PAN: 'startPan',\n        END_PAN: 'endPan',\n        START_ARROW_DRAWING: 'startArrowDrawing',\n        END_ARROW_DRAWING: 'endArrowDrawing',\n        START_MOSAIC_DRAWING: 'startMosaicDrawing',\n        END_MOSAIC_DRAWING: 'endMosaicDrawing',\n        EMPTY_REDO_STACK: 'emptyRedoStack',\n        EMPTY_UNDO_STACK: 'emptyUndoStack',\n        PUSH_UNDO_STACK: 'pushUndoStack',\n        PUSH_REDO_STACK: 'pushRedoStack',\n        ACTIVATE_TEXT: 'activateText',\n        APPLY_FILTER: 'applyFilter',\n        EDIT_TEXT: 'editText',\n        MOUSE_DOWN: 'mousedown',\n        CHANGE_ZOOM: 'changeZoom'\n    },\n\n    /**\n     * Editor states\n     * @type {Object.<string, string>}\n     */\n    states: util.keyMirror(\n        'NORMAL',\n        'CROP',\n        'FREE_DRAWING',\n        'LINE',\n        'ARROW',\n        'MOSAIC',\n        'TEXT',\n        'SHAPE',\n        'PAN'\n    ),\n\n    /**\n     * Shortcut key values\n     * @type {Object.<string, number>}\n     */\n    keyCodes: {\n        Z: 90,\n        Y: 89,\n        SHIFT: 16,\n        BACKSPACE: 8,\n        DEL: 46\n    },\n\n    /**\n     * Fabric object options\n     * @type {Object.<string, Object>}\n     */\n    fObjectOptions: {\n        SELECTION_STYLE: {\n            borderColor: '#118BFB',\n            cornerColor: '#FFFFFF',\n            cornerStrokeColor: '#118BFB',\n            cornerSize: 12,\n            padding: 1,\n            originX: 'center',\n            originY: 'center',\n            transparentCorners: false,\n            cornerStyle: 'circle'\n        }\n    },\n\n    rejectMessages: {\n        flip: 'The flipX and flipY setting values are not changed.',\n        rotation: 'The current angle is same the old angle.',\n        loadImage: 'The background image is empty.',\n        isLock: 'The executing command state is locked.',\n        undo: 'The promise of undo command is reject.',\n        redo: 'The promise of redo command is reject.'\n    },\n\n    MOUSE_MOVE_THRESHOLD: 10\n};\n"},"lib/util.js":{import:"./util.js",content:"const { min, max } = Math;\n\nfunction isExisty(param) {\n    return param != null;\n}\n\nfunction isUndefined(obj) {\n    return obj === void 0;\n}\n\nfunction isNull(obj) {\n    return obj === null;\n}\n\nfunction isTruthy(obj) {\n    return isExisty(obj) && obj !== false;\n}\n\nfunction isFalsy(obj) {\n    return !isTruthy(obj);\n}\n\nfunction isArguments(obj) {\n    var result = isExisty(obj) && (toString.call(obj) === '[object Arguments]' || !!obj.callee);\n\n    return result;\n}\n\nfunction isArray(obj) {\n    return Array.isArray(obj);\n}\n\nfunction isFunction(obj) {\n    return obj instanceof Function;\n}\n\nfunction createObject() {\n    function F() {}\n\n    return function(obj) {\n        F.prototype = obj;\n        return new F();\n    };\n}\n\nfunction inherit(subType, superType) {\n    var prototype = createObject(superType.prototype);\n    prototype.constructor = subType;\n    subType.prototype = prototype;\n}\n\nvar lastId = 0;\n\nfunction stamp(obj) {\n    obj.__xm_id = obj.__xm_id || ++lastId;\n    return obj.__xm_id;\n}\n\nfunction pick(obj, paths) {\n    var args = arguments,\n        target = args[0],\n        length = args.length,\n        i;\n    try {\n        for (i = 1; i < length; i++) {\n            target = target[args[i]];\n        }\n        return target;\n    } catch (e) {\n        return;\n    }\n}\n\nfunction hasStamp(obj) {\n    return isExisty(pick(obj, '__xm_id'));\n}\n\nfunction resetLastId() {\n    lastId = 0;\n}\nfunction inArray(val, arr, startIndex = 0) {\n    arr = arr || [];\n    let len = arr.length;\n    for (let i = startIndex; i < len; i++) {\n        if (arr[i] === val) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction compareJSON(object) {\n    var leftChain,\n        rightChain,\n        argsLen = arguments.length,\n        i;\n\n    function isSameObject(x, y) {\n        var p;\n\n        if (isNaN(x) && isNaN(y) && isNumber(x) && isNumber(y)) {\n            return true;\n        }\n\n        if (x === y) {\n            return true;\n        }\n\n        if (\n            (isFunction(x) && isFunction(y)) ||\n            (x instanceof Date && y instanceof Date) ||\n            (x instanceof RegExp && y instanceof RegExp) ||\n            (x instanceof String && y instanceof String) ||\n            (x instanceof Number && y instanceof Number)\n        ) {\n            return x.toString() === y.toString();\n        }\n\n        if (!(x instanceof Object && y instanceof Object)) {\n            return false;\n        }\n\n        if (\n            x.isPrototypeOf(y) ||\n            y.isPrototypeOf(x) ||\n            x.constructor !== y.constructor ||\n            x.prototype !== y.prototype\n        ) {\n            return false;\n        }\n\n        if (inArray(x, leftChain) > -1 || inArray(y, rightChain) > -1) {\n            return false;\n        }\n\n        for (p in y) {\n            if (y.hasOwnProperty(p) !== x.hasOwnProperty(p)) {\n                return false;\n            } else if (typeof y[p] !== typeof x[p]) {\n                return false;\n            }\n        }\n\n        for (p in x) {\n            if (y.hasOwnProperty(p) !== x.hasOwnProperty(p)) {\n                return false;\n            } else if (typeof y[p] !== typeof x[p]) {\n                return false;\n            }\n\n            if (typeof x[p] === 'object' || typeof x[p] === 'function') {\n                leftChain.push(x);\n                rightChain.push(y);\n\n                if (!isSameObject(x[p], y[p])) {\n                    return false;\n                }\n\n                leftChain.pop();\n                rightChain.pop();\n            } else if (x[p] !== y[p]) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    if (argsLen < 1) {\n        return true;\n    }\n\n    for (i = 1; i < argsLen; i++) {\n        leftChain = [];\n        rightChain = [];\n\n        if (!isSameObject(arguments[0], arguments[i])) {\n            return false;\n        }\n    }\n\n    return true;\n}\n\nfunction clamp(value, minValue, maxValue) {\n    let temp;\n    if (minValue > maxValue) {\n        temp = minValue;\n        minValue = maxValue;\n        maxValue = temp;\n    }\n\n    return max(minValue, min(value, maxValue));\n}\n\nfunction keyMirror(...args) {\n    const obj = {};\n\n    args.forEach((key) => {\n        obj[key] = key;\n    });\n\n    return obj;\n}\n\nfunction makeStyleText(styleObj) {\n    let styleStr = '';\n    Object.keys(styleObj).forEach((key) => {\n        styleStr += `${key}: ${styleObj[key]};`;\n    });\n\n    return styleStr;\n}\nvar browser = {\n    chrome: false,\n    firefox: false,\n    safari: false,\n    msie: false,\n    edge: false,\n    others: false,\n    version: 0\n};\nvar nav = window.navigator,\n    appName = nav.appName.replace(/\\s/g, '_'),\n    userAgent = nav.userAgent;\n\nvar rIE = /MSIE\\s([0-9]+[.0-9]*)/,\n    rIE11 = /Trident.*rv:11\\./,\n    rEdge = /Edge\\/(\\d+)\\./,\n    versionRegex = {\n        firefox: /Firefox\\/(\\d+)\\./,\n        chrome: /Chrome\\/(\\d+)\\./,\n        safari: /Version\\/([\\d\\.]+)\\sSafari\\/(\\d+)/\n    };\n\nvar key, tmp;\n\nvar detector = {\n    Microsoft_Internet_Explorer: function() {\n        // ie8 ~ ie10\n        browser.msie = true;\n        browser.version = parseFloat(userAgent.match(rIE)[1]);\n    },\n    Netscape: function() {\n        var detected = false;\n\n        if (rIE11.exec(userAgent)) {\n            browser.msie = true;\n            browser.version = 11;\n            detected = true;\n        } else if (rEdge.exec(userAgent)) {\n            browser.edge = true;\n            browser.version = userAgent.match(rEdge)[1];\n            detected = true;\n        } else {\n            for (key in versionRegex) {\n                if (versionRegex.hasOwnProperty(key)) {\n                    tmp = userAgent.match(versionRegex[key]);\n                    if (tmp && tmp.length > 1) {\n                        browser[key] = detected = true;\n                        browser.version = parseFloat(tmp[1] || 0);\n                        break;\n                    }\n                }\n            }\n        }\n        if (!detected) {\n            browser.others = true;\n        }\n    }\n};\n\nvar fn = detector[appName];\n\nif (fn) {\n    detector[appName]();\n}\n\nfunction forEachArray(arr, iteratee, context) {\n    var index = 0,\n        len = arr.length;\n\n    context = context || null;\n\n    for (; index < len; index++) {\n        if (iteratee.call(context, arr[index], index, arr) === false) {\n            break;\n        }\n    }\n}\n\nfunction forEachOwnProperties(obj, iteratee, context) {\n    var key;\n\n    context = context || null;\n\n    for (key in obj) {\n        if (obj.hasOwnProperty(key)) {\n            if (iteratee.call(context, obj[key], key, obj) === false) {\n                break;\n            }\n        }\n    }\n}\n\nfunction forEach(obj, iteratee, context) {\n    if (Array.isArray(obj)) {\n        forEachArray(obj, iteratee, context);\n    } else {\n        forEachOwnProperties(obj, iteratee, context);\n    }\n}\nfunction map(obj, iteratee, context) {\n    var resultArray = [];\n\n    context = context || null;\n\n    forEach(obj, function() {\n        resultArray.push(iteratee.apply(context, arguments));\n    });\n\n    return resultArray;\n}\n\nfunction isObject(obj) {\n    return obj === Object(obj);\n}\n\nfunction isString(obj) {\n    return typeof obj === 'string' || obj instanceof String;\n}\n\nfunction isNumber(obj) {\n    return typeof obj === 'number' || obj instanceof Number;\n}\nfunction bind(fn, obj) {\n    var slice = Array.prototype.slice;\n\n    if (fn.bind) {\n        return fn.bind.apply(fn, slice.call(arguments, 1));\n    }\n\n    /* istanbul ignore next */\n    var args = slice.call(arguments, 2);\n\n    /* istanbul ignore next */\n    return function() {\n        /* istanbul ignore next */\n        return fn.apply(obj, args.length ? args.concat(slice.call(arguments)) : arguments);\n    };\n}\nfunction extend(target, objects) {\n    var source,\n        prop,\n        hasOwnProp = Object.prototype.hasOwnProperty,\n        i,\n        len;\n\n    for (i = 1, len = arguments.length; i < len; i++) {\n        source = arguments[i];\n        for (prop in source) {\n            if (hasOwnProp.call(source, prop)) {\n                target[prop] = source[prop];\n            }\n        }\n    }\n    return target;\n}\nfunction setStyle(obj, css) {\n    for (let atr in css) {\n        obj.style.setProperty(atr, css[atr]);\n    }\n}\nexport default {\n    createObject: createObject(),\n    inherit: inherit,\n    isFunction: isFunction,\n    isArray: isArray,\n    isArguments: isArguments,\n    isString: isString,\n    isNumber: isNumber,\n    isFalsy: isFalsy,\n    isObject: isObject,\n    isTruthy: isTruthy,\n    isNull: isNull,\n    isUndefined: isUndefined,\n    compareJSON: compareJSON,\n    hasStamp: hasStamp,\n    resetLastId: resetLastId,\n    stamp: stamp,\n    pick: pick,\n    clamp: clamp,\n    keyMirror: keyMirror,\n    browser: browser,\n    makeStyleText: makeStyleText,\n    forEach: forEach,\n    map: map,\n    isExisty: isExisty,\n    bind: bind,\n    extend: extend,\n    setStyle: setStyle,\n    inArray: inArray\n};\n"},"lib/canvas-to-blob.js":{import:"../lib/canvas-to-blob",content:"/**\n * Created by yeanzhi on 16/12/12.\n */\nlet CanvasPrototype = window.HTMLCanvasElement && window.HTMLCanvasElement.prototype;\nlet hasBlobConstructor =\n    window.Blob &&\n    (function() {\n        try {\n            return Boolean(new Blob());\n        } catch (e) {\n            return false;\n        }\n    })();\nlet hasArrayBufferViewSupport =\n    hasBlobConstructor &&\n    window.Uint8Array &&\n    (function() {\n        try {\n            return new Blob([new Uint8Array(100)]).size === 100;\n        } catch (e) {\n            return false;\n        }\n    })();\nlet BlobBuilder =\n    window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder;\nlet dataURIPattern = /^data:((.*?)(;charset=.*?)?)(;base64)?,/;\n// eslint-disable-next-line import/no-mutable-exports\nlet dataURLtoBlob =\n    (hasBlobConstructor || BlobBuilder) &&\n    window.atob &&\n    window.ArrayBuffer &&\n    window.Uint8Array &&\n    function(dataURI) {\n        let matches, mediaType, isBase64, dataString, byteString, arrayBuffer, intArray, i, bb;\n        // Parse the dataURI components as per RFC 2397\n        matches = dataURI.match(dataURIPattern);\n        if (!matches) {\n            throw new Error('invalid data URI');\n        }\n        // Default to text/plain;charset=US-ASCII\n        mediaType = matches[2] ? matches[1] : `text/plain${matches[3] || ';charset=US-ASCII'}`;\n        isBase64 = !!matches[4];\n        dataString = dataURI.slice(matches[0].length);\n        if (isBase64) {\n            // Convert base64 to raw binary data held in a string:\n            byteString = atob(dataString);\n        } else {\n            // Convert base64/URLEncoded data component to raw binary:\n            byteString = decodeURIComponent(dataString);\n        }\n        // Write the bytes of the string to an ArrayBuffer:\n        arrayBuffer = new ArrayBuffer(byteString.length);\n        intArray = new Uint8Array(arrayBuffer);\n        for (i = 0; i < byteString.length; i += 1) {\n            intArray[i] = byteString.charCodeAt(i);\n        }\n        // Write the ArrayBuffer (or ArrayBufferView) to a blob:\n        if (hasBlobConstructor) {\n            return new Blob([hasArrayBufferViewSupport ? intArray : arrayBuffer], {\n                type: mediaType\n            });\n        }\n        bb = new BlobBuilder();\n        bb.append(arrayBuffer);\n        return bb.getBlob(mediaType);\n    };\nif (window.HTMLCanvasElement && !CanvasPrototype.toBlob) {\n    if (CanvasPrototype.mozGetAsFile) {\n        CanvasPrototype.toBlob = function(callback, type, quality) {\n            if (quality && CanvasPrototype.toDataURL && dataURLtoBlob) {\n                callback(dataURLtoBlob(this.toDataURL(type, quality)));\n            } else {\n                callback(this.mozGetAsFile('blob', type));\n            }\n        };\n    } else if (CanvasPrototype.toDataURL && dataURLtoBlob) {\n        CanvasPrototype.toBlob = function(callback, type, quality) {\n            callback(dataURLtoBlob(this.toDataURL(type, quality)));\n        };\n    }\n}\nexport default dataURLtoBlob;\nwindow.dataURLtoBlob = dataURLtoBlob;\n"},"modules/draw.js":{import:"./modules/draw",content:"import { fabric } from 'fabric';\nimport Base from './base.js';\nimport consts from '../consts';\n\nexport default class FreeDrawing extends Base {\n    constructor(parent) {\n        super();\n        this.setParent(parent);\n        this.name = consts.moduleNames.FREE_DRAWING;\n        this.width = 12;\n        this.oColor = new fabric.Color('rgba(0, 0, 0, 0.5)');\n    }\n\n    /**\n     * Start free drawing mode\n     * @param {{width: ?number, color: ?string}} [setting] - Brush width & color\n     */\n    start(setting) {\n        const canvas = this.getCanvas();\n        canvas.isDrawingMode = true;\n        this.setBrush(setting);\n    }\n\n    /**\n     * Set brush\n     * @param {{width: ?number, color: ?string}} [setting] - Brush width & color\n     */\n    setBrush(setting) {\n        let brush = this.getCanvas().freeDrawingBrush;\n        setting = setting || {};\n        this.width = setting.width || this.width;\n        if (setting.color) {\n            this.oColor = new fabric.Color(setting.color);\n        }\n        brush.width = this.width;\n        brush.color = this.oColor.toRgba();\n    }\n\n    /**\n     * Set obj style\n     * @param {object} activeObj - Current selected text object\n     * @param {object} styleObj - Initial styles\n     */\n    setStyle(activeObj, styleObj) {\n        activeObj.set(styleObj);\n        this.getCanvas().renderAll();\n    }\n\n    /**\n     * End free drawing mode\n     */\n    end() {\n        const canvas = this.getCanvas();\n        canvas.isDrawingMode = false;\n    }\n}\n"},"modules/text.js":{import:"./modules/text",content:"import { fabric } from 'fabric';\nimport Base from './base';\nimport consts from '../consts';\nimport util from '../lib/util';\n\nconst defaultStyles = {\n    fill: '#000000',\n    left: 0,\n    top: 0\n};\nconst resetStyles = {\n    fill: '#000000',\n    fontStyle: 'normal',\n    fontWeight: 'normal',\n    textAlign: 'left',\n    textDecoraiton: ''\n};\nconst { browser } = util;\n\nconst TEXTAREA_CLASSNAME = 'fabric-photo-eidtor-textarea';\nconst TEXTAREA_STYLES = util.makeStyleText({\n    position: 'absolute',\n    padding: 0,\n    display: 'none',\n    border: '1px dotted red',\n    overflow: 'hidden',\n    resize: 'none',\n    outline: 'none',\n    'border-radius': 0,\n    'background-color': 'transparent',\n    '-webkit-appearance': 'none',\n    'z-index': 99999,\n    'white-space': 'pre'\n});\n\nconst EXTRA_PIXEL_LINEHEIGHT = 0.1;\nconst DBCLICK_TIME = 500;\n\nexport default class Text extends Base {\n    constructor(parent) {\n        super();\n        this.setParent(parent);\n        this.name = consts.moduleNames.TEXT;\n        this._defaultStyles = defaultStyles;\n        this._isSelected = false;\n        this._selectedObj = {};\n\n        /*Editing text object*/\n        this._editingObj = {};\n\n        /*Listeners for fabric event*/\n        this._listeners = {};\n\n        //\u6587\u672c\u7f16\u8f91\u6846\n        this._textarea = null;\n\n        /*Ratio of current canvas*/\n        this._ratio = 1;\n\n        this._lastClickTime = new Date().getTime();\n\n        /*Text object infos before editing*/\n        this._editingObjInfos = {};\n\n        /*Previous state of editing*/\n        this.isPrevEditing = false;\n    }\n\n    start(listeners) {\n        const canvas = this.getCanvas();\n\n        this._listeners = listeners;\n\n        canvas.selection = false;\n        canvas.defaultCursor = 'text';\n        canvas.on({\n            'mouse:down': this._listeners.mousedown,\n            'object:selected': this._listeners.select,\n            'before:selection:cleared': this._listeners.selectClear,\n            'object:scaling': this._onFabricScaling\n        });\n\n        this._createTextarea();\n\n        this.setCanvasRatio();\n    }\n\n    end() {\n        const canvas = this.getCanvas();\n\n        canvas.selection = false;\n        canvas.defaultCursor = 'default';\n        canvas.deactivateAllWithDispatch(); // action for undo stack\n        canvas.off({\n            'mouse:down': this._listeners.mousedown,\n            'object:selected': this._listeners.select,\n            'before:selection:cleared': this._listeners.selectClear,\n            'object:scaling': this._onFabricScaling\n        });\n\n        this._removeTextarea();\n\n        this._listeners = {};\n    }\n\n    /**\n     * Add new text on canvas image\n     * @param {string} text - Initial input text\n     * @param {object} options - Options for generating text\n     *     @param {object} [options.styles] Initial styles\n     *         @param {string} [options.styles.fill] Color\n     *         @param {string} [options.styles.fontFamily] Font type for text\n     *         @param {number} [options.styles.fontSize] Size\n     *         @param {string} [options.styles.fontStyle] Type of inclination (normal / italic)\n     *         @param {string} [options.styles.fontWeight] Type of thicker or thinner looking (normal / bold)\n     *         @param {string} [options.styles.textAlign] Type of text align (left / center / right)\n     *         @param {string} [options.styles.textDecoraiton] Type of line (underline / line-throgh / overline)\n     *     @param {{x: number, y: number}} [options.position] - Initial position\n     * @param {boolean} defaultEdit default start edit\n     */\n    add(text, options, defaultEdit = false) {\n        const canvas = this.getCanvas();\n        let styles = this._defaultStyles;\n\n        this._setInitPos(options.position);\n\n        if (options.styles) {\n            styles = Object.assign(styles, options.styles);\n        }\n\n        const newText = new fabric.Text(text, styles);\n        newText.set(consts.fObjectOptions.SELECTION_STYLE);\n        newText.set({ objectCaching: false });\n        newText.setControlsVisibility({\n            bl: true,\n            br: true,\n            mb: false,\n            ml: false,\n            mr: false,\n            mt: false,\n            tl: true,\n            tr: true,\n            mtr: true\n        });\n        newText.on({\n            mouseup: this._onFabricMouseUp.bind(this)\n        });\n\n        canvas.add(newText);\n\n        if (!canvas.getActiveObject()) {\n            canvas.setActiveObject(newText);\n            if (defaultEdit) {\n                this._changeToEditingMode(newText);\n                this._lastClickTime = new Date().getTime();\n                this._listeners.dbclick(); // fire dbclick event\n            }\n        }\n\n        this.isPrevEditing = true;\n    }\n\n    /**\n     * Change text of activate object on canvas image\n     * @param {object} activeObj - Current selected text object\n     * @param {string} text - Changed text\n     */\n    change(activeObj, text) {\n        activeObj.set('text', text);\n\n        this.getCanvas().renderAll();\n    }\n\n    /**\n     * Set style\n     * @param {object} activeObj - Current selected text object\n     * @param {object} styleObj - Initial styles\n     *     @param {string} [styleObj.fill] Color\n     *     @param {string} [styleObj.fontFamily] Font type for text\n     *     @param {number} [styleObj.fontSize] Size\n     *     @param {string} [styleObj.fontStyle] Type of inclination (normal / italic)\n     *     @param {string} [styleObj.fontWeight] Type of thicker or thinner looking (normal / bold)\n     *     @param {string} [styleObj.textAlign] Type of text align (left / center / right)\n     *     @param {string} [styleObj.textDecoraiton] Type of line (underline / line-throgh / overline)\n     */\n    setStyle(activeObj, styleObj) {\n        util.forEach(\n            styleObj,\n            (val, key) => {\n                if (activeObj[key] === val) {\n                    styleObj[key] = resetStyles[key] || '';\n                }\n            },\n            this\n        );\n\n        activeObj.set(styleObj);\n\n        this.getCanvas().renderAll();\n    }\n\n    /**\n     * Set infos of the current selected object\n     * @param {fabric.Text} obj - Current selected text object\n     * @param {boolean} state - State of selecting\n     */\n    setSelectedInfo(obj, state) {\n        this._selectedObj = obj;\n        this._isSelected = state;\n    }\n\n    /**\n     * Whether object is selected or not\n     * @returns {boolean} State of selecting\n     */\n    isSelected() {\n        return this._isSelected;\n    }\n\n    /**\n     * Get current selected text object\n     * @returns {fabric.Text} Current selected text object\n     */\n    getSelectedObj() {\n        return this._selectedObj;\n    }\n\n    /**\n     * Set ratio value of canvas\n     */\n    setCanvasRatio() {\n        const canvasElement = this.getCanvasElement();\n        const cssWidth = parseInt(canvasElement.style.width, 10);\n        const originWidth = canvasElement.width;\n        const ratio = originWidth / cssWidth;\n\n        this._ratio = ratio;\n    }\n\n    /**\n     * Get ratio value of canvas\n     * @returns {number} Ratio value\n     */\n    getCanvasRatio() {\n        const canvasElement = this.getCanvasElement();\n        const cssWidth = parseInt(canvasElement.style.width, 10);\n        const originWidth = canvasElement.width;\n        const ratio = originWidth / cssWidth;\n        return ratio;\n    }\n\n    /**\n     * Set initial position on canvas image\n     * @param {{x: number, y: number}} [position] - Selected position\n     * @private\n     */\n    _setInitPos(position) {\n        position = position || this.getCanvasImage().getCenterPoint();\n\n        this._defaultStyles.left = position.x;\n        this._defaultStyles.top = position.y;\n    }\n\n    /**\n     * Create textarea element on canvas container\n     * @private\n     */\n    _createTextarea() {\n        const container = this.getCanvasElement().parentNode;\n        const textarea = document.createElement('textarea');\n\n        textarea.className = TEXTAREA_CLASSNAME;\n        textarea.setAttribute('style', TEXTAREA_STYLES);\n        textarea.setAttribute('wrap', 'off');\n\n        container.appendChild(textarea);\n\n        this._textarea = textarea;\n\n        this._listeners = Object.assign(this._listeners, {\n            input: this._onInput.bind(this),\n            keydown: this._onKeyDown.bind(this),\n            blur: this._onBlur.bind(this),\n            scroll: this._onScroll.bind(this)\n        });\n\n        if (browser.msie && browser.version === 9) {\n            fabric.util.addListener(textarea, 'keydown', this._listeners.keydown);\n        } else {\n            fabric.util.addListener(textarea, 'input', this._listeners.input);\n        }\n        fabric.util.addListener(textarea, 'blur', this._listeners.blur);\n        fabric.util.addListener(textarea, 'scroll', this._listeners.scroll);\n    }\n\n    /**\n     * Remove textarea element on canvas container\n     * @private\n     */\n    _removeTextarea() {\n        const container = this.getCanvasElement().parentNode;\n        const textarea = container.querySelector('textarea');\n\n        container.removeChild(textarea);\n\n        this._textarea = null;\n\n        if (browser.msie && browser.version < 10) {\n            fabric.util.removeListener(textarea, 'keydown', this._listeners.keydown);\n        } else {\n            fabric.util.removeListener(textarea, 'input', this._listeners.input);\n        }\n        fabric.util.removeListener(textarea, 'blur', this._listeners.blur);\n        fabric.util.removeListener(textarea, 'scroll', this._listeners.scroll);\n    }\n\n    /**\n     * Input event handler\n     * @private\n     */\n    _onInput() {\n        const ratio = this.getCanvasRatio();\n        const obj = this._editingObj;\n        const textareaStyle = this._textarea.style;\n\n        obj.setText(this._textarea.value);\n\n        textareaStyle.width = `${Math.ceil(obj.getWidth() / ratio)}px`;\n        textareaStyle.height = `${Math.ceil(obj.getHeight() / ratio)}px`;\n    }\n\n    /**\n     * Keydown event handler\n     * @private\n     */\n    _onKeyDown() {\n        const ratio = this.getCanvasRatio();\n        const obj = this._editingObj;\n        const textareaStyle = this._textarea.style;\n\n        setTimeout(() => {\n            obj.setText(this._textarea.value);\n\n            textareaStyle.width = `${Math.ceil(obj.getWidth() / ratio)}px`;\n            textareaStyle.height = `${Math.ceil(obj.getHeight() / ratio)}px`;\n        }, 0);\n    }\n\n    /**\n     * Blur event handler\n     * @private\n     */\n    _onBlur() {\n        const editingObj = this._editingObj;\n        const editingObjInfos = this._editingObjInfos;\n        let transWidth = editingObj.getWidth() - editingObjInfos.width;\n        let transHeight = editingObj.getHeight() - editingObjInfos.height;\n        // if (ratio === 1) {\n        //     transWidth /= 2;\n        //     transHeight /= 2;\n        // }\n\n        this._textarea.style.display = 'none';\n        this._editingObj.set({\n            left: editingObjInfos.left + transWidth / 2,\n            top: editingObjInfos.top + transHeight / 2\n        });\n\n        this.getCanvas().add(this._editingObj);\n        //this._editingObj.\n        this.getCanvas().on('object:removed', this._listeners.remove);\n    }\n\n    /**\n     * Scroll event handler\n     * @private\n     */\n    _onScroll() {\n        this._textarea.scrollLeft = 0;\n        this._textarea.scrollTop = 0;\n    }\n\n    /**\n     * Fabric scaling event handler\n     * @param {fabric.Event} fEvent - Current scaling event on selected object\n     * @private\n     */\n    _onFabricScaling(fEvent) {\n        const obj = fEvent.target;\n        const scalingSize = obj.getFontSize() * obj.getScaleY();\n\n        obj.setFontSize(scalingSize);\n        obj.setScaleX(1);\n        obj.setScaleY(1);\n    }\n\n    /**\n     * Fabric mouseup event handler\n     * @param {fabric.Event} fEvent - Current mousedown event on selected object\n     * @private\n     */\n    _onFabricMouseUp(fEvent) {\n        const newClickTime = new Date().getTime();\n\n        if (this._isDoubleClick(newClickTime)) {\n            this._changeToEditingMode(fEvent.target);\n            this._listeners.dbclick(); // fire dbclick event\n        }\n\n        this._lastClickTime = newClickTime;\n    }\n\n    /**\n     * Get state of firing double click event\n     * @param {Date} newClickTime - Current clicked time\n     * @returns {boolean} Whether double clicked or not\n     * @private\n     */\n    _isDoubleClick(newClickTime) {\n        return newClickTime - this._lastClickTime < DBCLICK_TIME;\n    }\n\n    /**\n     * Change state of text object for editing\n     * @param {fabric.fEvent} fEvent.target is fabric.Text - Text object fired event\n     * @private\n     */\n    _changeToEditingMode(obj) {\n        // const obj = fEvent.target;\n        const ratio = this.getCanvasRatio();\n        const textareaStyle = this._textarea.style;\n\n        this.isPrevEditing = true;\n\n        const canvas = this.getCanvas();\n        const lowerCanvasElStyle = canvas.lowerCanvasEl.style;\n        const lowerElLeft = parseInt(lowerCanvasElStyle.left, 10);\n        const lowerElTop = parseInt(lowerCanvasElStyle.top, 10);\n        canvas.off('object:removed', this._listeners.remove);\n\n        obj.remove();\n\n        this._editingObj = obj;\n        this._textarea.value = obj.getText();\n\n        this._editingObjInfos = {\n            left: this._editingObj.getLeft(),\n            top: this._editingObj.getTop(),\n            width: this._editingObj.getWidth(),\n            height: this._editingObj.getHeight()\n        };\n\n        textareaStyle.display = 'block';\n\n        textareaStyle.left = `${obj.oCoords.tl.x / ratio + lowerElLeft}px`;\n        textareaStyle.top = `${obj.oCoords.tl.y / ratio + lowerElTop}px`;\n\n        textareaStyle.width = `${Math.ceil(obj.getWidth() / ratio)}px`;\n        textareaStyle.height = `${Math.ceil(obj.getHeight() / ratio)}px`;\n        textareaStyle.transform = `rotate(${obj.getAngle()}deg)`;\n        textareaStyle.color = obj.getFill();\n\n        textareaStyle['font-size'] = `${obj.getFontSize() / ratio}px`;\n        textareaStyle['font-family'] = obj.getFontFamily();\n        textareaStyle['font-style'] = obj.getFontStyle();\n        textareaStyle['font-weight'] = obj.getFontWeight();\n        textareaStyle['text-align'] = obj.getTextAlign();\n        textareaStyle['line-height'] = obj.getLineHeight() + EXTRA_PIXEL_LINEHEIGHT;\n        textareaStyle['transform-origin'] = 'left top';\n        this._textarea.focus();\n    }\n}\n"},"modules/image-loader.js":{import:"./modules/image-loader",content:"import Base from './base.js';\nimport consts from '../consts';\n\nconst {moduleNames, rejectMessages} = consts;\nconst imageOption = {\n    padding: 0,\n    crossOrigin: 'anonymous'\n};\n\nexport default class ImageLoader extends Base {\n    constructor(parent) {\n        super();\n        this.setParent(parent);\n        this.name = moduleNames.IMAGE_LOADER;\n    }\n\n    /**\n     * Load image from url\n     * @param {?string} imageName - File name\n     * @param {?(fabric.Image|string)} img - fabric.Image instance or URL of an image\n     * @returns {jQuery.Deferred} deferred\n     */\n    load(imageName, img) {\n        let promise;\n\n        if (!imageName && !img) { // Back to the initial state, not error.\n            const canvas = this.getCanvas();\n\n            canvas.backgroundImage = null;\n            canvas.renderAll();\n\n            promise = new Promise(resolve => {\n                this.setCanvasImage('', null);\n                resolve();\n            });\n        } else {\n            promise = this._setBackgroundImage(img).then(oImage => {\n                this.setCanvasImage(imageName, oImage);\n                this.adjustCanvasDimension();\n\n                return oImage;\n            });\n        }\n\n        return promise;\n    }\n\n    /**\n     * Set background image\n     * @param {?(fabric.Image|String)} img fabric.Image instance or URL of an image to set background to\n     * @returns {$.Deferred} deferred\n     * @private\n     */\n    _setBackgroundImage(img) {\n        if (!img) {\n            return Promise.reject(rejectMessages.loadImage);\n        }\n\n        return new Promise((resolve, reject) => {\n            const canvas = this.getCanvas();\n\n            canvas.setBackgroundImage(img, () => {\n                const oImage = canvas.backgroundImage;\n\n                if (oImage.getElement()) {\n                    resolve(oImage);\n                } else {\n                    reject();\n                }\n            }, imageOption);\n        });\n    }\n}\n"},"modules/rotation.js":{import:"./modules/rotation",content:"import { fabric } from 'fabric';\nimport Base from './base';\nimport consts from '../consts';\n\nconst { rejectMessages } = consts;\n\nexport default class Rotation extends Base {\n    constructor(parent) {\n        super();\n        this.setParent(parent);\n        this.name = consts.moduleNames.ROTATION;\n    }\n\n    getCurrentAngle() {\n        return this.getCanvasImage().angle;\n    }\n\n    /**\n     * Set angle of the image\n     *\n     *  Do not call \"this.setImageProperties\" for setting angle directly.\n     *  Before setting angle, The originX,Y of image should be set to center.\n     *      See \"http://fabricjs.com/docs/fabric.Object.html#setAngle\"\n     *\n     * @param {number} angle - Angle value\n     * @returns {jQuery.Deferred}\n     */\n    setAngle(angle) {\n        const oldAngle = this.getCurrentAngle() % 360; // The angle is lower than 2*PI(===360 degrees)\n\n        angle %= 360;\n        if (angle === oldAngle) {\n            return Promise.reject(rejectMessages.rotation);\n        }\n        const canvasImage = this.getCanvasImage();\n        const oldImageCenter = canvasImage.getCenterPoint();\n        canvasImage.setAngle(angle).setCoords();\n        this.adjustCanvasDimension();\n        const newImageCenter = canvasImage.getCenterPoint();\n        this._rotateForEachObject(oldImageCenter, newImageCenter, angle - oldAngle);\n\n        return Promise.resolve(angle);\n    }\n\n    /**\n     * Rotate for each object\n     * @param {fabric.Point} oldImageCenter - Image center point before rotation\n     * @param {fabric.Point} newImageCenter - Image center point after rotation\n     * @param {number} angleDiff - Image angle difference after rotation\n     * @private\n     */\n    _rotateForEachObject(oldImageCenter, newImageCenter, angleDiff) {\n        const canvas = this.getCanvas();\n        const centerDiff = {\n            x: oldImageCenter.x - newImageCenter.x,\n            y: oldImageCenter.y - newImageCenter.y\n        };\n\n        canvas.forEachObject((obj) => {\n            const objCenter = obj.getCenterPoint();\n            const radian = fabric.util.degreesToRadians(angleDiff);\n            const newObjCenter = fabric.util.rotatePoint(objCenter, oldImageCenter, radian);\n\n            obj.set({\n                left: newObjCenter.x - centerDiff.x,\n                top: newObjCenter.y - centerDiff.y,\n                angle: (obj.angle + angleDiff) % 360\n            });\n            obj.setCoords();\n        });\n        canvas.renderAll();\n    }\n\n    /**\n     * Rotate the image\n     * @param {number} additionalAngle - Additional angle\n     * @returns {jQuery.Deferred}\n     */\n    rotate(additionalAngle) {\n        const current = this.getCurrentAngle();\n\n        return this.setAngle(current + additionalAngle);\n    }\n}\n"},"modules/shape.js":{import:"./modules/shape",content:"import { fabric } from 'fabric';\n\nimport Base from './base';\nimport consts from '../consts';\nimport util from '../lib/util';\n\nimport resizeHelper from '../lib/shape-resize-helper.js';\n\nconst { inArray, extend } = util;\n\nconst KEY_CODES = consts.keyCodes;\nconst DEFAULT_TYPE = 'rect';\nconst DEFAULT_OPTIONS = {\n    strokeWidth: 1,\n    stroke: '#000000',\n    fill: '#ffffff',\n    width: 1,\n    height: 1,\n    rx: 0,\n    ry: 0,\n    lockSkewingX: true,\n    lockSkewingY: true,\n    lockUniScaling: false,\n    bringForward: true,\n    isRegular: false\n};\n\nconst shapeType = ['rect', 'circle', 'triangle'];\n\nexport default class Shape extends Base {\n    constructor(parent) {\n        super();\n        this.setParent(parent);\n        this.name = consts.moduleNames.SHAPE;\n        this._shapeObj = null;\n\n        this._type = DEFAULT_TYPE;\n\n        /**\n         * Options to draw the shape\n         */\n        this._options = DEFAULT_OPTIONS;\n\n        /**\n         * Whether the shape object is selected or not\n         */\n        this._isSelected = false;\n\n        /**\n         * Pointer for drawing shape (x, y)\n         */\n        this._startPoint = {};\n\n        /**\n         * Using shortcut on drawing shape\n         */\n        this._withShiftKey = false;\n\n        this._handlers = {\n            mousedown: this._onFabricMouseDown.bind(this),\n            mousemove: this._onFabricMouseMove.bind(this),\n            mouseup: this._onFabricMouseUp.bind(this),\n            keydown: this._onKeyDown.bind(this),\n            keyup: this._onKeyUp.bind(this)\n        };\n    }\n\n    /**\n     * Start to draw the shape on canvas\n     */\n    startDrawingMode() {\n        const canvas = this.getCanvas();\n\n        this._isSelected = false;\n\n        canvas.defaultCursor = 'crosshair';\n        canvas.selection = false;\n        canvas.uniScaleTransform = true;\n        canvas.on({\n            'mouse:down': this._handlers.mousedown\n        });\n\n        fabric.util.addListener(document, 'keydown', this._handlers.keydown);\n        fabric.util.addListener(document, 'keyup', this._handlers.keyup);\n    }\n\n    /**\n     * End to draw the shape on canvas\n     */\n    endDrawingMode() {\n        const canvas = this.getCanvas();\n\n        this._isSelected = false;\n\n        canvas.defaultCursor = 'default';\n        canvas.selection = false;\n        canvas.uniScaleTransform = false;\n        canvas.off({\n            'mouse:down': this._handlers.mousedown\n        });\n\n        fabric.util.removeListener(document, 'keydown', this._handlers.keydown);\n        fabric.util.removeListener(document, 'keyup', this._handlers.keyup);\n    }\n\n    /**\n     * Set states of the current drawing shape\n     * @param {string} type - Shape type (ex: 'rect', 'circle')\n     * @param {object} [options] - Shape options\n     *      @param {string} [options.fill] - Shape foreground color (ex: '#fff', 'transparent')\n     *      @param {string} [options.stoke] - Shape outline color\n     *      @param {number} [options.strokeWidth] - Shape outline width\n     *      @param {number} [options.width] - Width value (When type option is 'rect', this options can use)\n     *      @param {number} [options.height] - Height value (When type option is 'rect', this options can use)\n     *      @param {number} [options.rx] - Radius x value (When type option is 'circle', this options can use)\n     *      @param {number} [options.ry] - Radius y value (When type option is 'circle', this options can use)\n     */\n    setStates(type, options) {\n        this._type = type;\n\n        if (options) {\n            this._options = Object.assign(this._options, options);\n        }\n    }\n\n    /**\n     * Add the shape\n     * @param {string} type - Shape type (ex: 'rect', 'circle')\n     * @param {object} options - Shape options\n     *      @param {string} [options.fill] - Shape foreground color (ex: '#fff', 'transparent')\n     *      @param {string} [options.stroke] - Shape outline color\n     *      @param {number} [options.strokeWidth] - Shape outline width\n     *      @param {number} [options.width] - Width value (When type option is 'rect', this options can use)\n     *      @param {number} [options.height] - Height value (When type option is 'rect', this options can use)\n     *      @param {number} [options.rx] - Radius x value (When type option is 'circle', this options can use)\n     *      @param {number} [options.ry] - Radius y value (When type option is 'circle', this options can use)\n     *      @param {number} [options.isRegular] - Whether scaling shape has 1:1 ratio or not\n     */\n    add(type, options) {\n        const canvas = this.getCanvas();\n        options = this._createOptions(options);\n        const shapeObj = this._createInstance(type, options);\n\n        this._bindEventOnShape(shapeObj);\n\n        canvas.add(shapeObj);\n    }\n\n    /**\n     * Change the shape\n     * @param {fabric.Object} shapeObj - Selected shape object on canvas\n     * @param {object} options - Shape options\n     *      @param {string} [options.fill] - Shape foreground color (ex: '#fff', 'transparent')\n     *      @param {string} [options.stroke] - Shape outline color\n     *      @param {number} [options.strokeWidth] - Shape outline width\n     *      @param {number} [options.width] - Width value (When type option is 'rect', this options can use)\n     *      @param {number} [options.height] - Height value (When type option is 'rect', this options can use)\n     *      @param {number} [options.rx] - Radius x value (When type option is 'circle', this options can use)\n     *      @param {number} [options.ry] - Radius y value (When type option is 'circle', this options can use)\n     *      @param {number} [options.isRegular] - Whether scaling shape has 1:1 ratio or not\n     */\n    change(shapeObj, options) {\n        if (inArray(shapeObj.get('type'), shapeType) < 0) {\n            return;\n        }\n\n        shapeObj.set(options);\n        this.getCanvas().renderAll();\n    }\n\n    /**\n     * Create the instance of shape\n     * @param {string} type - Shape type\n     * @param {object} options - Options to creat the shape\n     * @returns {fabric.Object} Shape instance\n     */\n    _createInstance(type, options) {\n        let instance;\n\n        switch (type) {\n            case 'rect':\n                instance = new fabric.Rect(options);\n                break;\n            case 'circle':\n                instance = new fabric.Ellipse(\n                    extend(\n                        {\n                            type: 'circle'\n                        },\n                        options\n                    )\n                );\n                break;\n            case 'triangle':\n                instance = new fabric.Triangle(options);\n                break;\n            default:\n                instance = {};\n        }\n\n        return instance;\n    }\n\n    /**\n     * Get the options to create the shape\n     * @param {object} options - Options to creat the shape\n     * @returns {object} Shape options\n     */\n    _createOptions(options) {\n        const selectionStyles = consts.fObjectOptions.SELECTION_STYLE;\n\n        options = Object.assign({}, DEFAULT_OPTIONS, selectionStyles, options);\n\n        if (options.isRegular) {\n            options.lockUniScaling = true;\n        }\n\n        return options;\n    }\n\n    /**\n     * Bind fabric events on the creating shape object\n     * @param {fabric.Object} shapeObj - Shape object\n     */\n    _bindEventOnShape(shapeObj) {\n        const self = this;\n        const canvas = this.getCanvas();\n\n        shapeObj.on({\n            added() {\n                self._shapeObj = this;\n                resizeHelper.setOrigins(self._shapeObj);\n            },\n            selected() {\n                self._isSelected = true;\n                self._shapeObj = this;\n                canvas.uniScaleTransform = true;\n                canvas.defaultCursor = 'default';\n                resizeHelper.setOrigins(self._shapeObj);\n            },\n            deselected() {\n                self._isSelected = false;\n                self._shapeObj = null;\n                canvas.defaultCursor = 'crosshair';\n                canvas.uniScaleTransform = false;\n            },\n            modified() {\n                const currentObj = self._shapeObj;\n\n                resizeHelper.adjustOriginToCenter(currentObj);\n                resizeHelper.setOrigins(currentObj);\n            },\n            scaling(fEvent) {\n                const pointer = canvas.getPointer(fEvent.e);\n                const currentObj = self._shapeObj;\n\n                canvas.setCursor('crosshair');\n                resizeHelper.resize(currentObj, pointer, true);\n            }\n        });\n    }\n\n    /**\n     * MouseDown event handler on canvas\n     * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event object\n     */\n    _onFabricMouseDown(fEvent) {\n        if (!this._isSelected && !this._shapeObj) {\n            const canvas = this.getCanvas();\n            this._startPoint = canvas.getPointer(fEvent.e);\n\n            canvas.on({\n                'mouse:move': this._handlers.mousemove,\n                'mouse:up': this._handlers.mouseup\n            });\n        }\n    }\n\n    /**\n     * MouseDown event handler on canvas\n     * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event object\n     */\n    _onFabricMouseMove(fEvent) {\n        const canvas = this.getCanvas();\n        const pointer = canvas.getPointer(fEvent.e);\n        const startPointX = this._startPoint.x;\n        const startPointY = this._startPoint.y;\n        const width = startPointX - pointer.x;\n        const height = startPointY - pointer.y;\n        const shape = this._shapeObj;\n\n        if (!shape) {\n            this.add(this._type, {\n                left: startPointX,\n                top: startPointY,\n                width,\n                height\n            });\n        } else {\n            this._shapeObj.set({\n                isRegular: this._withShiftKey\n            });\n            resizeHelper.resize(shape, pointer);\n            canvas.renderAll();\n        }\n    }\n\n    /**\n     * MouseUp event handler on canvas\n     */\n    _onFabricMouseUp() {\n        const canvas = this.getCanvas();\n        const shape = this._shapeObj;\n\n        if (shape) {\n            resizeHelper.adjustOriginToCenter(shape);\n        }\n\n        this._shapeObj = null;\n\n        canvas.off({\n            'mouse:move': this._handlers.mousemove,\n            'mouse:up': this._handlers.mouseup\n        });\n    }\n\n    /**\n     * Keydown event handler on document\n     * @param {KeyboardEvent} e - Event object\n     */\n    _onKeyDown(e) {\n        if (e.keyCode === KEY_CODES.SHIFT) {\n            this._withShiftKey = true;\n\n            if (this._shapeObj) {\n                this._shapeObj.isRegular = true;\n            }\n        }\n    }\n\n    /**\n     * Keyup event handler on document\n     * @param {KeyboardEvent} e - Event object\n     */\n    _onKeyUp(e) {\n        if (e.keyCode === KEY_CODES.SHIFT) {\n            this._withShiftKey = false;\n\n            if (this._shapeObj) {\n                this._shapeObj.isRegular = false;\n            }\n        }\n    }\n}\n"},"lib/shape-resize-helper.js":{import:"../lib/shape-resize-helper.js",content:"import { fabric } from 'fabric';\n\nconst DIVISOR = {\n    rect: 1,\n    circle: 2,\n    triangle: 1\n};\nconst DIMENSION_KEYS = {\n    rect: {\n        w: 'width',\n        h: 'height'\n    },\n    circle: {\n        w: 'rx',\n        h: 'ry'\n    },\n    triangle: {\n        w: 'width',\n        h: 'height'\n    }\n};\n\n/**\n * Set the start point value to the shape object\n * @param {fabric.Object} shape - Shape object\n * @ignore\n */\nfunction setStartPoint(shape) {\n    const originX = shape.getOriginX();\n    const originY = shape.getOriginY();\n    const originKey = originX.substring(0, 1) + originY.substring(0, 1);\n\n    shape.startPoint = shape.origins[originKey];\n}\n\n/**\n * Get the positions of ratated origin by the pointer value\n * @param {{x: number, y: number}} origin - Origin value\n * @param {{x: number, y: number}} pointer - Pointer value\n * @param {number} angle - Rotating angle\n * @returns {object} Postions of origin\n * @ignore\n */\nfunction getPositionsOfRotatedOrigin(origin, pointer, angle) {\n    const sx = origin.x;\n    const sy = origin.y;\n    const px = pointer.x;\n    const py = pointer.y;\n    const r = (angle * Math.PI) / 180;\n    const rx = (px - sx) * Math.cos(r) - (py - sy) * Math.sin(r) + sx;\n    const ry = (px - sx) * Math.sin(r) + (py - sy) * Math.cos(r) + sy;\n\n    return {\n        originX: sx > rx ? 'right' : 'left',\n        originY: sy > ry ? 'bottom' : 'top'\n    };\n}\n\n/**\n * Whether the shape has the center origin or not\n * @param {fabric.Object} shape - Shape object\n * @returns {boolean} State\n * @ignore\n */\nfunction hasCenterOrigin(shape) {\n    return shape.getOriginX() === 'center' && shape.getOriginY() === 'center';\n}\n\n/**\n * Adjust the origin of shape by the start point\n * @param {{x: number, y: number}} pointer - Pointer value\n * @param {fabric.Object} shape - Shape object\n * @ignore\n */\nfunction adjustOriginByStartPoint(pointer, shape) {\n    const centerPoint = shape.getPointByOrigin('center', 'center');\n    const angle = -shape.getAngle();\n    const originPositions = getPositionsOfRotatedOrigin(centerPoint, pointer, angle);\n    const originX = originPositions.originX;\n    const originY = originPositions.originY;\n    const origin = shape.getPointByOrigin(originX, originY);\n    const left = shape.getLeft() - (centerPoint.x - origin.x);\n    const top = shape.getTop() - (centerPoint.x - origin.y);\n\n    shape.set({\n        originX,\n        originY,\n        left,\n        top\n    });\n\n    shape.setCoords();\n}\n\n/**\n * Adjust the origin of shape by the moving pointer value\n * @param {{x: number, y: number}} pointer - Pointer value\n * @param {fabric.Object} shape - Shape object\n * @ignore\n */\nfunction adjustOriginByMovingPointer(pointer, shape) {\n    const origin = shape.startPoint;\n    const angle = -shape.getAngle();\n    const originPositions = getPositionsOfRotatedOrigin(origin, pointer, angle);\n    const originX = originPositions.originX;\n    const originY = originPositions.originY;\n\n    shape.setPositionByOrigin(origin, originX, originY);\n}\n\n/**\n * Adjust the dimension of shape on firing scaling event\n * @param {fabric.Object} shape - Shape object\n * @ignore\n */\nfunction adjustDimensionOnScaling(shape) {\n    const type = shape.type;\n    const dimensionKeys = DIMENSION_KEYS[type];\n    const scaleX = shape.scaleX;\n    const scaleY = shape.scaleY;\n    let width = shape[dimensionKeys.w] * scaleX;\n    let height = shape[dimensionKeys.h] * scaleY;\n\n    if (shape.isRegular) {\n        const maxScale = Math.max(scaleX, scaleY);\n\n        width = shape[dimensionKeys.w] * maxScale;\n        height = shape[dimensionKeys.h] * maxScale;\n    }\n\n    const options = {\n        hasControls: false,\n        hasBorders: false,\n        scaleX: 1,\n        scaleY: 1\n    };\n\n    options[dimensionKeys.w] = width;\n    options[dimensionKeys.h] = height;\n\n    shape.set(options);\n}\n\n/**\n * Adjust the dimension of shape on firing mouse move event\n * @param {{x: number, y: number}} pointer - Pointer value\n * @param {fabric.Object} shape - Shape object\n * @ignore\n */\nfunction adjustDimensionOnMouseMove(pointer, shape) {\n    const origin = shape.startPoint;\n    const type = shape.type;\n    const divisor = DIVISOR[type];\n    const dimensionKeys = DIMENSION_KEYS[type];\n    const strokeWidth = shape.strokeWidth;\n    const isTriangle = !!(shape.type === 'triangle');\n    const options = {};\n    let width = Math.abs(origin.x - pointer.x) / divisor;\n    let height = Math.abs(origin.y - pointer.y) / divisor;\n\n    if (width > strokeWidth) {\n        width -= strokeWidth / divisor;\n    }\n\n    if (height > strokeWidth) {\n        height -= strokeWidth / divisor;\n    }\n\n    if (shape.isRegular) {\n        width = height = Math.max(width, height);\n\n        if (isTriangle) {\n            height = (Math.sqrt(3) / 2) * width;\n        }\n    }\n\n    options[dimensionKeys.w] = width;\n    options[dimensionKeys.h] = height;\n\n    shape.set(options);\n}\n\nexport default {\n    /**\n     * Set each origin value to shape\n     * @param {fabric.Object} shape - Shape object\n     */\n    setOrigins(shape) {\n        const leftTopPoint = shape.getPointByOrigin('left', 'top');\n        const rightTopPoint = shape.getPointByOrigin('right', 'top');\n        const rightBottomPoint = shape.getPointByOrigin('right', 'bottom');\n        const leftBottomPoint = shape.getPointByOrigin('left', 'bottom');\n\n        shape.origins = {\n            lt: leftTopPoint,\n            rt: rightTopPoint,\n            rb: rightBottomPoint,\n            lb: leftBottomPoint\n        };\n    },\n\n    /**\n     * Resize the shape\n     * @param {fabric.Object} shape - Shape object\n     * @param {{x: number, y: number}} pointer - Mouse pointer values on canvas\n     * @param {boolean} isScaling - Whether the resizing action is scaling or not\n     */\n    resize(shape, pointer, isScaling) {\n        if (hasCenterOrigin(shape)) {\n            adjustOriginByStartPoint(pointer, shape);\n            setStartPoint(shape);\n        }\n\n        if (isScaling) {\n            adjustDimensionOnScaling(shape, pointer);\n        } else {\n            adjustDimensionOnMouseMove(pointer, shape);\n        }\n\n        adjustOriginByMovingPointer(pointer, shape);\n    },\n\n    /**\n     * Adjust the origin position of shape to center\n     * @param {fabric.Object} shape - Shape object\n     */\n    adjustOriginToCenter(shape) {\n        const centerPoint = shape.getPointByOrigin('center', 'center');\n        const originX = shape.getOriginX();\n        const originY = shape.getOriginY();\n        const origin = shape.getPointByOrigin(originX, originY);\n        const left = shape.getLeft() + (centerPoint.x - origin.x);\n        const top = shape.getTop() + (centerPoint.y - origin.y);\n\n        shape.set({\n            hasControls: true,\n            hasBorders: true,\n            originX: 'center',\n            originY: 'center',\n            left,\n            top\n        });\n\n        shape.setCoords(); // For left, top properties\n    }\n};\n"},"modules/line.js":{import:"./modules/line",content:"import { fabric } from 'fabric';\nimport Base from './base';\nimport consts from '../consts';\n\nexport default class Line extends Base {\n    constructor(parent) {\n        super();\n        this.setParent(parent);\n        this.name = consts.moduleNames.LINE;\n        this._width = 12;\n        this._oColor = new fabric.Color('rgba(0, 0, 0, 0.5)');\n\n        this._listeners = {\n            mousedown: this._onFabricMouseDown.bind(this),\n            mousemove: this._onFabricMouseMove.bind(this),\n            mouseup: this._onFabricMouseUp.bind(this)\n        };\n    }\n\n    /**\n     * Start drawing line mode\n     * @param {{width: ?number, color: ?string}} [setting] - Brush width & color\n     */\n    start(setting) {\n        const canvas = this.getCanvas();\n\n        canvas.defaultCursor = 'crosshair';\n        canvas.selection = false;\n\n        this.setBrush(setting);\n\n        canvas.forEachObject((obj) => {\n            obj.set({\n                evented: false\n            });\n        });\n\n        canvas.on({\n            'mouse:down': this._listeners.mousedown\n        });\n    }\n\n    /**\n     * Set brush\n     * @param {{width: ?number, color: ?string}} [setting] - Brush width & color\n     */\n    setBrush(setting) {\n        const brush = this.getCanvas().freeDrawingBrush;\n\n        setting = setting || {};\n        this._width = setting.width || this._width;\n\n        if (setting.color) {\n            this._oColor = new fabric.Color(setting.color);\n        }\n        brush.width = this._width;\n        brush.color = this._oColor.toRgba();\n    }\n\n    /**\n     * End drawing line mode\n     */\n    end() {\n        const canvas = this.getCanvas();\n\n        canvas.defaultCursor = 'default';\n        canvas.selection = false;\n\n        canvas.forEachObject((obj) => {\n            obj.set({\n                evented: true\n            });\n        });\n\n        canvas.off('mouse:down', this._listeners.mousedown);\n    }\n\n    /**\n     * Mousedown event handler in fabric canvas\n     * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event object\n     * @private\n     */\n    _onFabricMouseDown(fEvent) {\n        const canvas = this.getCanvas();\n        const pointer = canvas.getPointer(fEvent.e);\n        const points = [pointer.x, pointer.y, pointer.x, pointer.y];\n\n        this._line = new fabric.Line(points, {\n            stroke: this._oColor.toRgba(),\n            strokeWidth: this._width,\n            evented: false\n        });\n\n        this._line.set(consts.fObjectOptions.SELECTION_STYLE);\n\n        canvas.add(this._line);\n\n        canvas.on({\n            'mouse:move': this._listeners.mousemove,\n            'mouse:up': this._listeners.mouseup\n        });\n    }\n\n    /**\n     * Mousemove event handler in fabric canvas\n     * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event object\n     * @private\n     */\n    _onFabricMouseMove(fEvent) {\n        const canvas = this.getCanvas();\n        const pointer = canvas.getPointer(fEvent.e);\n\n        this._line.set({\n            x2: pointer.x,\n            y2: pointer.y\n        });\n\n        this._line.setCoords();\n\n        canvas.renderAll();\n    }\n\n    /**\n     * Mouseup event handler in fabric canvas\n     * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event object\n     * @private\n     */\n    _onFabricMouseUp() {\n        const canvas = this.getCanvas();\n\n        this._line = null;\n\n        canvas.off({\n            'mouse:move': this._listeners.mousemove,\n            'mouse:up': this._listeners.mouseup\n        });\n    }\n}\n"},"modules/arrow.js":{import:"./modules/arrow",content:"import { fabric } from 'fabric';\nimport Base from './base';\nimport consts from '../consts';\n// import util from '../lib/util';\n\n// const resetStyles = {\n//     fill: '#000000',\n//     width: 5\n// };\nexport default class Arrow extends Base {\n    constructor(parent) {\n        super();\n        this.setParent(parent);\n        this.name = consts.moduleNames.ARROW;\n        this._width = 5;\n        this._radius = 3;\n        this._dimension = {\n            height: 20,\n            width: 20\n        };\n        this._oColor = new fabric.Color('rgba(0, 0, 0, 0.5)');\n        this._listeners = {\n            mousedown: this._onFabricMouseDown.bind(this),\n            mousemove: this._onFabricMouseMove.bind(this),\n            mouseup: this._onFabricMouseUp.bind(this)\n        };\n    }\n\n    /**\n     * Start drawing arrow mode\n     * @param {{width: ?number, color: ?string,radius:?number,dimension:?object} [setting] - Brush width & color\n     */\n    start(setting) {\n        const canvas = this.getCanvas();\n\n        canvas.defaultCursor = 'crosshair';\n        canvas.selection = false;\n\n        canvas.forEachObject((obj) => {\n            obj.set({\n                evented: false\n            });\n        });\n        this.setBrush(setting);\n        canvas.on({\n            'mouse:down': this._listeners.mousedown\n        });\n    }\n\n    /**\n     * Set brush\n     * @param {{width: ?number, color: ?string,radius:?number,dimension:?object} [setting] - Brush width & color\n     */\n    setBrush(setting) {\n        const brush = this.getCanvas().freeDrawingBrush;\n\n        setting = setting || {};\n        this._width = setting.width || this._width;\n        this._radius = setting.radius || this._radius;\n        this._dimension = Object.assign(this._dimension, setting.dimension);\n\n        if (setting.color) {\n            this._oColor = new fabric.Color(setting.color);\n        }\n        brush.width = this._width;\n        brush.color = this._oColor.toRgba();\n    }\n\n    /**\n     * Set obj style\n     * @param {object} activeObj - Current selected text object\n     * @param {object} styleObj - Initial styles\n     */\n    setStyle(activeObj, styleObj) {\n        activeObj.set(styleObj);\n        this.getCanvas().renderAll();\n    }\n\n    /**\n     * End drawing line mode\n     */\n    end() {\n        const canvas = this.getCanvas();\n\n        canvas.defaultCursor = 'default';\n        canvas.selection = false;\n\n        canvas.forEachObject((obj) => {\n            obj.set({\n                evented: true\n            });\n        });\n\n        canvas.off('mouse:down', this._listeners.mousedown);\n    }\n\n    /**\n     * Mousedown event handler in fabric canvas\n     * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event object\n     * @private\n     */\n    _onFabricMouseDown(fEvent) {\n        const canvas = this.getCanvas();\n        // if(fEvent.target && fEvent.target.customType === 'arrow') {\n        //     canvas.trigger('object:selected', {target: fEvent.target});\n        //     return;\n        // }\n        const pointer = (this.startPointer = canvas.getPointer(fEvent.e));\n        //this.drawArrow(pointer,pointer);\n        let group = (this.group = new fabric.Group(\n            [\n                /*this.line, this.arrow, this.circle*/\n            ],\n            {\n                left: pointer.x,\n                top: pointer.y\n                // originX: 'center',\n                // originY: 'center',\n                // selection:true,\n                // transparentCorners: true,\n                //  hasControls :true,\n                //  hasBorders :true\n            }\n        ));\n        this.group.set(consts.fObjectOptions.SELECTION_STYLE);\n        // this.group.set('selectable', true);\n        group.customType = 'arrow';\n        canvas.add(group);\n        canvas.renderAll();\n        canvas.on({\n            'mouse:move': this._listeners.mousemove,\n            'mouse:up': this._listeners.mouseup\n        });\n    }\n\n    drawArrow(startPointer, endPointer) {\n        const points = [startPointer.x, startPointer.y, endPointer.x, endPointer.y];\n        const line = (this.line = new fabric.Line(points, {\n            stroke: this._oColor.toRgba(),\n            strokeWidth: this._width,\n            padding: 5,\n            originX: 'center',\n            originY: 'center'\n        }));\n\n        let centerX = (line.x1 + line.x2) / 2,\n            centerY = (line.y1 + line.y2) / 2;\n        let deltaX = line.left - centerX,\n            deltaY = line.top - centerY;\n\n        const arrow = (this.arrow = new fabric.Triangle({\n            left: line.get('x1') + deltaX,\n            top: line.get('y1') + deltaY,\n            originX: 'center',\n            originY: 'center',\n            pointType: 'arrow_start',\n            angle:\n                startPointer.x === endPointer.x && startPointer.y === endPointer.y\n                    ? -45\n                    : this.calcArrowAngle(\n                          startPointer.x,\n                          startPointer.y,\n                          endPointer.x,\n                          endPointer.y\n                      ) - 90,\n            width: this._dimension.width,\n            height: this._dimension.height,\n            fill: this._oColor.toRgba()\n        }));\n        const circle = (this.circle = new fabric.Circle({\n            left: line.get('x2') + deltaX,\n            top: line.get('y2') + deltaY,\n            radius: this._radius,\n            stroke: this._oColor.toRgba(),\n            strokeWidth: this._width,\n            originX: 'center',\n            originY: 'center',\n            pointType: 'arrow_end',\n            fill: this._oColor.toRgba()\n        }));\n        line.customType = arrow.customType = circle.customType = 'arrow';\n    }\n\n    /**\n     * Mousemove event handler in fabric canvas\n     * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event object\n     * @private\n     */\n    _onFabricMouseMove(fEvent) {\n        const canvas = this.getCanvas();\n        const pointer = canvas.getPointer(fEvent.e);\n        const { x, y } = pointer.x;\n        if (Math.abs(x - this.startPointer.x) + Math.abs(y - this.startPointer.y) > 5) {\n            this.group.remove(this.line, this.arrow, this.circle);\n            this.drawArrow(pointer, this.startPointer);\n            this.group.addWithUpdate(this.arrow);\n            this.group.addWithUpdate(this.line);\n            this.group.addWithUpdate(this.circle);\n            canvas.renderAll();\n        }\n    }\n\n    /**\n     * Mouseup event handler in fabric canvas\n     * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event object\n     * @private\n     */\n    _onFabricMouseUp() {\n        const canvas = this.getCanvas();\n\n        this.line = null;\n        // canvas.setActiveObject(this.group);\n\n        canvas.off({\n            'mouse:move': this._listeners.mousemove,\n            'mouse:up': this._listeners.mouseup\n        });\n    }\n\n    calcArrowAngle(x1, y1, x2, y2) {\n        var angle = 0,\n            x,\n            y;\n        x = x2 - x1;\n        y = y2 - y1;\n        if (x === 0) {\n            angle = y === 0 ? 0 : y > 0 ? Math.PI / 2 : (Math.PI * 3) / 2;\n        } else if (y === 0) {\n            angle = x > 0 ? 0 : Math.PI;\n        } else {\n            angle =\n                x < 0\n                    ? Math.atan(y / x) + Math.PI\n                    : y < 0\n                    ? Math.atan(y / x) + 2 * Math.PI\n                    : Math.atan(y / x);\n        }\n        return (angle * 180) / Math.PI;\n    }\n}\n"},"modules/cropper.js":{import:"./modules/cropper",content:"import { fabric } from 'fabric';\n\nimport Base from './base.js';\nimport consts from '../consts';\nimport Cropzone from '../shape/cropzone';\nimport util from '../lib/util';\n\nconst { MOUSE_MOVE_THRESHOLD } = consts;\nconst { clamp, bind } = util;\nconst { keyCodes } = consts;\n\nexport default class Cropper extends Base {\n    constructor(parent) {\n        super();\n\n        this.setParent(parent);\n\n        this.name = consts.moduleNames.CROPPER;\n\n        this._cropzone = null;\n\n        this._startX = null;\n\n        this._startY = null;\n\n        this._withShiftKey = false;\n\n        this._listeners = {\n            keydown: bind(this._onKeyDown, this),\n            keyup: bind(this._onKeyUp, this),\n            mousedown: bind(this._onFabricMouseDown, this),\n            mousemove: bind(this._onFabricMouseMove, this),\n            mouseup: bind(this._onFabricMouseUp, this)\n        };\n    }\n\n    start() {\n        if (this._cropzone) {\n            return;\n        }\n        const canvas = this.getCanvas();\n        canvas.forEachObject((obj) => {\n            // {@link http://fabricjs.com/docs/fabric.Object.html#evented}\n            obj.evented = false;\n        });\n        let canvasCssWidth = parseInt(canvas.wrapperEl.style['width'], 10),\n            canvasCssHeight = parseInt(canvas.wrapperEl.style['height'], 10),\n            canvasWidth = canvas.upperCanvasEl.width;\n        let radio = canvasCssWidth / canvasWidth;\n        let marginLeft = (canvasCssWidth * 0.1) / radio;\n        let marginTop = (canvasCssHeight * 0.1) / radio;\n        let width = (canvasCssWidth * 0.8) / radio;\n        let height = (canvasCssHeight * 0.8) / radio;\n\n        this._cropzone = new Cropzone({\n            left: marginLeft,\n            top: marginTop,\n            width: width,\n            height: height,\n            strokeWidth: 0, // {@link https://github.com/kangax/fabric.js/issues/2860}\n            cornerStyle: 'circle',\n            cornerColor: '#FFFFFF',\n            cornerStrokeColor: '#118BFB',\n            cornerSize: 15,\n            fill: 'transparent',\n            hasRotatingPoint: false,\n            hasBorders: false,\n            lockScalingFlip: true,\n            lockRotation: true\n        });\n        canvas.deactivateAll();\n        canvas.add(this._cropzone);\n        canvas.on('mouse:down', this._listeners.mousedown);\n        canvas.selection = false;\n        canvas.defaultCursor = 'crosshair';\n        canvas.setActiveObject(this._cropzone);\n\n        fabric.util.addListener(document, 'keydown', this._listeners.keydown);\n        fabric.util.addListener(document, 'keyup', this._listeners.keyup);\n    }\n\n    /**\n     * End cropping\n     * @param {boolean} isApplying - Is applying or not\n     * @returns {?{imageName: string, url: string}} cropped Image data\n     */\n    end(isApplying) {\n        const canvas = this.getCanvas();\n        const cropzone = this._cropzone;\n        let data;\n        canvas.off('mouse:down', this._listeners.mousedown);\n        fabric.util.removeListener(document, 'keydown', this._listeners.keydown);\n        fabric.util.removeListener(document, 'keyup', this._listeners.keyup);\n        if (!cropzone) {\n            return null;\n        }\n        cropzone.remove();\n        canvas.selection = false;\n        canvas.defaultCursor = 'default';\n        canvas.forEachObject((obj) => {\n            obj.evented = true;\n        });\n        if (isApplying) {\n            data = this._getCroppedImageData();\n        }\n        this._cropzone = null;\n\n        return data;\n    }\n\n    _onFabricMouseDown(fEvent) {\n        const canvas = this.getCanvas();\n\n        if (fEvent.target) {\n            return;\n        }\n\n        canvas.selection = false;\n        const coord = canvas.getPointer(fEvent.e);\n\n        this._startX = coord.x;\n        this._startY = coord.y;\n\n        canvas.on({\n            'mouse:move': this._listeners.mousemove,\n            'mouse:up': this._listeners.mouseup\n        });\n    }\n\n    _onFabricMouseMove(fEvent) {\n        const canvas = this.getCanvas();\n        const pointer = canvas.getPointer(fEvent.e);\n        const x = pointer.x;\n        const y = pointer.y;\n        const cropzone = this._cropzone;\n\n        if (Math.abs(x - this._startX) + Math.abs(y - this._startY) > MOUSE_MOVE_THRESHOLD) {\n            cropzone.remove();\n            cropzone.set(this._calcRectDimensionFromPoint(x, y));\n\n            canvas.add(cropzone);\n        }\n    }\n\n    /**\n     * Get rect dimension setting from Canvas-Mouse-Position(x, y)\n     * @param {number} x - Canvas-Mouse-Position x\n     * @param {number} y - Canvas-Mouse-Position Y\n     * @returns {{left: number, top: number, width: number, height: number}}\n     * @private\n     */\n    _calcRectDimensionFromPoint(x, y) {\n        const canvas = this.getCanvas();\n        const canvasWidth = canvas.getWidth();\n        const canvasHeight = canvas.getHeight();\n        const startX = this._startX;\n        const startY = this._startY;\n        let left = clamp(x, 0, startX);\n        let top = clamp(y, 0, startY);\n        let width = clamp(x, startX, canvasWidth) - left; // (startX <= x(mouse) <= canvasWidth) - left\n        let height = clamp(y, startY, canvasHeight) - top; // (startY <= y(mouse) <= canvasHeight) - top\n\n        if (this._withShiftKey) {\n            // make fixed ratio cropzone\n            if (width > height) {\n                height = width;\n            } else if (height > width) {\n                width = height;\n            }\n\n            if (startX >= x) {\n                left = startX - width;\n            }\n\n            if (startY >= y) {\n                top = startY - height;\n            }\n        }\n\n        return {\n            left,\n            top,\n            width,\n            height\n        };\n    }\n\n    _onFabricMouseUp() {\n        const cropzone = this._cropzone;\n        const listeners = this._listeners;\n        const canvas = this.getCanvas();\n\n        canvas.setActiveObject(cropzone);\n        canvas.off({\n            'mouse:move': listeners.mousemove,\n            'mouse:up': listeners.mouseup\n        });\n    }\n\n    _getCroppedImageData() {\n        const cropzone = this._cropzone;\n\n        if (!cropzone.isValid()) {\n            return null;\n        }\n\n        const cropInfo = {\n            left: cropzone.getLeft(),\n            top: cropzone.getTop(),\n            width: cropzone.getWidth(),\n            height: cropzone.getHeight()\n        };\n\n        return {\n            imageName: this.getImageName(),\n            url: this.getCanvas().toDataURL(cropInfo)\n        };\n    }\n\n    _onKeyDown(e) {\n        if (e.keyCode === keyCodes.SHIFT) {\n            this._withShiftKey = true;\n        }\n    }\n\n    _onKeyUp(e) {\n        if (e.keyCode === keyCodes.SHIFT) {\n            this._withShiftKey = false;\n        }\n    }\n}\n"},"shape/cropzone.js":{import:"../shape/cropzone",content:"import { fabric } from 'fabric';\nimport util from '../lib/util';\n\nconst clamp = util.clamp;\n\nconst CORNER_TYPE_TOP_LEFT = 'tl';\nconst CORNER_TYPE_TOP_RIGHT = 'tr';\nconst CORNER_TYPE_MIDDLE_TOP = 'mt';\nconst CORNER_TYPE_MIDDLE_LEFT = 'ml';\nconst CORNER_TYPE_MIDDLE_RIGHT = 'mr';\nconst CORNER_TYPE_MIDDLE_BOTTOM = 'mb';\nconst CORNER_TYPE_BOTTOM_LEFT = 'bl';\nconst CORNER_TYPE_BOTTOM_RIGHT = 'br';\n\n/**\n * TODO Issue: IE7, 8(with excanvas)\n *  - Cropzone is a black zone without transparency.\n */\nconst Cropzone = fabric.util.createClass(fabric.Rect, {\n    /**\n     * Constructor\n     * @param {Object} options Options object\n     * @override\n     */\n    initialize(options) {\n        options.type = 'cropzone';\n        this.callSuper('initialize', options);\n        this.on({\n            moving: this._onMoving,\n            scaling: this._onScaling\n        });\n    },\n    objectCaching: false,\n\n    /**\n     * Render Crop-zone\n     * @param {CanvasRenderingContext2D} ctx - Context\n     * @private\n     * @override\n     */\n    _render(ctx) {\n        const cropzoneDashLineWidth = 7;\n        const cropzoneDashLineOffset = 7;\n        this.callSuper('_render', ctx);\n\n        // Calc original scale\n        const originalFlipX = this.flipX ? -1 : 1;\n        const originalFlipY = this.flipY ? -1 : 1;\n        const originalScaleX = originalFlipX / this.scaleX;\n        const originalScaleY = originalFlipY / this.scaleY;\n\n        // Set original scale\n        ctx.scale(originalScaleX, originalScaleY);\n\n        // Render outer rect\n        this._fillOuterRect(ctx, 'rgba(0, 0, 0, 0.55)');\n\n        // Black dash line\n        this._strokeBorder(ctx, 'rgb(0, 0, 0)', cropzoneDashLineWidth);\n\n        // White dash line\n        this._strokeBorder(\n            ctx,\n            'rgb(255, 255, 255)',\n            cropzoneDashLineWidth,\n            cropzoneDashLineOffset\n        );\n\n        // Reset scale\n        ctx.scale(1 / originalScaleX, 1 / originalScaleY);\n    },\n\n    /**\n     * Cropzone-coordinates with outer rectangle\n     *\n     *     x0     x1         x2      x3\n     *  y0 +--------------------------+\n     *     |///////|//////////|///////|    // <--- \"Outer-rectangle\"\n     *     |///////|//////////|///////|\n     *  y1 +-------+----------+-------+\n     *     |///////| Cropzone |///////|    Cropzone is the \"Inner-rectangle\"\n     *     |///////|  (0, 0)  |///////|    Center point (0, 0)\n     *  y2 +-------+----------+-------+\n     *     |///////|//////////|///////|\n     *     |///////|//////////|///////|\n     *  y3 +--------------------------+\n     *\n     * @typedef {{x: Array<number>, y: Array<number>}} cropzoneCoordinates\n     * @ignore\n     */\n\n    /**\n     * Fill outer rectangle\n     * @param {CanvasRenderingContext2D} ctx - Context\n     * @param {string|CanvasGradient|CanvasPattern} fillStyle - Fill-style\n     * @private\n     */\n    _fillOuterRect(ctx, fillStyle) {\n        const coordinates = this._getCoordinates(ctx),\n            x = coordinates.x,\n            y = coordinates.y;\n\n        ctx.save();\n        ctx.fillStyle = fillStyle;\n        ctx.beginPath();\n\n        // Outer rectangle\n        // Numbers are +/-1 so that overlay edges don't get blurry.\n        ctx.moveTo(x[0] - 1, y[0] - 1);\n        ctx.lineTo(x[3] + 1, y[0] - 1);\n        ctx.lineTo(x[3] + 1, y[3] + 1);\n        ctx.lineTo(x[0] - 1, y[3] - 1);\n        ctx.lineTo(x[0] - 1, y[0] - 1);\n        ctx.closePath();\n\n        // Inner rectangle\n        ctx.moveTo(x[1], y[1]);\n        ctx.lineTo(x[1], y[2]);\n        ctx.lineTo(x[2], y[2]);\n        ctx.lineTo(x[2], y[1]);\n        ctx.lineTo(x[1], y[1]);\n        ctx.closePath();\n\n        ctx.fill();\n        ctx.restore();\n    },\n\n    /**\n     * Get coordinates\n     * @param {CanvasRenderingContext2D} ctx - Context\n     * @returns {cropzoneCoordinates} - {@link cropzoneCoordinates}\n     * @private\n     */\n    _getCoordinates(ctx) {\n        const ceil = Math.ceil,\n            width = this.getWidth(),\n            height = this.getHeight(),\n            halfWidth = width / 2,\n            halfHeight = height / 2,\n            left = this.getLeft(),\n            top = this.getTop(),\n            canvasEl = ctx.canvas; // canvas element, not fabric object\n\n        return {\n            x: util.map(\n                [\n                    -(halfWidth + left), // x0\n                    -halfWidth, // x1\n                    halfWidth, // x2\n                    halfWidth + (canvasEl.width - left - width) // x3\n                ],\n                ceil\n            ),\n            y: util.map(\n                [\n                    -(halfHeight + top), // y0\n                    -halfHeight, // y1\n                    halfHeight, // y2\n                    halfHeight + (canvasEl.height - top - height) // y3\n                ],\n                ceil\n            )\n        };\n    },\n\n    /**\n     * Stroke border\n     * @param {CanvasRenderingContext2D} ctx - Context\n     * @param {string|CanvasGradient|CanvasPattern} strokeStyle - Stroke-style\n     * @param {number} lineDashWidth - Dash width\n     * @param {number} [lineDashOffset] - Dash offset\n     * @private\n     */\n    _strokeBorder(ctx, strokeStyle, lineDashWidth, lineDashOffset) {\n        const halfWidth = this.getWidth() / 2,\n            halfHeight = this.getHeight() / 2;\n\n        ctx.save();\n        ctx.strokeStyle = strokeStyle;\n        if (ctx.setLineDash) {\n            ctx.setLineDash([lineDashWidth, lineDashWidth]);\n        }\n        if (lineDashOffset) {\n            ctx.lineDashOffset = lineDashOffset;\n        }\n\n        ctx.beginPath();\n        ctx.moveTo(-halfWidth, -halfHeight);\n        ctx.lineTo(halfWidth, -halfHeight);\n        ctx.lineTo(halfWidth, halfHeight);\n        ctx.lineTo(-halfWidth, halfHeight);\n        ctx.lineTo(-halfWidth, -halfHeight);\n        ctx.stroke();\n\n        ctx.restore();\n    },\n\n    /**\n     * onMoving event listener\n     * @private\n     */\n    _onMoving() {\n        const canvas = this.canvas,\n            left = this.getLeft(),\n            top = this.getTop(),\n            width = this.getWidth(),\n            height = this.getHeight(),\n            maxLeft = canvas.getWidth() - width,\n            maxTop = canvas.getHeight() - height;\n\n        this.setLeft(clamp(left, 0, maxLeft));\n        this.setTop(clamp(top, 0, maxTop));\n    },\n\n    /**\n     * onScaling event listener\n     * @param {{e: MouseEvent}} fEvent - Fabric event\n     * @private\n     */\n    _onScaling(fEvent) {\n        const pointer = this.canvas.getPointer(fEvent.e),\n            settings = this._calcScalingSizeFromPointer(pointer);\n\n        // On scaling cropzone,\n        // change real width and height and fix scaleFactor to 1\n        this.scale(1).set(settings);\n    },\n\n    /**\n     * Calc scaled size from mouse pointer with selected corner\n     * @param {{x: number, y: number}} pointer - Mouse position\n     * @returns {object} Having left or(and) top or(and) width or(and) height.\n     * @private\n     */\n    _calcScalingSizeFromPointer(pointer) {\n        const pointerX = pointer.x,\n            pointerY = pointer.y,\n            tlScalingSize = this._calcTopLeftScalingSizeFromPointer(pointerX, pointerY),\n            brScalingSize = this._calcBottomRightScalingSizeFromPointer(pointerX, pointerY);\n\n        /*\n         * @todo: \u6309\u901a\u7528\u5bf9\u8c61\u4ece\u5c0f\u5230\u5927\u7ec4\u5408\u952eShift\u7f29\u653e - >\u68c0\u67e5bolgeot\n         *      canvas.class.js // _scaleObject: function(...){...}\n         */\n        return this._makeScalingSettings(tlScalingSize, brScalingSize);\n    },\n\n    /**\n     * Calc scaling size(position + dimension) from left-top corner\n     * @param {number} x - Mouse position X\n     * @param {number} y - Mouse position Y\n     * @returns {{top: number, left: number, width: number, height: number}}\n     * @private\n     */\n    _calcTopLeftScalingSizeFromPointer(x, y) {\n        const bottom = this.getHeight() + this.top,\n            right = this.getWidth() + this.left,\n            top = clamp(y, 0, bottom - 1), // 0 <= top <= (bottom - 1)\n            left = clamp(x, 0, right - 1); // 0 <= left <= (right - 1)\n\n        // When scaling \"Top-Left corner\": It fixes right and bottom coordinates\n        return {\n            top,\n            left,\n            width: right - left,\n            height: bottom - top\n        };\n    },\n\n    /**\n     * Calc scaling size from right-bottom corner\n     * @param {number} x - Mouse position X\n     * @param {number} y - Mouse position Y\n     * @returns {{width: number, height: number}}\n     * @private\n     */\n    _calcBottomRightScalingSizeFromPointer(x, y) {\n        const canvas = this.canvas,\n            maxX = canvas.width,\n            maxY = canvas.height,\n            left = this.left,\n            top = this.top;\n\n        // When scaling \"Bottom-Right corner\": It fixes left and top coordinates\n        return {\n            width: clamp(x, left + 1, maxX) - left, // (width = x - left), (left + 1 <= x <= maxX)\n            height: clamp(y, top + 1, maxY) - top // (height = y - top), (top + 1 <= y <= maxY)\n        };\n    },\n\n    /* eslint-disable complexity */\n    /**\n     * Make scaling settings\n     * @param {{width: number, height: number, left: number, top: number}} tl - Top-Left setting\n     * @param {{width: number, height: number}} br - Bottom-Right setting\n     * @returns {{width: ?number, height: ?number, left: ?number, top: ?number}} Position setting\n     * @private\n     */\n    _makeScalingSettings(tl, br) {\n        const tlWidth = tl.width;\n        const tlHeight = tl.height;\n        const brHeight = br.height;\n        const brWidth = br.width;\n        const tlLeft = tl.left;\n        const tlTop = tl.top;\n        let settings;\n\n        switch (this.__corner) {\n            case CORNER_TYPE_TOP_LEFT:\n                settings = tl;\n                break;\n            case CORNER_TYPE_TOP_RIGHT:\n                settings = {\n                    width: brWidth,\n                    height: tlHeight,\n                    top: tlTop\n                };\n                break;\n            case CORNER_TYPE_BOTTOM_LEFT:\n                settings = {\n                    width: tlWidth,\n                    height: brHeight,\n                    left: tlLeft\n                };\n                break;\n            case CORNER_TYPE_BOTTOM_RIGHT:\n                settings = br;\n                break;\n            case CORNER_TYPE_MIDDLE_LEFT:\n                settings = {\n                    width: tlWidth,\n                    left: tlLeft\n                };\n                break;\n            case CORNER_TYPE_MIDDLE_TOP:\n                settings = {\n                    height: tlHeight,\n                    top: tlTop\n                };\n                break;\n            case CORNER_TYPE_MIDDLE_RIGHT:\n                settings = {\n                    width: brWidth\n                };\n                break;\n            case CORNER_TYPE_MIDDLE_BOTTOM:\n                settings = {\n                    height: brHeight\n                };\n                break;\n            default:\n                break;\n        }\n\n        return settings;\n    } /* eslint-enable complexity */,\n\n    /**\n     * Return the whether this cropzone is valid\n     * @returns {boolean}\n     */\n    isValid() {\n        return this.left >= 0 && this.top >= 0 && this.width > 0 && this.height > 0;\n    }\n});\nexport default Cropzone;\n"},"modules/mosaic.js":{import:"./modules/mosaic",content:"import Base from './base.js';\nimport consts from '../consts';\nimport MosaicShape from '../shape/mosaic.js';\n\nexport default class Mosaic extends Base {\n    constructor(parent) {\n        super();\n        this.setParent(parent);\n\n        this.name = consts.moduleNames.MOSAIC;\n\n        this._dimensions = 8;\n\n        this._listeners = {\n            mousedown: this._onFabricMouseDown.bind(this),\n            mousemove: this._onFabricMouseMove.bind(this),\n            mouseup: this._onFabricMouseUp.bind(this)\n        };\n    }\n\n    /**\n     * @param {{dimensions: ?number}} [setting] - Mosaic width\n     */\n    start(setting) {\n        const canvas = this.getCanvas();\n\n        canvas.defaultCursor = 'crosshair';\n        canvas.selection = false;\n\n        setting = setting || {};\n        this._dimensions = parseInt(setting.dimensions, 10) || this._dimensions;\n\n        canvas.forEachObject((obj) => {\n            obj.set({\n                evented: false\n            });\n        });\n\n        canvas.on({\n            'mouse:down': this._listeners.mousedown\n        });\n    }\n\n    end() {\n        const canvas = this.getCanvas();\n\n        canvas.defaultCursor = 'default';\n        canvas.selection = false;\n\n        canvas.forEachObject((obj) => {\n            obj.set({\n                evented: true\n            });\n        });\n        canvas.off('mouse:down', this._listeners.mousedown);\n    }\n\n    _onFabricMouseDown() {\n        const canvas = this.getCanvas();\n        let lowerCanvas = canvas.getElement();\n        let mosaicLayer = (this.mosaicLayer = lowerCanvas.cloneNode(true));\n        mosaicLayer.classList.remove('lower-canvas');\n        mosaicLayer.classList.add('mosaic-canvas');\n        this.mosaicArr = [];\n        lowerCanvas.insertAdjacentElement('afterend', mosaicLayer);\n        canvas.on({\n            'mouse:move': this._listeners.mousemove,\n            'mouse:up': this._listeners.mouseup\n        });\n    }\n\n    _onFabricMouseMove(fEvent) {\n        let ratio = this.getCanvasRatio();\n        ratio = Math.ceil(ratio);\n        let dimensions = this._dimensions * ratio;\n        const canvas = this.getCanvas();\n        const pointer = canvas.getPointer(fEvent.e);\n        let imageData = canvas.contextContainer.getImageData(\n            parseInt(pointer.x, 10),\n            parseInt(pointer.y, 10),\n            dimensions,\n            dimensions\n        );\n        // let imageData = canvas.getContext().getImageData(parseInt(pointer.x), parseInt(pointer.y), this._dimensions, this._dimensions);\n        let rgba = [0, 0, 0, 0];\n        let length = imageData.data.length / 4;\n        for (let i = 0; i < length; i++) {\n            rgba[0] += imageData.data[i * 4];\n            rgba[1] += imageData.data[i * 4 + 1];\n            rgba[2] += imageData.data[i * 4 + 2];\n            rgba[3] += imageData.data[i * 4 + 3];\n        }\n        let mosaicRect = {\n            left: pointer.x,\n            top: pointer.y,\n            fill: `rgb(${Number.parseInt(rgba[0] / length, 10)},${Number.parseInt(\n                rgba[1] / length,\n                10\n            )},${Number.parseInt(rgba[2] / length, 10)})`,\n            dimensions\n        };\n        this.mosaicArr.push(mosaicRect);\n        let ctx = this.mosaicLayer.getContext('2d');\n        ctx.fillStyle = mosaicRect.fill;\n        ctx.fillRect(mosaicRect.left, mosaicRect.top, mosaicRect.dimensions, mosaicRect.dimensions);\n    }\n\n    _onFabricMouseUp() {\n        const canvas = this.getCanvas();\n        if (this.mosaicArr && this.mosaicArr.length > 0) {\n            let __mosaicShape = new MosaicShape({\n                mosaicRects: this.mosaicArr,\n                selectable: false,\n                left: 0,\n                top: 0,\n                originX: 'center',\n                originY: 'center'\n            });\n            canvas.add(__mosaicShape);\n            canvas.renderAll();\n        }\n        if (this.mosaicLayer) {\n            this.mosaicLayer.parentNode.removeChild(this.mosaicLayer);\n        }\n        this.mosaicArr = [];\n        canvas.off({\n            'mouse:move': this._listeners.mousemove,\n            'mouse:up': this._listeners.mouseup\n        });\n    }\n\n    /**\n     * Get ratio value of canvas\n     * @returns {number} Ratio value\n     */\n    getCanvasRatio() {\n        const canvasElement = this.getCanvasElement();\n        const cssWidth = parseInt(canvasElement.style.width, 10);\n        const originWidth = canvasElement.width;\n        const ratio = originWidth / cssWidth;\n        return ratio;\n    }\n}\n"},"shape/mosaic.js":{import:"../shape/mosaic.js",content:"import { fabric } from 'fabric';\n// var cacheProperties = fabric.Object.prototype.cacheProperties.concat();\n// cacheProperties.push('_mosaicRects');\nconst Mosaic = fabric.util.createClass(fabric.Object, {\n    type: 'mosaic',\n    // statefullCache:true,\n    // cacheProperties:cacheProperties,\n    // objectCaching: true,\n    objectCaching: false,\n\n    initialize: function(options) {\n        options || (options = {});\n\n        this._minPoint = { left: 0, top: 0 };\n\n        this._maxPoint = { left: 0, top: 0 };\n\n        this._mosaicRects = [];\n\n        this.callSuper('initialize', options);\n\n        this.addMosicRectWithUpdate(options.mosaicRects || []);\n    },\n\n    toObject: function() {\n        return fabric.util.object.extend(this.callSuper('toObject'), {\n            _mosaicRects: this.get('_mosaicRects')\n        });\n    },\n\n    _render: function(ctx) {\n        this._mosaicRects.forEach((item, i) => {\n            ctx.fillStyle = item.fill;\n            ctx.fillRect(item.left, item.top, item.dimensions, item.dimensions);\n        });\n    },\n\n    addMosaicRect: function(objects) {\n        objects.forEach((object) => {\n            if (object.left < this._minPoint.left || object.top < this._minPoint.top) {\n                this._minPoint = {\n                    left: object.left,\n                    top: object.top\n                };\n            }\n            if (object.left > this._maxPoint.left || object.top > this._maxPoint.top) {\n                this._maxPoint = {\n                    left: object.left,\n                    top: object.top\n                };\n            }\n            this._mosaicRects.push({\n                left: object.left,\n                top: object.top,\n                dimensions: object.dimensions,\n                fill: object.fill\n            });\n        });\n    },\n\n    addMosicRectWithUpdate: function(objects) {\n        this.addMosaicRect(objects);\n        this.set({\n            width: this._maxPoint.left - this._minPoint.left,\n            height: this._maxPoint.top - this._minPoint.top,\n            left: this._minPoint.left,\n            top: this._minPoint.top,\n            selectable: false\n        });\n    }\n});\nexport default Mosaic;\n"},"modules/pan.js":{import:"./modules/pan",content:"import Base from './base';\nimport consts from '../consts';\n\nexport default class Pan extends Base {\n    constructor(parent) {\n        super();\n        this.setParent(parent);\n        this.name = consts.moduleNames.PAN;\n        this._listeners = {\n            mousedown: this._onFabricMouseDown.bind(this),\n            mousemove: this._onFabricMouseMove.bind(this),\n            mouseup: this._onFabricMouseUp.bind(this)\n        };\n    }\n\n    start() {\n        const canvas = this.getCanvas();\n\n        canvas.defaultCursor = 'move';\n        canvas.selection = false;\n\n        canvas.forEachObject((obj) => {\n            obj.set({\n                evented: false\n            });\n        });\n\n        canvas.on({\n            'mouse:down': this._listeners.mousedown\n        });\n    }\n\n    end() {\n        const canvas = this.getCanvas();\n\n        canvas.defaultCursor = 'default';\n        canvas.selection = false;\n\n        canvas.forEachObject((obj) => {\n            obj.set({\n                evented: true\n            });\n        });\n\n        canvas.off('mouse:down', this._listeners.mousedown);\n    }\n\n    /**\n     * Mousedown event handler in fabric canvas\n     * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event object\n     * @private\n     */\n    _onFabricMouseDown(fEvent) {\n        const canvas = this.getCanvas();\n        this.pointer = canvas.getPointer(fEvent.e);\n        this.$lower = canvas.lowerCanvasEl;\n        this.$upper = canvas.upperCanvasEl;\n        this.$wrapper = canvas.wrapperEl;\n        this.deltaX = parseInt(window.getComputedStyle(this.$lower).left, 10);\n        this.deltaY = parseInt(window.getComputedStyle(this.$lower).top, 10);\n        this.deltaWidth =\n            this.$upper.getBoundingClientRect().width - this.$wrapper.getBoundingClientRect().width;\n        this.deltaHeight =\n            this.$upper.getBoundingClientRect().height -\n            this.$wrapper.getBoundingClientRect().height;\n        canvas.on({\n            'mouse:move': this._listeners.mousemove,\n            'mouse:up': this._listeners.mouseup\n        });\n    }\n\n    /**\n     * Mousemove event handler in fabric canvas\n     * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event object\n     * @private\n     */\n    _onFabricMouseMove(fEvent) {\n        // go out of use because of transform opver\n        // var delta = new fabric.Point(fEvent.e.movementX, fEvent.e.movementY);\n        // canvas.relativePan(delta);\n\n        //safari9 not work for movement event\n        // let deltaX = this.deltaX + fEvent.e.movementX;\n        // let deltaY = this.deltaY + fEvent.e.movementY;\n        const canvas = this.getCanvas();\n        const movePointer = canvas.getPointer(fEvent.e);\n\n        let deltaX = this.deltaX + movePointer.x - this.pointer.x;\n        let deltaY = this.deltaY + movePointer.y - this.pointer.y;\n\n        if (this.deltaWidth > Math.abs(deltaX) && deltaX < 0) {\n            this.$lower.style.left = deltaX;\n            this.$upper.style.left = deltaX;\n            this.deltaX = deltaX;\n        }\n        if (this.deltaHeight > Math.abs(deltaY) && deltaY < 0) {\n            this.$lower.style.top = deltaY;\n            this.$upper.style.top = deltaY;\n            this.deltaY = deltaY;\n        }\n    }\n\n    /**\n     * Mouseup event handler in fabric canvas\n     * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event object\n     * @private\n     */\n    _onFabricMouseUp() {\n        const canvas = this.getCanvas();\n        this.pointer = null;\n        this.$lower = null;\n        this.$upper = null;\n        canvas.off({\n            'mouse:move': this._listeners.mousemove,\n            'mouse:up': this._listeners.mouseup\n        });\n    }\n}\n"},"command.js":{import:"./command",content:"import consts from './consts';\n\nimport addObject from './commands/add-object';\nimport remove from './commands/remove';\nimport clear from './commands/clear';\nimport loadImage from './commands/load-image.js';\nimport zoom from './commands/zoom.js';\nimport rotationImage from './commands/rotation-image.js';\n\nconst { commandNames } = consts;\nconst creators = {};\n\ncreators[commandNames.CLEAR_OBJECTS] = clear;\ncreators[commandNames.ADD_OBJECT] = addObject;\ncreators[commandNames.REMOVE_OBJECT] = remove;\ncreators[commandNames.LOAD_IMAGE] = loadImage;\ncreators[commandNames.ZOOM] = zoom;\ncreators[commandNames.ROTATE_IMAGE] = rotationImage;\n\nfunction create(name, ...args) {\n    return creators[name].apply(null, args);\n}\n\nexport default {\n    create\n};\n"},"commands/add-object.js":{import:"./commands/add-object",content:"import util from '../lib/util';\nimport Command from './base';\nimport consts from '../consts';\n\nconst { moduleNames } = consts;\nconst { MAIN } = moduleNames;\nexport default function(object) {\n    util.stamp(object);\n\n    return new Command({\n        /**\n         * @param {object.<string, Component>} moduleMap - Modules injection\n         * @returns {Promise}\n         * @ignore\n         */\n        execute(moduleMap) {\n            return new Promise((resolve, reject) => {\n                const canvas = moduleMap[MAIN].getCanvas();\n\n                if (!canvas.contains(object)) {\n                    canvas.add(object);\n                    resolve(object);\n                } else {\n                    reject();\n                }\n            });\n        },\n        /**\n         * @param {object.<string, Component>} moduleMap - Modules injection\n         * @returns {Promise}\n         * @ignore\n         */\n        undo(moduleMap) {\n            return new Promise((resolve, reject) => {\n                const canvas = moduleMap[MAIN].getCanvas();\n\n                if (canvas.contains(object)) {\n                    canvas.remove(object);\n                    resolve(object);\n                } else {\n                    reject();\n                }\n            });\n        }\n    });\n}\n"},"commands/remove.js":{import:"./commands/remove",content:"import Command from './base';\nimport consts from '../consts';\n\nconst { moduleNames } = consts;\nconst { MAIN } = moduleNames;\nexport default function(target) {\n    return new Command({\n        /**\n         * @param {object.<string, Component>} moduleMap - Modules injection\n         * @returns {Promise}\n         * @ignore\n         */\n        execute(moduleMap) {\n            return new Promise((resolve, reject) => {\n                const canvas = moduleMap[MAIN].getCanvas();\n                const isValidGroup = target && target.isType('group') && !target.isEmpty();\n\n                if (isValidGroup) {\n                    canvas.discardActiveGroup(); // restore states for each objects\n                    this.store = target.getObjects();\n                    target.forEachObject((obj) => {\n                        obj.remove();\n                    });\n                    resolve();\n                } else if (canvas.contains(target)) {\n                    this.store = [target];\n                    target.remove();\n                    resolve();\n                } else {\n                    reject();\n                }\n            });\n        },\n        /**\n         * @param {object.<string, Component>} moduleMap - Modules injection\n         * @returns {Promise}\n         * @ignore\n         */\n        undo(moduleMap) {\n            const canvas = moduleMap[MAIN].getCanvas();\n            const canvasContext = canvas;\n\n            canvas.add.apply(canvasContext, this.store);\n\n            return Promise.resolve();\n        }\n    });\n}\n"},"commands/clear.js":{import:"./commands/clear",content:"import Command from './base';\nimport consts from '../consts';\n\nconst { moduleNames } = consts;\nconst { MAIN } = moduleNames;\nexport default function() {\n    return new Command({\n        /**\n         * @param {object.<string, Component>} moduleMap - Components injection\n         * @returns {Promise}\n         * @ignore\n         */\n        execute(moduleMap) {\n            return new Promise((resolve, reject) => {\n                const canvas = moduleMap[MAIN].getCanvas();\n                const objs = canvas.getObjects();\n\n                // Slice: \"canvas.clear()\" clears the objects array, So shallow copy the array\n                this.store = objs.slice();\n                objs.slice().forEach((obj) => {\n                    if (obj.get('type') === 'group') {\n                        canvas.remove(obj);\n                    } else {\n                        obj.remove();\n                    }\n                });\n                resolve();\n            });\n        },\n        /**\n         * @param {object.<string, Component>} moduleMap - Components injection\n         * @returns {Promise}\n         * @ignore\n         */\n        undo(moduleMap) {\n            const canvas = moduleMap[MAIN].getCanvas();\n            const canvasContext = canvas;\n\n            canvas.add.apply(canvasContext, this.store);\n\n            return Promise.resolve();\n        }\n    });\n}\n"},"commands/load-image.js":{import:"./commands/load-image.js",content:"import Command from './base';\nimport consts from '../consts';\n\nconst { moduleNames } = consts;\nconst { IMAGE_LOADER } = moduleNames;\nexport default function(imageName, img) {\n    return new Command({\n        execute(moduleMap) {\n            const loader = moduleMap[IMAGE_LOADER];\n            const canvas = loader.getCanvas();\n\n            this.store = {\n                prevName: loader.getImageName(),\n                prevImage: loader.getCanvasImage(),\n                //\"canvas.clear()\" \u4f1a\u6e05\u9664\u6570\u636e,\u6240\u4ee5\u7528 slice\u8fdb\u884c\u4e00\u4e0b \u6df1\u62f7\u8d1d\n                objects: canvas.getObjects().slice()\n            };\n\n            canvas.clear();\n\n            return loader.load(imageName, img);\n        },\n        undo(moduleMap) {\n            const loader = moduleMap[IMAGE_LOADER];\n            const canvas = loader.getCanvas();\n            const canvasContext = canvas;\n\n            canvas.clear();\n            canvas.add.apply(canvasContext, this.store.objects);\n\n            return loader.load(this.store.prevName, this.store.prevImage);\n        }\n    });\n}\n"},"commands/zoom.js":{import:"./commands/zoom.js",content:"import Command from './base';\nimport consts from '../consts';\n\nconst { moduleNames } = consts;\nconst { MAIN } = moduleNames;\nexport default function(zoom) {\n    return new Command({\n        /**\n         * @param {object.<string, Component>} moduleMap - Modules injection\n         * @returns {Promise}\n         * @ignore\n         */\n        execute(moduleMap) {\n            const mainModule = moduleMap[MAIN];\n            // const canvas = mainModule.getCanvas();\n            // this.zoom = (canvas.viewportTransform[0] || 1);\n            // let zoom = rate * (canvas.viewportTransform[0] || 1);\n            //\u76f4\u63a5\u8fd9\u4e48\u8bbe\u7f6e\u662f\u4e0d\u884c\u7684\uff0c\u56e0\u4e3a \u8fd9\u4e2a\u672c\u8d28\u4e0a\u662f\u5728\u8bbe\u7f6e transform \u4f1a\u5bfc\u81f4\u5750\u6807\u7cfb\u4e71\u5957\n            // this.zoom = canvas.getZoom();\n            // canvas.setZoom(zoom);\n            //\u4f7f\u7528\u65b0\u7684\u65b9\u6cd5\u901a\u8fc7\u653e\u5927canvas\u672c\u8eab\u7684\u65b9\u5f0f\u8fdb\u884c\u8bbe\u7f6e\n            this.zoom = mainModule.getZoom(); //mainModule.getZoom();\n            mainModule.setZoom(zoom);\n            return Promise.resolve(zoom);\n        },\n        /**\n         * @param {object.<string, Component>} moduleMap - Modules injection\n         * @returns {Promise}\n         * @ignore\n         */\n        undo(moduleMap) {\n            // const canvas = moduleMap[MAIN].getCanvas();\n            // const canvasContext = canvas;\n            // canvas.setZoom.call(canvasContext, this.zoom);\n            const mainModule = moduleMap[MAIN];\n            mainModule.setZoom(this.zoom);\n            return Promise.resolve(this.zoom);\n        }\n    });\n}\n"},"commands/rotation-image.js":{import:"./commands/rotation-image.js",content:"import Command from './base';\nimport consts from '../consts';\n\nconst { moduleNames } = consts;\nexport default function(type, angle) {\n    return new Command({\n        execute(moduleMap) {\n            const rotationComp = moduleMap[moduleNames.ROTATION];\n            this.store = rotationComp.getCurrentAngle();\n            return rotationComp[type](angle);\n        },\n        undo(moduleMap) {\n            const rotationComp = moduleMap[moduleNames.ROTATION];\n            return rotationComp.setAngle(this.store);\n        }\n    });\n}\n"}},dependencies:{react:{version:"16.14.0"},classnames:{version:"2.2.6"},fabric:{version:"1.7.3"}},identifier:"docs-demo"}}}},Rw1i:function(t,e,n){"use strict";var r=n("MMxC"),i=n("Zcjx"),o=n("b6st"),a=n("MVys"),s=n("29mP"),c=n("/dTS"),l=n("U8/t"),u=n("NMFW"),h=!!o&&a((function(){o.prototype["finally"].call({then:function(){}},(function(){}))}));r({target:"Promise",proto:!0,real:!0,forced:h},{finally:function(t){var e=c(this,s("Promise")),n="function"==typeof t;return this.then(n?function(n){return l(e,t()).then((function(){return n}))}:t,n?function(n){return l(e,t()).then((function(){throw n}))}:t)}}),i||"function"!=typeof o||o.prototype["finally"]||u(o.prototype,"finally",s("Promise").prototype["finally"])},S5nV:function(t,e,n){var r=n("MMxC");r({target:"Math",stat:!0},{RAD_PER_DEG:180/Math.PI})},SGZ1:function(t,e,n){var r=n("I65O");r("search")},Sf9Y:function(t,e,n){"use strict";var r=n("MMxC"),i=n("m0kY"),o=n("Ze4s"),a="Invalid number representation",s="Invalid radix",c=/^[\da-z]+$/;r({target:"Number",stat:!0},{fromString:function(t,e){var n,r,l=1;if("string"!=typeof t)throw TypeError(a);if(!t.length)throw SyntaxError(a);if("-"==t.charAt(0)&&(l=-1,t=t.slice(1),!t.length))throw SyntaxError(a);if(n=void 0===e?10:i(e),n<2||n>36)throw RangeError(s);if(!c.test(t)||(r=o(t,n)).toString(n)!==t)throw SyntaxError(a);return l*r}})},Sn4z:function(t,e,n){var r=n("cTDu"),i=n("oa35"),o=n("9SZg"),a=n("bF+Q"),s=n("7BAe"),c=n("FVwB").aTypedArrayConstructor;t.exports=function(t){var e,n,l,u,h,f,d=r(t),p=arguments.length,g=p>1?arguments[1]:void 0,m=void 0!==g,v=o(d);if(void 0!=v&&!a(v)){h=v.call(d),f=h.next,d=[];while(!(u=f.call(h)).done)d.push(u.value)}for(m&&p>2&&(g=s(g,arguments[2],2)),n=i(d.length),l=new(c(this))(n),e=0;n>e;e++)l[e]=m?g(d[e],e):d[e];return l}},SprQ:function(t,e,n){var r=n("MVys");t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},Srjj:function(t,e,n){var r=n("jtLI"),i=n("0qr0"),o=n("/3zY").indexOf,a=n("6ixQ");t.exports=function(t,e){var n,s=i(t),c=0,l=[];for(n in s)!r(a,n)&&r(s,n)&&l.push(n);while(e.length>c)r(s,n=e[c++])&&(~o(l,n)||l.push(n));return l}},TIsu:function(t,e,n){},TMUv:function(t,e,n){var r=n("ukPv"),i=n("lz10");t.exports=function(t,e){try{i(r,t,e)}catch(n){r[t]=e}return e}},TOwV:function(t,e,n){"use strict";t.exports=n("qT12")},TSYQ:function(t,e,n){var r,i;(function(){"use strict";var n={}.hasOwnProperty;function o(){for(var t=[],e=0;e<arguments.length;e++){var r=arguments[e];if(r){var i=typeof r;if("string"===i||"number"===i)t.push(r);else if(Array.isArray(r)&&r.length){var a=o.apply(null,r);a&&t.push(a)}else if("object"===i)for(var s in r)n.call(r,s)&&r[s]&&t.push(s)}}return t.join(" ")}t.exports?(o["default"]=o,t.exports=o):(r=[],i=function(){return o}.apply(e,r),void 0===i||(t.exports=i))})()},Tfd0:function(t,e){t.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},TpIV:function(t,e,n){"use strict";t.exports=a;var r=n("FxWf"),i=Object.create(n("Onz0"));function o(t,e){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=e&&this.push(e),r(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function a(t){if(!(this instanceof a))return new a(t);r.call(this,t),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"===typeof t.transform&&(this._transform=t.transform),"function"===typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",s)}function s(){var t=this;"function"===typeof this._flush?this._flush((function(e,n){c(t,e,n)})):c(this,null,null)}function c(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}i.inherits=n("P7XM"),i.inherits(a,r),a.prototype.push=function(t,e){return this._transformState.needTransform=!1,r.prototype.push.call(this,t,e)},a.prototype._transform=function(t,e,n){throw new Error("_transform() is not implemented")},a.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},a.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},a.prototype._destroy=function(t,e){var n=this;r.prototype._destroy.call(this,t,(function(t){e(t),n.emit("close")}))}},TqRt:function(t,e){function n(t){return t&&t.__esModule?t:{default:t}}t.exports=n},Ty5D:function(t,e,n){"use strict";n.d(e,"a",(function(){return w})),n.d(e,"b",(function(){return x})),n.d(e,"c",(function(){return T})),n.d(e,"d",(function(){return R})),n.d(e,"e",(function(){return y})),n.d(e,"f",(function(){return W})),n.d(e,"g",(function(){return z})),n.d(e,"h",(function(){return b})),n.d(e,"i",(function(){return I})),n.d(e,"j",(function(){return G})),n.d(e,"k",(function(){return X})),n.d(e,"l",(function(){return V})),n.d(e,"m",(function(){return K})),n.d(e,"n",(function(){return H}));var r=n("dI71"),i=n("q1tI"),o=n.n(i),a=(n("17x9"),n("YS25")),s=n("tEiQ"),c=n("9R94"),l=n("wx14"),u=n("vRGJ"),h=n.n(u),f=(n("TOwV"),n("zLVn")),d=n("2mql"),p=n.n(d),g=function(t){var e=Object(s["a"])();return e.displayName=t,e},m=g("Router-History"),v=function(t){var e=Object(s["a"])();return e.displayName=t,e},b=v("Router"),y=function(t){function e(e){var n;return n=t.call(this,e)||this,n.state={location:e.history.location},n._isMounted=!1,n._pendingLocation=null,e.staticContext||(n.unlisten=e.history.listen((function(t){n._isMounted?n.setState({location:t}):n._pendingLocation=t}))),n}Object(r["a"])(e,t),e.computeRootMatch=function(t){return{path:"/",url:"/",params:{},isExact:"/"===t}};var n=e.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return o.a.createElement(b.Provider,{value:{history:this.props.history,location:this.state.location,match:e.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},o.a.createElement(m.Provider,{children:this.props.children||null,value:this.props.history}))},e}(o.a.Component);var w=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e=t.call.apply(t,[this].concat(r))||this,e.history=Object(a["d"])(e.props),e}Object(r["a"])(e,t);var n=e.prototype;return n.render=function(){return o.a.createElement(y,{history:this.history,children:this.props.children})},e}(o.a.Component);var _=function(t){function e(){return t.apply(this,arguments)||this}Object(r["a"])(e,t);var n=e.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(t){this.props.onUpdate&&this.props.onUpdate.call(this,this,t)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},e}(o.a.Component);function x(t){var e=t.message,n=t.when,r=void 0===n||n;return o.a.createElement(b.Consumer,null,(function(t){if(t||Object(c["a"])(!1),!r||t.staticContext)return null;var n=t.history.block;return o.a.createElement(_,{onMount:function(t){t.release=n(e)},onUpdate:function(t,r){r.message!==e&&(t.release(),t.release=n(e))},onUnmount:function(t){t.release()},message:e})}))}var S={},C=1e4,E=0;function O(t){if(S[t])return S[t];var e=h.a.compile(t);return E<C&&(S[t]=e,E++),e}function k(t,e){return void 0===t&&(t="/"),void 0===e&&(e={}),"/"===t?t:O(t)(e,{pretty:!0})}function T(t){var e=t.computedMatch,n=t.to,r=t.push,i=void 0!==r&&r;return o.a.createElement(b.Consumer,null,(function(t){t||Object(c["a"])(!1);var r=t.history,s=t.staticContext,u=i?r.push:r.replace,h=Object(a["c"])(e?"string"===typeof n?k(n,e.params):Object(l["a"])({},n,{pathname:k(n.pathname,e.params)}):n);return s?(u(h),null):o.a.createElement(_,{onMount:function(){u(h)},onUpdate:function(t,e){var n=Object(a["c"])(e.to);Object(a["f"])(n,Object(l["a"])({},h,{key:n.key}))||u(h)},to:n})}))}var j={},M=1e4,A=0;function P(t,e){var n=""+e.end+e.strict+e.sensitive,r=j[n]||(j[n]={});if(r[t])return r[t];var i=[],o=h()(t,i,e),a={regexp:o,keys:i};return A<M&&(r[t]=a,A++),a}function I(t,e){void 0===e&&(e={}),("string"===typeof e||Array.isArray(e))&&(e={path:e});var n=e,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,s=void 0!==a&&a,c=n.sensitive,l=void 0!==c&&c,u=[].concat(r);return u.reduce((function(e,n){if(!n&&""!==n)return null;if(e)return e;var r=P(n,{end:o,strict:s,sensitive:l}),i=r.regexp,a=r.keys,c=i.exec(t);if(!c)return null;var u=c[0],h=c.slice(1),f=t===u;return o&&!f?null:{path:n,url:"/"===n&&""===u?"/":u,isExact:f,params:a.reduce((function(t,e,n){return t[e.name]=h[n],t}),{})}}),null)}var R=function(t){function e(){return t.apply(this,arguments)||this}Object(r["a"])(e,t);var n=e.prototype;return n.render=function(){var t=this;return o.a.createElement(b.Consumer,null,(function(e){e||Object(c["a"])(!1);var n=t.props.location||e.location,r=t.props.computedMatch?t.props.computedMatch:t.props.path?I(n.pathname,t.props):e.match,i=Object(l["a"])({},e,{location:n,match:r}),a=t.props,s=a.children,u=a.component,h=a.render;return Array.isArray(s)&&0===s.length&&(s=null),o.a.createElement(b.Provider,{value:i},i.match?s?"function"===typeof s?s(i):s:u?o.a.createElement(u,i):h?h(i):null:"function"===typeof s?s(i):null)}))},e}(o.a.Component);function D(t){return"/"===t.charAt(0)?t:"/"+t}function L(t,e){return t?Object(l["a"])({},e,{pathname:D(t)+e.pathname}):e}function N(t,e){if(!t)return e;var n=D(t);return 0!==e.pathname.indexOf(n)?e:Object(l["a"])({},e,{pathname:e.pathname.substr(n.length)})}function F(t){return"string"===typeof t?t:Object(a["e"])(t)}function B(t){return function(){Object(c["a"])(!1)}}function U(){}var W=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e=t.call.apply(t,[this].concat(r))||this,e.handlePush=function(t){return e.navigateTo(t,"PUSH")},e.handleReplace=function(t){return e.navigateTo(t,"REPLACE")},e.handleListen=function(){return U},e.handleBlock=function(){return U},e}Object(r["a"])(e,t);var n=e.prototype;return n.navigateTo=function(t,e){var n=this.props,r=n.basename,i=void 0===r?"":r,o=n.context,s=void 0===o?{}:o;s.action=e,s.location=L(i,Object(a["c"])(t)),s.url=F(s.location)},n.render=function(){var t=this.props,e=t.basename,n=void 0===e?"":e,r=t.context,i=void 0===r?{}:r,s=t.location,c=void 0===s?"/":s,u=Object(f["a"])(t,["basename","context","location"]),h={createHref:function(t){return D(n+F(t))},action:"POP",location:N(n,Object(a["c"])(c)),push:this.handlePush,replace:this.handleReplace,go:B("go"),goBack:B("goBack"),goForward:B("goForward"),listen:this.handleListen,block:this.handleBlock};return o.a.createElement(y,Object(l["a"])({},u,{history:h,staticContext:i}))},e}(o.a.Component);var z=function(t){function e(){return t.apply(this,arguments)||this}Object(r["a"])(e,t);var n=e.prototype;return n.render=function(){var t=this;return o.a.createElement(b.Consumer,null,(function(e){e||Object(c["a"])(!1);var n,r,i=t.props.location||e.location;return o.a.Children.forEach(t.props.children,(function(t){if(null==r&&o.a.isValidElement(t)){n=t;var a=t.props.path||t.props.from;r=a?I(i.pathname,Object(l["a"])({},t.props,{path:a})):e.match}})),r?o.a.cloneElement(n,{location:i,computedMatch:r}):null}))},e}(o.a.Component);function H(t){var e="withRouter("+(t.displayName||t.name)+")",n=function(e){var n=e.wrappedComponentRef,r=Object(f["a"])(e,["wrappedComponentRef"]);return o.a.createElement(b.Consumer,null,(function(e){return e||Object(c["a"])(!1),o.a.createElement(t,Object(l["a"])({},r,e,{ref:n}))}))};return n.displayName=e,n.WrappedComponent=t,p()(n,t)}var Y=o.a.useContext;function G(){return Y(m)}function X(){return Y(b).location}function V(){var t=Y(b).match;return t?t.params:{}}function K(t){var e=X(),n=Y(b).match;return t?I(e.pathname,t):n}},Tz1E:function(t,e,n){var r=n("MMxC"),i=n("IVUx"),o=n("29mP"),a=n("u+7+"),s=function(){var t=o("Object","freeze");return t?t(a(null)):a(null)};r({global:!0},{compositeKey:function(){return i.apply(Object,arguments).get("object",s)}})},"U/TZ":function(t,e,n){"use strict";function r(){var t=o(n("q1tI"));return r=function(){return t},t}function i(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return i=function(){return t},t}function o(t){if(t&&t.__esModule)return t;if(null===t||"object"!==typeof t&&"function"!==typeof t)return{default:t};var e=i();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=r?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n["default"]=t,e&&e.set(t,n),n}function a(t,e){return h(t)||u(t,e)||c(t,e)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t,e){if(t){if("string"===typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function u(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0)if(n.push(a.value),e&&n.length===e)break}catch(err){i=!0,o=err}finally{try{r||null==s["return"]||s["return"]()}finally{if(i)throw o}}return n}}function h(t){if(Array.isArray(t))return t}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var f=function(t,e){var n=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r={};return Object.keys(e[1]).forEach((function(t){var n=(t.match(/^(.+)\.([^_]+)$/)||[]).slice(1),i=a(n,2),o=i[0],s=i[1];s&&s!==e[0]||(r[o||t]=e[1][t])})),r},i=(0,r().useState)(n(t,e)),o=a(i,2),s=o[0],c=o[1];return(0,r().useEffect)((function(){c(n(t,e))}),[t,e]),s};e["default"]=f},U6jy:function(t,e){t.exports=r;var n=Object.prototype.hasOwnProperty;function r(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var i in r)n.call(r,i)&&(t[i]=r[i])}return t}},"U8/t":function(t,e,n){var r=n("f1E4"),i=n("tSXo"),o=n("LUyE");t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t),a=n.resolve;return a(e),n.promise}},U8pU:function(t,e,n){"use strict";function r(t){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}n.d(e,"a",(function(){return r}))},U9fH:function(t,e,n){var r=n("MMxC"),i=n("IVUx"),o=n("29mP");r({global:!0},{compositeSymbol:function(){return 1===arguments.length&&"string"===typeof arguments[0]?o("Symbol")["for"](arguments[0]):i.apply(null,arguments).get("symbol",o("Symbol"))}})},UHn5:function(t,e,n){"use strict";var r,i=n("ukPv"),o=n("ujhg"),a=n("a5mf"),s=n("/gva"),c=n("uz3g"),l=n("tSXo"),u=n("1aI8").enforce,h=n("ZkJ9"),f=!i.ActiveXObject&&"ActiveXObject"in i,d=Object.isExtensible,p=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},g=t.exports=s("WeakMap",p,c);if(h&&f){r=c.getConstructor(p,"WeakMap",!0),a.REQUIRED=!0;var m=g.prototype,v=m["delete"],b=m.has,y=m.get,w=m.set;o(m,{delete:function(t){if(l(t)&&!d(t)){var e=u(this);return e.frozen||(e.frozen=new r),v.call(this,t)||e.frozen["delete"](t)}return v.call(this,t)},has:function(t){if(l(t)&&!d(t)){var e=u(this);return e.frozen||(e.frozen=new r),b.call(this,t)||e.frozen.has(t)}return b.call(this,t)},get:function(t){if(l(t)&&!d(t)){var e=u(this);return e.frozen||(e.frozen=new r),b.call(this,t)?y.call(this,t):e.frozen.get(t)}return y.call(this,t)},set:function(t,e){if(l(t)&&!d(t)){var n=u(this);n.frozen||(n.frozen=new r),b.call(this,t)?w.call(this,t,e):n.frozen.set(t,e)}else w.call(this,t,e);return this}})}},UIoa:function(t,e,n){var r=n("MMxC"),i=n("f1E4"),o=n("8Cw2"),a=n("uoF6"),s=n("1aI8"),c="Seeded Random",l=c+" Generator",u=s.set,h=s.getterFor(l),f='Math.seededPRNG() argument should have a "seed" field with a finite value.',d=a((function(t){u(this,{type:l,seed:t%2147483647})}),c,(function(){var t=h(this),e=t.seed=(1103515245*t.seed+12345)%2147483647;return{value:(1073741823&e)/1073741823,done:!1}}));r({target:"Math",stat:!0,forced:!0},{seededPRNG:function(t){var e=i(t).seed;if(!o(e))throw TypeError(f);return new d(e)}})},UPML:function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},URK0:function(t,e,n){var r=n("Mi8B");r("Uint32",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},UXQe:function(t,e,n){var r=n("MMxC"),i=n("ukPv");r({global:!0},{globalThis:i})},Uc1W:function(t,e,n){var r=n("Mi8B");r("Uint8",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},"Un+d":function(t,e,n){var r=n("UwrT");t.exports=Array.isArray||function(t){return"Array"==r(t)}},Uq4z:function(t,e,n){"use strict";var r=n("MMxC"),i=n("Zcjx"),o=n("f1E4"),a=n("cT1L"),s=n("jbR1"),c=n("IuhT");r({target:"Set",proto:!0,real:!0,forced:i},{reduce:function(t){var e=o(this),n=s(e),r=arguments.length<2,i=r?void 0:arguments[1];if(a(t),c(n,(function(n){r?(r=!1,i=n):i=t(i,n,n,e)}),void 0,!1,!0),r)throw TypeError("Reduce of empty set with no initial value");return i}})},UvYY:function(t,e,n){var r=n("MMxC"),i=n("ls1J"),o=n("f1E4"),a=n("Acmb"),s=i.has,c=i.toKey,l=function(t,e,n){var r=s(t,e,n);if(r)return!0;var i=a(e);return null!==i&&l(t,i,n)};r({target:"Reflect",stat:!0},{hasMetadata:function(t,e){var n=arguments.length<3?void 0:c(arguments[2]);return l(t,o(e),n)}})},UwrT:function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},"V/vL":function(t,e,n){"use strict";n.r(e),n.d(e,"matchRoutes",(function(){return s})),n.d(e,"renderRoutes",(function(){return c}));var r=n("Ty5D"),i=n("wx14"),o=n("q1tI"),a=n.n(o);function s(t,e,n){return void 0===n&&(n=[]),t.some((function(t){var i=t.path?Object(r["i"])(e,t):n.length?n[n.length-1].match:r["e"].computeRootMatch(e);return i&&(n.push({route:t,match:i}),t.routes&&s(t.routes,e,n)),i})),n}function c(t,e,n){return void 0===e&&(e={}),void 0===n&&(n={}),t?a.a.createElement(r["g"],n,t.map((function(t,n){return a.a.createElement(r["d"],{key:t.key||n,path:t.path,exact:t.exact,strict:t.strict,render:function(n){return t.render?t.render(Object(i["a"])({},n,{},e,{route:t})):a.a.createElement(t.component,Object(i["a"])({},n,e,{route:t}))}})}))):null}},V0Bj:function(t,e,n){var r=n("I65O");r("observable")},VQRL:function(t,e,n){var r=n("I65O");r("replace")},VSU6:function(t,e,n){"use strict";var r=n("cTDu"),i=n("bIKR"),o=n("oa35");t.exports=function(t){var e=r(this),n=o(e.length),a=arguments.length,s=i(a>1?arguments[1]:void 0,n),c=a>2?arguments[2]:void 0,l=void 0===c?n:i(c,n);while(l>s)e[s++]=t;return e}},VUky:function(t,e,n){var r=n("MMxC"),i=n("qA1w");r({target:"Map",stat:!0},{of:i})},VWci:function(t,e,n){var r=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(t,e,n,r){var i=e&&e.prototype instanceof g?e:g,o=Object.create(i.prototype),a=new T(r||[]);return o._invoke=C(t,n,a),o}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(err){return{type:"throw",arg:err}}}t.wrap=c;var u="suspendedStart",h="suspendedYield",f="executing",d="completed",p={};function g(){}function m(){}function v(){}var b={};b[o]=function(){return this};var y=Object.getPrototypeOf,w=y&&y(y(j([])));w&&w!==n&&r.call(w,o)&&(b=w);var _=v.prototype=g.prototype=Object.create(b);function x(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function S(t,e){function n(i,o,a,s){var c=l(t[i],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"===typeof h&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(h).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;function o(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}this._invoke=o}function C(t,e,n){var r=u;return function(i,o){if(r===f)throw new Error("Generator is already running");if(r===d){if("throw"===i)throw o;return M()}n.method=i,n.arg=o;while(1){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===u)throw r=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=f;var c=l(t,e,n);if("normal"===c.type){if(r=n.done?d:h,c.arg===p)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=d,n.method="throw",n.arg=c.arg)}}}function E(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator["return"]&&(n.method="return",n.arg=e,E(t,n),"throw"===n.method))return p;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var i=l(r,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,p;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,p):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function j(t){if(t){var n=t[o];if(n)return n.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){while(++i<t.length)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}return{next:M}}function M(){return{value:e,done:!0}}return m.prototype=_.constructor=v,v.constructor=m,v[s]=m.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(_),t},t.awrap=function(t){return{__await:t}},x(S.prototype),S.prototype[a]=function(){return this},t.AsyncIterator=S,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new S(c(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(_),_[s]="Generator",_[o]=function(){return this},_.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){while(e.length){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=j,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(k),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;k(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:j(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),p}},t}(t.exports);try{regeneratorRuntime=r}catch(i){Function("r","regeneratorRuntime = r")(r)}},VuYY:function(t,e,n){"use strict";var r=n("MMxC"),i=n("tny8"),o=n("ssJt"),a=n("cT1L"),s=n("f1E4"),c=n("tSXo"),l=n("igoe"),u=n("YfKC").f,h=n("lz10"),f=n("ujhg"),d=n("qcmB"),p=n("IuhT"),g=n("dnEI"),m=n("2kyd"),v=n("1aI8"),b=m("observable"),y=v.get,w=v.set,_=function(t){return null==t?void 0:a(t)},x=function(t){var e=t.cleanup;if(e){t.cleanup=void 0;try{e()}catch(n){g(n)}}},S=function(t){return void 0===t.observer},C=function(t,e){if(!i){t.closed=!0;var n=e.subscriptionObserver;n&&(n.closed=!0)}e.observer=void 0},E=function(t,e){var n,r=w(this,{cleanup:void 0,observer:s(t),subscriptionObserver:void 0});i||(this.closed=!1);try{(n=_(t.start))&&n.call(t,this)}catch(u){g(u)}if(!S(r)){var o=r.subscriptionObserver=new O(this);try{var c=e(o),l=c;null!=c&&(r.cleanup="function"===typeof c.unsubscribe?function(){l.unsubscribe()}:a(c))}catch(u){return void o.error(u)}S(r)&&x(r)}};E.prototype=f({},{unsubscribe:function(){var t=y(this);S(t)||(C(this,t),x(t))}}),i&&u(E.prototype,"closed",{configurable:!0,get:function(){return S(y(this))}});var O=function(t){w(this,{subscription:t}),i||(this.closed=!1)};O.prototype=f({},{next:function(t){var e=y(y(this).subscription);if(!S(e)){var n=e.observer;try{var r=_(n.next);r&&r.call(n,t)}catch(i){g(i)}}},error:function(t){var e=y(this).subscription,n=y(e);if(!S(n)){var r=n.observer;C(e,n);try{var i=_(r.error);i?i.call(r,t):g(t)}catch(err){g(err)}x(n)}},complete:function(){var t=y(this).subscription,e=y(t);if(!S(e)){var n=e.observer;C(t,e);try{var r=_(n.complete);r&&r.call(n)}catch(i){g(i)}x(e)}}}),i&&u(O.prototype,"closed",{configurable:!0,get:function(){return S(y(y(this).subscription))}});var k=function(t){l(this,k,"Observable"),w(this,{subscriber:a(t)})};f(k.prototype,{subscribe:function(t){var e=arguments.length;return new E("function"===typeof t?{next:t,error:e>1?arguments[1]:void 0,complete:e>2?arguments[2]:void 0}:c(t)?t:{},y(this).subscriber)}}),f(k,{from:function(t){var e="function"===typeof this?this:k,n=_(s(t)[b]);if(n){var r=s(n.call(t));return r.constructor===e?r:new e((function(t){return r.subscribe(t)}))}var i=d(t);return new e((function(t){p(i,(function(e){if(t.next(e),t.closed)return p.stop()}),void 0,!1,!0),t.complete()}))},of:function(){var t="function"===typeof this?this:k,e=arguments.length,n=new Array(e),r=0;while(r<e)n[r]=arguments[r++];return new t((function(t){for(var r=0;r<e;r++)if(t.next(n[r]),t.closed)return;t.complete()}))}}),h(k.prototype,b,(function(){return this})),r({global:!0},{Observable:k}),o("Observable")},VvX1:function(t,e,n){"use strict";var r=n("MMxC"),i=n("Zcjx"),o=n("29mP"),a=n("f1E4"),s=n("cT1L"),c=n("7BAe"),l=n("/dTS"),u=n("PPXv"),h=n("IuhT");r({target:"Map",proto:!0,real:!0,forced:i},{mapKeys:function(t){var e=a(this),n=u(e),r=c(t,arguments.length>1?arguments[1]:void 0,3),i=new(l(e,o("Map"))),f=s(i.set);return h(n,(function(t,n){f.call(i,r(n,t,e),n)}),void 0,!0,!0),i}})},W8Jt:function(t,e,n){"use strict";(function(e,r){var i=n("lm0R");function o(t){var e=this;this.next=null,this.entry=null,this.finish=function(){L(e,t)}}t.exports=y;var a,s=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?setImmediate:i.nextTick;y.WritableState=b;var c=Object.create(n("Onz0"));c.inherits=n("P7XM");var l={deprecate:n("t9FE")},u=n("Gtba"),h=n("hwdV").Buffer,f=r.Uint8Array||function(){};function d(t){return h.from(t)}function p(t){return h.isBuffer(t)||t instanceof f}var g,m=n("xp+Q");function v(){}function b(t,e){a=a||n("FxWf"),t=t||{};var r=e instanceof a;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var i=t.highWaterMark,s=t.writableHighWaterMark,c=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(s||0===s)?s:c,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var l=!1===t.decodeStrings;this.decodeStrings=!l,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){k(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function y(t){if(a=a||n("FxWf"),!g.call(y,this)&&!(this instanceof a))return new y(t);this._writableState=new b(t,this),this.writable=!0,t&&("function"===typeof t.write&&(this._write=t.write),"function"===typeof t.writev&&(this._writev=t.writev),"function"===typeof t.destroy&&(this._destroy=t.destroy),"function"===typeof t["final"]&&(this._final=t["final"])),u.call(this)}function w(t,e){var n=new Error("write after end");t.emit("error",n),i.nextTick(e,n)}function _(t,e,n,r){var o=!0,a=!1;return null===n?a=new TypeError("May not write null values to stream"):"string"===typeof n||void 0===n||e.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(t.emit("error",a),i.nextTick(r,a),o=!1),o}function x(t,e,n){return t.objectMode||!1===t.decodeStrings||"string"!==typeof e||(e=h.from(e,n)),e}function S(t,e,n,r,i,o){if(!n){var a=x(e,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=e.objectMode?1:r.length;e.length+=s;var c=e.length<e.highWaterMark;if(c||(e.needDrain=!0),e.writing||e.corked){var l=e.lastBufferedRequest;e.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},l?l.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else C(t,e,!1,s,r,i,o);return c}function C(t,e,n,r,i,o,a){e.writelen=r,e.writecb=a,e.writing=!0,e.sync=!0,n?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function E(t,e,n,r,o){--e.pendingcb,n?(i.nextTick(o,r),i.nextTick(R,t,e),t._writableState.errorEmitted=!0,t.emit("error",r)):(o(r),t._writableState.errorEmitted=!0,t.emit("error",r),R(t,e))}function O(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function k(t,e){var n=t._writableState,r=n.sync,i=n.writecb;if(O(n),e)E(t,n,r,e,i);else{var o=A(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||M(t,n),r?s(T,t,n,o,i):T(t,n,o,i)}}function T(t,e,n,r){n||j(t,e),e.pendingcb--,r(),R(t,e)}function j(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function M(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var r=e.bufferedRequestCount,i=new Array(r),a=e.corkedRequestsFree;a.entry=n;var s=0,c=!0;while(n)i[s]=n,n.isBuf||(c=!1),n=n.next,s+=1;i.allBuffers=c,C(t,e,!0,e.length,i,"",a.finish),e.pendingcb++,e.lastBufferedRequest=null,a.next?(e.corkedRequestsFree=a.next,a.next=null):e.corkedRequestsFree=new o(e),e.bufferedRequestCount=0}else{while(n){var l=n.chunk,u=n.encoding,h=n.callback,f=e.objectMode?1:l.length;if(C(t,e,!1,f,l,u,h),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function A(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function P(t,e){t._final((function(n){e.pendingcb--,n&&t.emit("error",n),e.prefinished=!0,t.emit("prefinish"),R(t,e)}))}function I(t,e){e.prefinished||e.finalCalled||("function"===typeof t._final?(e.pendingcb++,e.finalCalled=!0,i.nextTick(P,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function R(t,e){var n=A(e);return n&&(I(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),n}function D(t,e,n){e.ending=!0,R(t,e),n&&(e.finished?i.nextTick(n):t.once("finish",n)),e.ended=!0,t.writable=!1}function L(t,e,n){var r=t.entry;t.entry=null;while(r){var i=r.callback;e.pendingcb--,i(n),r=r.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}c.inherits(y,u),b.prototype.getBuffer=function(){var t=this.bufferedRequest,e=[];while(t)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(b.prototype,"buffer",{get:l.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]?(g=Function.prototype[Symbol.hasInstance],Object.defineProperty(y,Symbol.hasInstance,{value:function(t){return!!g.call(this,t)||this===y&&(t&&t._writableState instanceof b)}})):g=function(t){return t instanceof this},y.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},y.prototype.write=function(t,e,n){var r=this._writableState,i=!1,o=!r.objectMode&&p(t);return o&&!h.isBuffer(t)&&(t=d(t)),"function"===typeof e&&(n=e,e=null),o?e="buffer":e||(e=r.defaultEncoding),"function"!==typeof n&&(n=v),r.ended?w(this,n):(o||_(this,r,t,n))&&(r.pendingcb++,i=S(this,r,o,t,e,n)),i},y.prototype.cork=function(){var t=this._writableState;t.corked++},y.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||M(this,t))},y.prototype.setDefaultEncoding=function(t){if("string"===typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),y.prototype._write=function(t,e,n){n(new Error("_write() is not implemented"))},y.prototype._writev=null,y.prototype.end=function(t,e,n){var r=this._writableState;"function"===typeof t?(n=t,t=null,e=null):"function"===typeof e&&(n=e,e=null),null!==t&&void 0!==t&&this.write(t,e),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||D(this,r,n)},Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),y.prototype.destroy=m.destroy,y.prototype._undestroy=m.undestroy,y.prototype._destroy=function(t,e){this.end(),e(t)}}).call(this,n("Q2Ig"),n("yLpj"))},WJ3H:function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(e){return{error:!0,value:e}}}},WQuA:function(t,e,n){"use strict";var r=n("MMxC"),i=n("tny8"),o=n("i7kj"),a=n("cTDu"),s=n("gFfw"),c=n("Acmb"),l=n("g8rt").f;i&&r({target:"Object",proto:!0,forced:o},{__lookupSetter__:function(t){var e,n=a(this),r=s(t,!0);do{if(e=l(n,r))return e.set}while(n=c(n))}})},WWur:function(t,e,n){"use strict";var r=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.target,r=void 0===n?document.body:n,i=document.createElement("textarea"),o=document.activeElement;i.value=t,i.setAttribute("readonly",""),i.style.contain="strict",i.style.position="absolute",i.style.left="-9999px",i.style.fontSize="12pt";var a=document.getSelection(),s=!1;a.rangeCount>0&&(s=a.getRangeAt(0)),r.append(i),i.select(),i.selectionStart=0,i.selectionEnd=t.length;var c=!1;try{c=document.execCommand("copy")}catch(l){}return i.remove(),s&&(a.removeAllRanges(),a.addRange(s)),o&&o.focus(),c};t.exports=r,t.exports["default"]=r},WbBG:function(t,e,n){"use strict";var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";t.exports=r},WkPL:function(t,e){function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}t.exports=n},X5kU:function(t,e,n){"use strict";var r=n("tSXo"),i=n("YfKC"),o=n("Acmb"),a=n("2kyd"),s=a("hasInstance"),c=Function.prototype;s in c||i.f(c,s,{value:function(t){if("function"!=typeof this||!r(t))return!1;if(!r(this.prototype))return t instanceof this;while(t=o(t))if(this.prototype===t)return!0;return!1}})},X6vt:function(t,e,n){"use strict";var r=n("MMxC"),i=n("Un+d"),o=[].reverse,a=[1,2];r({target:"Array",proto:!0,forced:String(a)===String(a.reverse())},{reverse:function(){return i(this)&&(this.length=this.length),o.call(this)}})},XX5T:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},Xn8V:function(t,e,n){"use strict";var r=n("MMxC"),i=n("ukPv"),o=n("29mP"),a=n("Zcjx"),s=n("tny8"),c=n("Fs9M"),l=n("wgKq"),u=n("MVys"),h=n("jtLI"),f=n("Un+d"),d=n("tSXo"),p=n("f1E4"),g=n("cTDu"),m=n("0qr0"),v=n("gFfw"),b=n("HhvW"),y=n("u+7+"),w=n("P0e2"),_=n("uGHk"),x=n("IGnA"),S=n("kyO0"),C=n("g8rt"),E=n("YfKC"),O=n("e3V2"),k=n("lz10"),T=n("NMFW"),j=n("xxaU"),M=n("CjUg"),A=n("6ixQ"),P=n("evbn"),I=n("2kyd"),R=n("IjB0"),D=n("I65O"),L=n("kiNa"),N=n("1aI8"),F=n("zv1X").forEach,B=M("hidden"),U="Symbol",W="prototype",z=I("toPrimitive"),H=N.set,Y=N.getterFor(U),G=Object[W],X=i.Symbol,V=o("JSON","stringify"),K=C.f,$=E.f,q=x.f,Z=O.f,J=j("symbols"),Q=j("op-symbols"),tt=j("string-to-symbol-registry"),et=j("symbol-to-string-registry"),nt=j("wks"),rt=i.QObject,it=!rt||!rt[W]||!rt[W].findChild,ot=s&&u((function(){return 7!=y($({},"a",{get:function(){return $(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=K(G,e);r&&delete G[e],$(t,e,n),r&&t!==G&&$(G,e,r)}:$,at=function(t,e){var n=J[t]=y(X[W]);return H(n,{type:U,tag:t,description:e}),s||(n.description=e),n},st=l?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof X},ct=function(t,e,n){t===G&&ct(Q,e,n),p(t);var r=v(e,!0);return p(n),h(J,r)?(n.enumerable?(h(t,B)&&t[B][r]&&(t[B][r]=!1),n=y(n,{enumerable:b(0,!1)})):(h(t,B)||$(t,B,b(1,{})),t[B][r]=!0),ot(t,r,n)):$(t,r,n)},lt=function(t,e){p(t);var n=m(e),r=w(n).concat(pt(n));return F(r,(function(e){s&&!ht.call(n,e)||ct(t,e,n[e])})),t},ut=function(t,e){return void 0===e?y(t):lt(y(t),e)},ht=function(t){var e=v(t,!0),n=Z.call(this,e);return!(this===G&&h(J,e)&&!h(Q,e))&&(!(n||!h(this,e)||!h(J,e)||h(this,B)&&this[B][e])||n)},ft=function(t,e){var n=m(t),r=v(e,!0);if(n!==G||!h(J,r)||h(Q,r)){var i=K(n,r);return!i||!h(J,r)||h(n,B)&&n[B][r]||(i.enumerable=!0),i}},dt=function(t){var e=q(m(t)),n=[];return F(e,(function(t){h(J,t)||h(A,t)||n.push(t)})),n},pt=function(t){var e=t===G,n=q(e?Q:m(t)),r=[];return F(n,(function(t){!h(J,t)||e&&!h(G,t)||r.push(J[t])})),r};if(c||(X=function(){if(this instanceof X)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=P(t),n=function(t){this===G&&n.call(Q,t),h(this,B)&&h(this[B],e)&&(this[B][e]=!1),ot(this,e,b(1,t))};return s&&it&&ot(G,e,{configurable:!0,set:n}),at(e,t)},T(X[W],"toString",(function(){return Y(this).tag})),T(X,"withoutSetter",(function(t){return at(P(t),t)})),O.f=ht,E.f=ct,C.f=ft,_.f=x.f=dt,S.f=pt,R.f=function(t){return at(I(t),t)},s&&($(X[W],"description",{configurable:!0,get:function(){return Y(this).description}}),a||T(G,"propertyIsEnumerable",ht,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:X}),F(w(nt),(function(t){D(t)})),r({target:U,stat:!0,forced:!c},{for:function(t){var e=String(t);if(h(tt,e))return tt[e];var n=X(e);return tt[e]=n,et[n]=e,n},keyFor:function(t){if(!st(t))throw TypeError(t+" is not a symbol");if(h(et,t))return et[t]},useSetter:function(){it=!0},useSimple:function(){it=!1}}),r({target:"Object",stat:!0,forced:!c,sham:!s},{create:ut,defineProperty:ct,defineProperties:lt,getOwnPropertyDescriptor:ft}),r({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:dt,getOwnPropertySymbols:pt}),r({target:"Object",stat:!0,forced:u((function(){S.f(1)}))},{getOwnPropertySymbols:function(t){return S.f(g(t))}}),V){var gt=!c||u((function(){var t=X();return"[null]"!=V([t])||"{}"!=V({a:t})||"{}"!=V(Object(t))}));r({target:"JSON",stat:!0,forced:gt},{stringify:function(t,e,n){var r,i=[t],o=1;while(arguments.length>o)i.push(arguments[o++]);if(r=e,(d(e)||void 0!==t)&&!st(t))return f(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!st(e))return e}),i[1]=e,V.apply(null,i)}})}X[W][z]||k(X[W],z,X[W].valueOf),L(X,U),A[B]=!0},"Xxk+":function(t,e,n){var r=n("MMxC"),i=n("aF2d");r({target:"WeakSet",stat:!0},{from:i})},Y3SK:function(t,e,n){var r=n("ZhPi");function i(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=r(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){c=!0,a=t},f:function(){try{s||null==n["return"]||n["return"]()}finally{if(c)throw a}}}}t.exports=i},Y3g6:function(t,e,n){var r=n("f1E4");t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(a){var o=t["return"];throw void 0!==o&&r(o.call(t)),a}}},YJpY:function(t,e,n){"use strict";var r=n("MMxC"),i=n("hKmx"),o=n("cTDu"),a=n("oa35"),s=n("cT1L"),c=n("nMuc");r({target:"Array",proto:!0},{flatMap:function(t){var e,n=o(this),r=a(n.length);return s(t),e=c(n,0),e.length=i(e,n,n,r,0,1,t,arguments.length>1?arguments[1]:void 0),e}})},YMoz:function(t,e){t.exports=Math.scale||function(t,e,n,r,i){return 0===arguments.length||t!=t||e!=e||n!=n||r!=r||i!=i?NaN:t===1/0||t===-1/0?t:(t-e)*(i-r)/(n-e)+r}},YON3:function(t,e,n){var r=n("tSXo"),i=n("UwrT"),o=n("2kyd"),a=o("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[a])?!!e:"RegExp"==i(t))}},YS25:function(t,e,n){"use strict";n.d(e,"a",(function(){return I})),n.d(e,"b",(function(){return U})),n.d(e,"d",(function(){return z})),n.d(e,"c",(function(){return _})),n.d(e,"f",(function(){return x})),n.d(e,"e",(function(){return w}));var r=n("wx14");function i(t){return"/"===t.charAt(0)}function o(t,e){for(var n=e,r=n+1,i=t.length;r<i;n+=1,r+=1)t[n]=t[r];t.pop()}function a(t,e){void 0===e&&(e="");var n,r=t&&t.split("/")||[],a=e&&e.split("/")||[],s=t&&i(t),c=e&&i(e),l=s||c;if(t&&i(t)?a=r:r.length&&(a.pop(),a=a.concat(r)),!a.length)return"/";if(a.length){var u=a[a.length-1];n="."===u||".."===u||""===u}else n=!1;for(var h=0,f=a.length;f>=0;f--){var d=a[f];"."===d?o(a,f):".."===d?(o(a,f),h++):h&&(o(a,f),h--)}if(!l)for(;h--;h)a.unshift("..");!l||""===a[0]||a[0]&&i(a[0])||a.unshift("");var p=a.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p}var s=a;function c(t){return t.valueOf?t.valueOf():Object.prototype.valueOf.call(t)}function l(t,e){if(t===e)return!0;if(null==t||null==e)return!1;if(Array.isArray(t))return Array.isArray(e)&&t.length===e.length&&t.every((function(t,n){return l(t,e[n])}));if("object"===typeof t||"object"===typeof e){var n=c(t),r=c(e);return n!==t||r!==e?l(n,r):Object.keys(Object.assign({},t,e)).every((function(n){return l(t[n],e[n])}))}return!1}var u=l,h=n("cr+I"),f=n.n(h),d=n("9R94");function p(t){return"/"===t.charAt(0)?t:"/"+t}function g(t){return"/"===t.charAt(0)?t.substr(1):t}function m(t,e){return 0===t.toLowerCase().indexOf(e.toLowerCase())&&-1!=="/?#".indexOf(t.charAt(e.length))}function v(t,e){return m(t,e)?t.substr(e.length):t}function b(t){return"/"===t.charAt(t.length-1)?t.slice(0,-1):t}function y(t){var e=t||"/",n="",r="",i=e.indexOf("#");-1!==i&&(r=e.substr(i),e=e.substr(0,i));var o=e.indexOf("?");return-1!==o&&(n=e.substr(o),e=e.substr(0,o)),{pathname:e,search:"?"===n?"":n,hash:"#"===r?"":r}}function w(t){var e=t.pathname,n=t.search,r=t.hash,i=e||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function _(t,e,n,i){var o;"string"===typeof t?(o=y(t),o.query=o.search?f.a.parse(o.search):{},o.state=e):(o=Object(r["a"])({},t),void 0===o.pathname&&(o.pathname=""),o.search?("?"!==o.search.charAt(0)&&(o.search="?"+o.search),o.query=f.a.parse(o.search)):(o.search=o.query?f.a.stringify(o.query):"",o.query=o.query||{}),o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==e&&void 0===o.state&&(o.state=e));try{o.pathname=decodeURI(o.pathname)}catch(a){throw a instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):a}return n&&(o.key=n),i?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=s(o.pathname,i.pathname)):o.pathname=i.pathname:o.pathname||(o.pathname="/"),o}function x(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash===e.hash&&t.key===e.key&&u(t.state,e.state)}function S(){var t=null;function e(e){return t=e,function(){t===e&&(t=null)}}function n(e,n,r,i){if(null!=t){var o="function"===typeof t?t(e,n):t;"string"===typeof o?"function"===typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)}var r=[];function i(t){var e=!0;function n(){e&&t.apply(void 0,arguments)}return r.push(n),function(){e=!1,r=r.filter((function(t){return t!==n}))}}function o(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];r.forEach((function(t){return t.apply(void 0,e)}))}return{setPrompt:e,confirmTransitionTo:n,appendListener:i,notifyListeners:o}}var C=!("undefined"===typeof window||!window.document||!window.document.createElement);function E(t,e){e(window.confirm(t))}function O(){var t=window.navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)}function k(){return-1===window.navigator.userAgent.indexOf("Trident")}function T(){return-1===window.navigator.userAgent.indexOf("Firefox")}function j(t){return void 0===t.state&&-1===navigator.userAgent.indexOf("CriOS")}var M="popstate",A="hashchange";function P(){try{return window.history.state||{}}catch(t){return{}}}function I(t){void 0===t&&(t={}),C||Object(d["a"])(!1);var e=window.history,n=O(),i=!k(),o=t,a=o.forceRefresh,s=void 0!==a&&a,c=o.getUserConfirmation,l=void 0===c?E:c,u=o.keyLength,h=void 0===u?6:u,f=t.basename?b(p(t.basename)):"";function g(t){var e=t||{},n=e.key,r=e.state,i=window.location,o=i.pathname,a=i.search,s=i.hash,c=o+a+s;return f&&(c=v(c,f)),_(c,r,n)}function m(){return Math.random().toString(36).substr(2,h)}var y=S();function x(t){Object(r["a"])(q,t),q.length=e.length,y.notifyListeners(q.location,q.action)}function T(t){j(t)||D(g(t.state))}function I(){D(g(P()))}var R=!1;function D(t){if(R)R=!1,x();else{var e="POP";y.confirmTransitionTo(t,e,l,(function(n){n?x({action:e,location:t}):L(t)}))}}function L(t){var e=q.location,n=F.indexOf(e.key);-1===n&&(n=0);var r=F.indexOf(t.key);-1===r&&(r=0);var i=n-r;i&&(R=!0,z(i))}var N=g(P()),F=[N.key];function B(t){return f+w(t)}function U(t,r){var i="PUSH",o=_(t,r,m(),q.location);y.confirmTransitionTo(o,i,l,(function(t){if(t){var r=B(o),a=o.key,c=o.state;if(n)if(e.pushState({key:a,state:c},null,r),s)window.location.href=r;else{var l=F.indexOf(q.location.key),u=F.slice(0,l+1);u.push(o.key),F=u,x({action:i,location:o})}else window.location.href=r}}))}function W(t,r){var i="REPLACE",o=_(t,r,m(),q.location);y.confirmTransitionTo(o,i,l,(function(t){if(t){var r=B(o),a=o.key,c=o.state;if(n)if(e.replaceState({key:a,state:c},null,r),s)window.location.replace(r);else{var l=F.indexOf(q.location.key);-1!==l&&(F[l]=o.key),x({action:i,location:o})}else window.location.replace(r)}}))}function z(t){e.go(t)}function H(){z(-1)}function Y(){z(1)}var G=0;function X(t){G+=t,1===G&&1===t?(window.addEventListener(M,T),i&&window.addEventListener(A,I)):0===G&&(window.removeEventListener(M,T),i&&window.removeEventListener(A,I))}var V=!1;function K(t){void 0===t&&(t=!1);var e=y.setPrompt(t);return V||(X(1),V=!0),function(){return V&&(V=!1,X(-1)),e()}}function $(t){var e=y.appendListener(t);return X(1),function(){X(-1),e()}}var q={length:e.length,action:"POP",location:N,createHref:B,push:U,replace:W,go:z,goBack:H,goForward:Y,block:K,listen:$};return q}var R="hashchange",D={hashbang:{encodePath:function(t){return"!"===t.charAt(0)?t:"!/"+g(t)},decodePath:function(t){return"!"===t.charAt(0)?t.substr(1):t}},noslash:{encodePath:g,decodePath:p},slash:{encodePath:p,decodePath:p}};function L(t){var e=t.indexOf("#");return-1===e?t:t.slice(0,e)}function N(){var t=window.location.href,e=t.indexOf("#");return-1===e?"":t.substring(e+1)}function F(t){window.location.hash=t}function B(t){window.location.replace(L(window.location.href)+"#"+t)}function U(t){void 0===t&&(t={}),C||Object(d["a"])(!1);var e=window.history,n=(T(),t),i=n.getUserConfirmation,o=void 0===i?E:i,a=n.hashType,s=void 0===a?"slash":a,c=t.basename?b(p(t.basename)):"",l=D[s],u=l.encodePath,h=l.decodePath;function f(){var t=h(N());return c&&(t=v(t,c)),_(t)}var g=S();function m(t){Object(r["a"])(J,t),J.length=e.length,g.notifyListeners(J.location,J.action)}var y=!1,x=null;function O(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash===e.hash}function k(){var t=N(),e=u(t);if(t!==e)B(e);else{var n=f(),r=J.location;if(!y&&O(r,n))return;if(x===w(n))return;x=null,j(n)}}function j(t){if(y)y=!1,m();else{var e="POP";g.confirmTransitionTo(t,e,o,(function(n){n?m({action:e,location:t}):M(t)}))}}function M(t){var e=J.location,n=U.lastIndexOf(w(e));-1===n&&(n=0);var r=U.lastIndexOf(w(t));-1===r&&(r=0);var i=n-r;i&&(y=!0,Y(i))}var A=N(),P=u(A);A!==P&&B(P);var I=f(),U=[w(I)];function W(t){var e=document.querySelector("base"),n="";return e&&e.getAttribute("href")&&(n=L(window.location.href)),n+"#"+u(c+w(t))}function z(t,e){var n="PUSH",r=_(t,void 0,void 0,J.location);g.confirmTransitionTo(r,n,o,(function(t){if(t){var e=w(r),i=u(c+e),o=N()!==i;if(o){x=e,F(i);var a=U.lastIndexOf(w(J.location)),s=U.slice(0,a+1);s.push(e),U=s,m({action:n,location:r})}else m()}}))}function H(t,e){var n="REPLACE",r=_(t,void 0,void 0,J.location);g.confirmTransitionTo(r,n,o,(function(t){if(t){var e=w(r),i=u(c+e),o=N()!==i;o&&(x=e,B(i));var a=U.indexOf(w(J.location));-1!==a&&(U[a]=e),m({action:n,location:r})}}))}function Y(t){e.go(t)}function G(){Y(-1)}function X(){Y(1)}var V=0;function K(t){V+=t,1===V&&1===t?window.addEventListener(R,k):0===V&&window.removeEventListener(R,k)}var $=!1;function q(t){void 0===t&&(t=!1);var e=g.setPrompt(t);return $||(K(1),$=!0),function(){return $&&($=!1,K(-1)),e()}}function Z(t){var e=g.appendListener(t);return K(1),function(){K(-1),e()}}var J={length:e.length,action:"POP",location:I,createHref:W,push:z,replace:H,go:Y,goBack:G,goForward:X,block:q,listen:Z};return J}function W(t,e,n){return Math.min(Math.max(t,e),n)}function z(t){void 0===t&&(t={});var e=t,n=e.getUserConfirmation,i=e.initialEntries,o=void 0===i?["/"]:i,a=e.initialIndex,s=void 0===a?0:a,c=e.keyLength,l=void 0===c?6:c,u=S();function h(t){Object(r["a"])(k,t),k.length=k.entries.length,u.notifyListeners(k.location,k.action)}function f(){return Math.random().toString(36).substr(2,l)}var d=W(s,0,o.length-1),p=o.map((function(t){return _(t,void 0,"string"===typeof t?f():t.key||f())})),g=w;function m(t,e){var r="PUSH",i=_(t,e,f(),k.location);u.confirmTransitionTo(i,r,n,(function(t){if(t){var e=k.index,n=e+1,o=k.entries.slice(0);o.length>n?o.splice(n,o.length-n,i):o.push(i),h({action:r,location:i,index:n,entries:o})}}))}function v(t,e){var r="REPLACE",i=_(t,e,f(),k.location);u.confirmTransitionTo(i,r,n,(function(t){t&&(k.entries[k.index]=i,h({action:r,location:i}))}))}function b(t){var e=W(k.index+t,0,k.entries.length-1),r="POP",i=k.entries[e];u.confirmTransitionTo(i,r,n,(function(t){t?h({action:r,location:i,index:e}):h()}))}function y(){b(-1)}function x(){b(1)}function C(t){var e=k.index+t;return e>=0&&e<k.entries.length}function E(t){return void 0===t&&(t=!1),u.setPrompt(t)}function O(t){return u.appendListener(t)}var k={length:p.length,action:"POP",location:p[d],index:d,entries:p,createHref:g,push:m,replace:v,go:b,goBack:y,goForward:x,canGo:C,block:E,listen:O};return k}},YceZ:function(t,e,n){"use strict";var r=n("MMxC"),i=n("Zcjx"),o=n("f1E4"),a=n("jbR1"),s=n("IuhT");r({target:"Set",proto:!0,real:!0,forced:i},{join:function(t){var e=o(this),n=a(e),r=void 0===t?",":String(t),i=[];return s(n,i.push,i,!1,!0),i.join(r)}})},YfKC:function(t,e,n){var r=n("tny8"),i=n("/yC2"),o=n("f1E4"),a=n("gFfw"),s=Object.defineProperty;e.f=r?s:function(t,e,n){if(o(t),e=a(e,!0),o(n),i)try{return s(t,e,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},YjZU:function(t,e,n){var r=n("MMxC"),i=n("29mP"),o=n("cT1L"),a=n("f1E4"),s=n("tSXo"),c=n("u+7+"),l=n("+SQA"),u=n("MVys"),h=i("Reflect","construct"),f=u((function(){function t(){}return!(h((function(){}),[],t)instanceof t)})),d=!u((function(){h((function(){}))})),p=f||d;r({target:"Reflect",stat:!0,forced:p,sham:p},{construct:function(t,e){o(t),a(e);var n=arguments.length<3?t:o(arguments[2]);if(d&&!f)return h(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(l.apply(t,r))}var i=n.prototype,u=c(s(i)?i:Object.prototype),p=Function.apply.call(t,u,e);return s(p)?p:u}})},Yshu:function(t,e,n){var r=n("tjlA"),i=r.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function a(t,e,n){return i(t,e,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(o(r,e),e.Buffer=a),a.prototype=Object.create(i.prototype),o(i,a),a.from=function(t,e,n){if("number"===typeof t)throw new TypeError("Argument must not be a number");return i(t,e,n)},a.alloc=function(t,e,n){if("number"!==typeof t)throw new TypeError("Argument must be a number");var r=i(t);return void 0!==e?"string"===typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},a.allocUnsafe=function(t){if("number"!==typeof t)throw new TypeError("Argument must be a number");return i(t)},a.allocUnsafeSlow=function(t){if("number"!==typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},YuTi:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},"Z+8a":function(t,e,n){"use strict";var r=n("f1E4"),i=n("cT1L");t.exports=function(){for(var t=r(this),e=i(t.add),n=0,o=arguments.length;n<o;n++)e.call(t,arguments[n]);return t}},ZDb2:function(t,e,n){"use strict";var r=n("ENif"),i=n("YON3"),o=n("f1E4"),a=n("FCfD"),s=n("/dTS"),c=n("xH5X"),l=n("oa35"),u=n("dagG"),h=n("NcLc"),f=n("MVys"),d=[].push,p=Math.min,g=4294967295,m=!f((function(){return!RegExp(g,"y")}));r("split",2,(function(t,e,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var r=String(a(this)),o=void 0===n?g:n>>>0;if(0===o)return[];if(void 0===t)return[r];if(!i(t))return e.call(r,t,o);var s,c,l,u=[],f=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),p=0,m=new RegExp(t.source,f+"g");while(s=h.call(m,r)){if(c=m.lastIndex,c>p&&(u.push(r.slice(p,s.index)),s.length>1&&s.index<r.length&&d.apply(u,s.slice(1)),l=s[0].length,p=c,u.length>=o))break;m.lastIndex===s.index&&m.lastIndex++}return p===r.length?!l&&m.test("")||u.push(""):u.push(r.slice(p)),u.length>o?u.slice(0,o):u}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var i=a(this),o=void 0==e?void 0:e[t];return void 0!==o?o.call(e,i,n):r.call(String(i),e,n)},function(t,i){var a=n(r,t,this,i,r!==e);if(a.done)return a.value;var h=o(t),f=String(this),d=s(h,RegExp),v=h.unicode,b=(h.ignoreCase?"i":"")+(h.multiline?"m":"")+(h.unicode?"u":"")+(m?"y":"g"),y=new d(m?h:"^(?:"+h.source+")",b),w=void 0===i?g:i>>>0;if(0===w)return[];if(0===f.length)return null===u(y,f)?[f]:[];var _=0,x=0,S=[];while(x<f.length){y.lastIndex=m?x:0;var C,E=u(y,m?f:f.slice(x));if(null===E||(C=p(l(y.lastIndex+(m?0:x)),f.length))===_)x=c(f,x,v);else{if(S.push(f.slice(_,x)),S.length===w)return S;for(var O=1;O<=E.length-1;O++)if(S.push(E[O]),S.length===w)return S;x=_=C}}return S.push(f.slice(_)),S}]}),!m)},ZFOp:function(t,e,n){"use strict";t.exports=function(t){return encodeURIComponent(t).replace(/[!'()*]/g,(function(t){return"%".concat(t.charCodeAt(0).toString(16).toUpperCase())}))}},ZSlt:function(t,e,n){"use strict";var r=n("ukPv"),i=n("tny8"),o=n("GNqc"),a=n("lz10"),s=n("ujhg"),c=n("MVys"),l=n("igoe"),u=n("m0kY"),h=n("oa35"),f=n("J+Da"),d=n("Cq6t"),p=n("Acmb"),g=n("g1ZG"),m=n("uGHk").f,v=n("YfKC").f,b=n("VSU6"),y=n("kiNa"),w=n("1aI8"),_=w.get,x=w.set,S="ArrayBuffer",C="DataView",E="prototype",O="Wrong length",k="Wrong index",T=r[S],j=T,M=r[C],A=M&&M[E],P=Object.prototype,I=r.RangeError,R=d.pack,D=d.unpack,L=function(t){return[255&t]},N=function(t){return[255&t,t>>8&255]},F=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},B=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},U=function(t){return R(t,23,4)},W=function(t){return R(t,52,8)},z=function(t,e){v(t[E],e,{get:function(){return _(this)[e]}})},H=function(t,e,n,r){var i=f(n),o=_(t);if(i+e>o.byteLength)throw I(k);var a=_(o.buffer).bytes,s=i+o.byteOffset,c=a.slice(s,s+e);return r?c:c.reverse()},Y=function(t,e,n,r,i,o){var a=f(n),s=_(t);if(a+e>s.byteLength)throw I(k);for(var c=_(s.buffer).bytes,l=a+s.byteOffset,u=r(+i),h=0;h<e;h++)c[l+h]=u[o?h:e-h-1]};if(o){if(!c((function(){T(1)}))||!c((function(){new T(-1)}))||c((function(){return new T,new T(1.5),new T(NaN),T.name!=S}))){j=function(t){return l(this,j),new T(f(t))};for(var G,X=j[E]=T[E],V=m(T),K=0;V.length>K;)(G=V[K++])in j||a(j,G,T[G]);X.constructor=j}g&&p(A)!==P&&g(A,P);var $=new M(new j(2)),q=A.setInt8;$.setInt8(0,2147483648),$.setInt8(1,2147483649),!$.getInt8(0)&&$.getInt8(1)||s(A,{setInt8:function(t,e){q.call(this,t,e<<24>>24)},setUint8:function(t,e){q.call(this,t,e<<24>>24)}},{unsafe:!0})}else j=function(t){l(this,j,S);var e=f(t);x(this,{bytes:b.call(new Array(e),0),byteLength:e}),i||(this.byteLength=e)},M=function(t,e,n){l(this,M,C),l(t,j,C);var r=_(t).byteLength,o=u(e);if(o<0||o>r)throw I("Wrong offset");if(n=void 0===n?r-o:h(n),o+n>r)throw I(O);x(this,{buffer:t,byteLength:n,byteOffset:o}),i||(this.buffer=t,this.byteLength=n,this.byteOffset=o)},i&&(z(j,"byteLength"),z(M,"buffer"),z(M,"byteLength"),z(M,"byteOffset")),s(M[E],{getInt8:function(t){return H(this,1,t)[0]<<24>>24},getUint8:function(t){return H(this,1,t)[0]},getInt16:function(t){var e=H(this,2,t,arguments.length>1?arguments[1]:void 0);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=H(this,2,t,arguments.length>1?arguments[1]:void 0);return e[1]<<8|e[0]},getInt32:function(t){return B(H(this,4,t,arguments.length>1?arguments[1]:void 0))},getUint32:function(t){return B(H(this,4,t,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(t){return D(H(this,4,t,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(t){return D(H(this,8,t,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(t,e){Y(this,1,t,L,e)},setUint8:function(t,e){Y(this,1,t,L,e)},setInt16:function(t,e){Y(this,2,t,N,e,arguments.length>2?arguments[2]:void 0)},setUint16:function(t,e){Y(this,2,t,N,e,arguments.length>2?arguments[2]:void 0)},setInt32:function(t,e){Y(this,4,t,F,e,arguments.length>2?arguments[2]:void 0)},setUint32:function(t,e){Y(this,4,t,F,e,arguments.length>2?arguments[2]:void 0)},setFloat32:function(t,e){Y(this,4,t,U,e,arguments.length>2?arguments[2]:void 0)},setFloat64:function(t,e){Y(this,8,t,W,e,arguments.length>2?arguments[2]:void 0)}});y(j,S),y(M,C),t.exports={ArrayBuffer:j,DataView:M}},ZahQ:function(t,e,n){"use strict";var r=n("MMxC"),i=n("tny8"),o=n("i7kj"),a=n("cTDu"),s=n("cT1L"),c=n("YfKC");i&&r({target:"Object",proto:!0,forced:o},{__defineGetter__:function(t,e){c.f(a(this),t,{get:s(e),enumerable:!0,configurable:!0})}})},Zcjx:function(t,e){t.exports=!1},Ze4s:function(t,e,n){var r=n("ukPv"),i=n("mTKU").trim,o=n("Tfd0"),a=r.parseInt,s=/^[+-]?0[Xx]/,c=8!==a(o+"08")||22!==a(o+"0x16");t.exports=c?function(t,e){var n=i(String(t));return a(n,e>>>0||(s.test(n)?16:10))}:a},ZhPi:function(t,e,n){var r=n("WkPL");function i(t,e){if(t){if("string"===typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}t.exports=i},ZkJ9:function(t,e,n){var r=n("ukPv"),i=n("J3Yn"),o=r.WeakMap;t.exports="function"===typeof o&&/native code/.test(i(o))},ZpkN:function(t,e,n){"use strict";var r=n("wx14"),i=n("ODXe"),o=n("q1tI"),a=n.n(o),s=function(){var t=0,e={util:{encode:function(t){return t instanceof n?new n(t.type,e.util.encode(t.content),t.alias):"Array"===e.util.type(t)?t.map(e.util.encode):t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(t){return Object.prototype.toString.call(t).match(/\[object (\w+)\]/)[1]},objId:function(e){return e["__id"]||Object.defineProperty(e,"__id",{value:++t}),e["__id"]},clone:function(t,n){var r=e.util.type(t);switch(n=n||{},r){case"Object":if(n[e.util.objId(t)])return n[e.util.objId(t)];o={};for(var i in n[e.util.objId(t)]=o,t)t.hasOwnProperty(i)&&(o[i]=e.util.clone(t[i],n));return o;case"Array":if(n[e.util.objId(t)])return n[e.util.objId(t)];var o=[];return n[e.util.objId(t)]=o,t.forEach((function(t,r){o[r]=e.util.clone(t,n)})),o}return t}},languages:{extend:function(t,n){var r=e.util.clone(e.languages[t]);for(var i in n)r[i]=n[i];return r},insertBefore:function(t,n,r,i){i=i||e.languages;var o=i[t];if(2==arguments.length){for(var a in r=arguments[1],r)r.hasOwnProperty(a)&&(o[a]=r[a]);return o}var s={};for(var c in o)if(o.hasOwnProperty(c)){if(c==n)for(var a in r)r.hasOwnProperty(a)&&(s[a]=r[a]);s[c]=o[c]}return e.languages.DFS(e.languages,(function(e,n){n===i[t]&&e!=t&&(this[e]=s)})),i[t]=s},DFS:function(t,n,r,i){for(var o in i=i||{},t)t.hasOwnProperty(o)&&(n.call(t,o,t[o],r||o),"Object"!==e.util.type(t[o])||i[e.util.objId(t[o])]?"Array"!==e.util.type(t[o])||i[e.util.objId(t[o])]||(i[e.util.objId(t[o])]=!0,e.languages.DFS(t[o],n,o,i)):(i[e.util.objId(t[o])]=!0,e.languages.DFS(t[o],n,null,i)))}},plugins:{},highlight:function(t,r,i){var o={code:t,grammar:r,language:i};return e.hooks.run("before-tokenize",o),o.tokens=e.tokenize(o.code,o.grammar),e.hooks.run("after-tokenize",o),n.stringify(e.util.encode(o.tokens),o.language)},matchGrammar:function(t,n,r,i,o,a,s){var c=e.Token;for(var l in r)if(r.hasOwnProperty(l)&&r[l]){if(l==s)return;var u=r[l];u="Array"===e.util.type(u)?u:[u];for(var h=0;h<u.length;++h){var f=u[h],d=f.inside,p=!!f.lookbehind,g=!!f.greedy,m=0,v=f.alias;if(g&&!f.pattern.global){var b=f.pattern.toString().match(/[imuy]*$/)[0];f.pattern=RegExp(f.pattern.source,b+"g")}f=f.pattern||f;for(var y=i,w=o;y<n.length;w+=n[y].length,++y){var _=n[y];if(n.length>t.length)return;if(!(_ instanceof c)){if(g&&y!=n.length-1){f.lastIndex=w;var x=f.exec(t);if(!x)break;for(var S=x.index+(p?x[1].length:0),C=x.index+x[0].length,E=y,O=w,k=n.length;E<k&&(O<C||!n[E].type&&!n[E-1].greedy);++E)O+=n[E].length,S>=O&&(++y,w=O);if(n[y]instanceof c)continue;T=E-y,_=t.slice(w,O),x.index-=w}else{f.lastIndex=0;x=f.exec(_);var T=1}if(x){p&&(m=x[1]?x[1].length:0);S=x.index+m,x=x[0].slice(m),C=S+x.length;var j=_.slice(0,S),M=_.slice(C),A=[y,T];j&&(++y,w+=j.length,A.push(j));var P=new c(l,d?e.tokenize(x,d):x,v,x,g);if(A.push(P),M&&A.push(M),Array.prototype.splice.apply(n,A),1!=T&&e.matchGrammar(t,n,r,y,w,!0,l),a)break}else if(a)break}}}}},hooks:{add:function(){},run:function(t,e){}},tokenize:function(t,n,r){var i=[t],o=n.rest;if(o){for(var a in o)n[a]=o[a];delete n.rest}return e.matchGrammar(t,i,n,0,0,!1),i}},n=e.Token=function(t,e,n,r,i){this.type=t,this.content=e,this.alias=n,this.length=0|(r||"").length,this.greedy=!!i};return n.stringify=function(t,r,i){if("string"==typeof t)return t;if("Array"===e.util.type(t))return t.map((function(e){return n.stringify(e,r,t)})).join("");var o={type:t.type,content:n.stringify(t.content,r,i),tag:"span",classes:["token",t.type],attributes:{},language:r,parent:i};if(t.alias){var a="Array"===e.util.type(t.alias)?t.alias:[t.alias];Array.prototype.push.apply(o.classes,a)}var s=Object.keys(o.attributes).map((function(t){return t+'="'+(o.attributes[t]||"").replace(/"/g,"&quot;")+'"'})).join(" ");return"<"+o.tag+' class="'+o.classes.join(" ")+'"'+(s?" "+s:"")+">"+o.content+"</"+o.tag+">"},e}();s.languages.markup={comment:/<!--[\s\S]*?-->/,prolog:/<\?[\s\S]+?\?>/,doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/,name:/[^\s<>'"]+/}},cdata:/<!\[CDATA\[[\s\S]*?]]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},s.languages.markup["tag"].inside["attr-value"].inside["entity"]=s.languages.markup["entity"],s.languages.markup["doctype"].inside["internal-subset"].inside=s.languages.markup,s.hooks.add("wrap",(function(t){"entity"===t.type&&(t.attributes["title"]=t.content.replace(/&amp;/,"&"))})),Object.defineProperty(s.languages.markup.tag,"addInlined",{value:function(t,e){var n={};n["language-"+e]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:s.languages[e]},n["cdata"]=/^<!\[CDATA\[|\]\]>$/i;var r={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:n}};r["language-"+e]={pattern:/[\s\S]+/,inside:s.languages[e]};var i={};i[t]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,(function(){return t})),"i"),lookbehind:!0,greedy:!0,inside:r},s.languages.insertBefore("markup","cdata",i)}}),s.languages.html=s.languages.markup,s.languages.mathml=s.languages.markup,s.languages.svg=s.languages.markup,s.languages.xml=s.languages.extend("markup",{}),s.languages.ssml=s.languages.xml,s.languages.atom=s.languages.xml,s.languages.rss=s.languages.xml,function(t){var e="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",n={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},r={bash:n,environment:{pattern:RegExp("\\$"+e),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--?|-=|\+\+?|\+=|!=?|~|\*\*?|\*=|\/=?|%=?|<<=?|>>=?|<=?|>=?|==?|&&?|&=|\^=?|\|\|?|\|=|\?|:/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+e),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|x[0-9a-fA-F]{1,2}|u[0-9a-fA-F]{4}|U[0-9a-fA-F]{8})/};t.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)\w+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b\w+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+e),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+?)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:r},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:n}},{pattern:/(^|[^\\](?:\\\\)*)(["'])(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|(?!\2)[^\\`$])*\2/,lookbehind:!0,greedy:!0,inside:r}],environment:{pattern:RegExp("\\$?"+e),alias:"constant"},variable:r.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|aptitude|apt-cache|apt-get|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:if|then|else|elif|fi|for|while|in|case|esac|function|select|do|done|until)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|break|cd|continue|eval|exec|exit|export|getopts|hash|pwd|readonly|return|shift|test|times|trap|umask|unset|alias|bind|builtin|caller|command|declare|echo|enable|help|let|local|logout|mapfile|printf|read|readarray|source|type|typeset|ulimit|unalias|set|shopt)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:true|false)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|==?|!=?|=~|<<[<-]?|[&\d]?>>|\d?[<>]&?|&[>&]?|\|[&|]?|<=?|>=?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},n.inside=t.languages.bash;for(var i=["comment","function-name","for-or-select","assign-left","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],o=r.variable[1].inside,a=0;a<i.length;a++)o[i[a]]=t.languages.bash[i[a]];t.languages.shell=t.languages.bash}(s),s.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|interface|extends|implements|trait|instanceof|new)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},s.languages.c=s.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:__attribute__|_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|asm|typeof|inline|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|union|unsigned|void|volatile|while)\b/,function:/[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),s.languages.insertBefore("c","string",{macro:{pattern:/(^\s*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},s.languages.c["string"]],comment:s.languages.c["comment"],"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:s.languages.c}}},constant:/\b(?:__FILE__|__LINE__|__DATE__|__TIME__|__TIMESTAMP__|__func__|EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|stdin|stdout|stderr)\b/}),delete s.languages.c["boolean"],function(t){var e=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char8_t|char16_t|char32_t|class|compl|concept|const|consteval|constexpr|constinit|const_cast|continue|co_await|co_return|co_yield|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|float|for|friend|goto|if|inline|int|int8_t|int16_t|int32_t|int64_t|uint8_t|uint16_t|uint32_t|uint64_t|long|mutable|namespace|new|noexcept|nullptr|operator|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/;t.languages.cpp=t.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,(function(){return e.source}))),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:e,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:true|false)\b/}),t.languages.insertBefore("cpp","string",{"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),t.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:t.languages.extend("cpp",{})}}),t.languages.insertBefore("inside","operator",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},t.languages.cpp["base-clause"])}(s),function(t){var e=/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/;t.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+e.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+e.source+"$"),alias:"url"}}},selector:RegExp("[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+e.source+")*(?=\\s*\\{)"),string:{pattern:e,greedy:!0},property:/(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,important:/!important\b/i,function:/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:,]/},t.languages.css["atrule"].inside.rest=t.languages.css;var n=t.languages.markup;n&&(n.tag.addInlined("style","css"),t.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/(^|["'\s])style\s*=\s*(?:"[^"]*"|'[^']*')/i,lookbehind:!0,inside:{"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{style:{pattern:/(["'])[\s\S]+(?=["']$)/,lookbehind:!0,alias:"language-css",inside:t.languages.css},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},"attr-name":/^style/i}}},n.tag))}(s),function(t){var e,n=/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/;t.languages.css.selector={pattern:t.languages.css.selector,inside:e={"pseudo-element":/:(?:after|before|first-letter|first-line|selection)|::[-\w]+/,"pseudo-class":/:[-\w]+/,class:/\.[-\w]+/,id:/#[-\w]+/,attribute:{pattern:RegExp("\\[(?:[^[\\]\"']|"+n.source+")*\\]"),greedy:!0,inside:{punctuation:/^\[|\]$/,"case-sensitivity":{pattern:/(\s)[si]$/i,lookbehind:!0,alias:"keyword"},namespace:{pattern:/^(\s*)(?:(?!\s)[-*\w\xA0-\uFFFF])*\|(?!=)/,lookbehind:!0,inside:{punctuation:/\|$/}},"attr-name":{pattern:/^(\s*)(?:(?!\s)[-\w\xA0-\uFFFF])+/,lookbehind:!0},"attr-value":[n,{pattern:/(=\s*)(?:(?!\s)[-\w\xA0-\uFFFF])+(?=\s*$)/,lookbehind:!0}],operator:/[|~*^$]?=/}},"n-th":[{pattern:/(\(\s*)[+-]?\d*[\dn](?:\s*[+-]\s*\d+)?(?=\s*\))/,lookbehind:!0,inside:{number:/[\dn]+/,operator:/[+-]/}},{pattern:/(\(\s*)(?:even|odd)(?=\s*\))/i,lookbehind:!0}],combinator:/>|\+|~|\|\|/,punctuation:/[(),]/}},t.languages.css["atrule"].inside["selector-function-argument"].inside=e,t.languages.insertBefore("css","property",{variable:{pattern:/(^|[^-\w\xA0-\uFFFF])--(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*/i,lookbehind:!0}});var r={pattern:/(\b\d+)(?:%|[a-z]+\b)/,lookbehind:!0},i={pattern:/(^|[^\w.-])-?(?:\d+(?:\.\d+)?|\.\d+)/,lookbehind:!0};t.languages.insertBefore("css","function",{operator:{pattern:/(\s)[+\-*\/](?=\s)/,lookbehind:!0},hexcode:{pattern:/\B#(?:[\da-f]{1,2}){3,4}\b/i,alias:"color"},color:[/\b(?:AliceBlue|AntiqueWhite|Aqua|Aquamarine|Azure|Beige|Bisque|Black|BlanchedAlmond|Blue|BlueViolet|Brown|BurlyWood|CadetBlue|Chartreuse|Chocolate|Coral|CornflowerBlue|Cornsilk|Crimson|Cyan|DarkBlue|DarkCyan|DarkGoldenRod|DarkGr[ae]y|DarkGreen|DarkKhaki|DarkMagenta|DarkOliveGreen|DarkOrange|DarkOrchid|DarkRed|DarkSalmon|DarkSeaGreen|DarkSlateBlue|DarkSlateGr[ae]y|DarkTurquoise|DarkViolet|DeepPink|DeepSkyBlue|DimGr[ae]y|DodgerBlue|FireBrick|FloralWhite|ForestGreen|Fuchsia|Gainsboro|GhostWhite|Gold|GoldenRod|Gr[ae]y|Green|GreenYellow|HoneyDew|HotPink|IndianRed|Indigo|Ivory|Khaki|Lavender|LavenderBlush|LawnGreen|LemonChiffon|LightBlue|LightCoral|LightCyan|LightGoldenRodYellow|LightGr[ae]y|LightGreen|LightPink|LightSalmon|LightSeaGreen|LightSkyBlue|LightSlateGr[ae]y|LightSteelBlue|LightYellow|Lime|LimeGreen|Linen|Magenta|Maroon|MediumAquaMarine|MediumBlue|MediumOrchid|MediumPurple|MediumSeaGreen|MediumSlateBlue|MediumSpringGreen|MediumTurquoise|MediumVioletRed|MidnightBlue|MintCream|MistyRose|Moccasin|NavajoWhite|Navy|OldLace|Olive|OliveDrab|Orange|OrangeRed|Orchid|PaleGoldenRod|PaleGreen|PaleTurquoise|PaleVioletRed|PapayaWhip|PeachPuff|Peru|Pink|Plum|PowderBlue|Purple|Red|RosyBrown|RoyalBlue|SaddleBrown|Salmon|SandyBrown|SeaGreen|SeaShell|Sienna|Silver|SkyBlue|SlateBlue|SlateGr[ae]y|Snow|SpringGreen|SteelBlue|Tan|Teal|Thistle|Tomato|Transparent|Turquoise|Violet|Wheat|White|WhiteSmoke|Yellow|YellowGreen)\b/i,{pattern:/\b(?:rgb|hsl)\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*\)\B|\b(?:rgb|hsl)a\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*,\s*(?:0|0?\.\d+|1)\s*\)\B/i,inside:{unit:r,number:i,function:/[\w-]+(?=\()/,punctuation:/[(),]/}}],entity:/\\[\da-f]{1,8}/i,unit:r,number:i})}(s),s.languages.javascript=s.languages.extend("clike",{"class-name":[s.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|})\s*)(?:catch|finally)\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|(?:get|set)(?=\s*[\[$\w\xA0-\uFFFF])|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:/\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),s.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/,s.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*]|\\.|[^/\\\[\r\n])+\/[gimyus]{0,6}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:s.languages.regex},"regex-flags":/[a-z]+$/,"regex-delimiter":/^\/|\/$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:s.languages.javascript},{pattern:/(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,inside:s.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:s.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:s.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),s.languages.insertBefore("javascript","string",{"template-string":{pattern:/`(?:\\[\s\S]|\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}|(?!\${)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\${|}$/,alias:"punctuation"},rest:s.languages.javascript}},string:/[\s\S]+/}}}),s.languages.markup&&s.languages.markup.tag.addInlined("script","javascript"),s.languages.js=s.languages.javascript,function(t){var e=t.util.clone(t.languages.javascript);t.languages.jsx=t.languages.extend("markup",e),t.languages.jsx.tag.pattern=/<\/?(?:[\w.:-]+(?:\s+(?:[\w.:$-]+(?:=(?:"(?:\\[^]|[^\\"])*"|'(?:\\[^]|[^\\'])*'|[^\s{'">=]+|\{(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])+\}))?|\{\s*\.{3}\s*[a-z_$][\w$]*(?:\.[a-z_$][\w$]*)*\s*\}))*\s*\/?)?>/i,t.languages.jsx.tag.inside["tag"].pattern=/^<\/?[^\s>\/]*/i,t.languages.jsx.tag.inside["attr-value"].pattern=/=(?!\{)(?:"(?:\\[^]|[^\\"])*"|'(?:\\[^]|[^\\'])*'|[^\s'">]+)/i,t.languages.jsx.tag.inside["tag"].inside["class-name"]=/^[A-Z]\w*(?:\.[A-Z]\w*)*$/,t.languages.insertBefore("inside","attr-name",{spread:{pattern:/\{\s*\.{3}\s*[a-z_$][\w$]*(?:\.[a-z_$][\w$]*)*\s*\}/,inside:{punctuation:/\.{3}|[{}.]/,"attr-value":/\w+/}}},t.languages.jsx.tag),t.languages.insertBefore("inside","attr-value",{script:{pattern:/=(?:\{(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])+\})/i,inside:{"script-punctuation":{pattern:/^=(?={)/,alias:"punctuation"},rest:t.languages.jsx},alias:"language-javascript"}},t.languages.jsx.tag);var n=function t(e){return e?"string"===typeof e?e:"string"===typeof e.content?e.content:e.content.map(t).join(""):""},r=function e(r){for(var i=[],o=0;o<r.length;o++){var a=r[o],s=!1;if("string"!==typeof a&&("tag"===a.type&&a.content[0]&&"tag"===a.content[0].type?"</"===a.content[0].content[0].content?i.length>0&&i[i.length-1].tagName===n(a.content[0].content[1])&&i.pop():"/>"===a.content[a.content.length-1].content||i.push({tagName:n(a.content[0].content[1]),openedBraces:0}):i.length>0&&"punctuation"===a.type&&"{"===a.content?i[i.length-1].openedBraces++:i.length>0&&i[i.length-1].openedBraces>0&&"punctuation"===a.type&&"}"===a.content?i[i.length-1].openedBraces--:s=!0),(s||"string"===typeof a)&&i.length>0&&0===i[i.length-1].openedBraces){var c=n(a);o<r.length-1&&("string"===typeof r[o+1]||"plain-text"===r[o+1].type)&&(c+=n(r[o+1]),r.splice(o+1,1)),o>0&&("string"===typeof r[o-1]||"plain-text"===r[o-1].type)&&(c=n(r[o-1])+c,r.splice(o-1,1),o--),r[o]=new t.Token("plain-text",c,null,c)}a.content&&"string"!==typeof a.content&&e(a.content)}};t.hooks.add("after-tokenize",(function(t){"jsx"!==t.language&&"tsx"!==t.language||r(t.tokens)}))}(s),function(t){function e(t,e){return RegExp(t.replace(/<ID>/g,(function(){return/(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/.source})),e)}t.languages.insertBefore("javascript","function-variable",{"method-variable":{pattern:RegExp("(\\.\\s*)"+t.languages.javascript["function-variable"].pattern.source),lookbehind:!0,alias:["function-variable","method","function","property-access"]}}),t.languages.insertBefore("javascript","function",{method:{pattern:RegExp("(\\.\\s*)"+t.languages.javascript["function"].source),lookbehind:!0,alias:["function","property-access"]}}),t.languages.insertBefore("javascript","constant",{"known-class-name":[{pattern:/\b(?:(?:(?:Uint|Int)(?:8|16|32)|Uint8Clamped|Float(?:32|64))?Array|ArrayBuffer|BigInt|Boolean|DataView|Date|Error|Function|Intl|JSON|Math|Number|Object|Promise|Proxy|Reflect|RegExp|String|Symbol|(?:Weak)?(?:Set|Map)|WebAssembly)\b/,alias:"class-name"},{pattern:/\b(?:[A-Z]\w*)Error\b/,alias:"class-name"}]}),t.languages.insertBefore("javascript","keyword",{imports:{pattern:e(/(\bimport\b\s*)(?:<ID>(?:\s*,\s*(?:\*\s*as\s+<ID>|\{[^{}]*\}))?|\*\s*as\s+<ID>|\{[^{}]*\})(?=\s*\bfrom\b)/.source),lookbehind:!0,inside:t.languages.javascript},exports:{pattern:e(/(\bexport\b\s*)(?:\*(?:\s*as\s+<ID>)?(?=\s*\bfrom\b)|\{[^{}]*\})/.source),lookbehind:!0,inside:t.languages.javascript}}),t.languages.javascript["keyword"].unshift({pattern:/\b(?:as|default|export|from|import)\b/,alias:"module"},{pattern:/\b(?:await|break|catch|continue|do|else|for|finally|if|return|switch|throw|try|while|yield)\b/,alias:"control-flow"},{pattern:/\bnull\b/,alias:["null","nil"]},{pattern:/\bundefined\b/,alias:"nil"}),t.languages.insertBefore("javascript","operator",{spread:{pattern:/\.{3}/,alias:"operator"},arrow:{pattern:/=>/,alias:"operator"}}),t.languages.insertBefore("javascript","punctuation",{"property-access":{pattern:e(/(\.\s*)#?<ID>/.source),lookbehind:!0},"maybe-class-name":{pattern:/(^|[^$\w\xA0-\uFFFF])[A-Z][$\w\xA0-\uFFFF]+/,lookbehind:!0},dom:{pattern:/\b(?:document|location|navigator|performance|(?:local|session)Storage|window)\b/,alias:"variable"},console:{pattern:/\bconsole(?=\s*\.)/,alias:"class-name"}});for(var n=["function","function-variable","method","method-variable","property-access"],r=0;r<n.length;r++){var i=n[r],o=t.languages.javascript[i];"RegExp"===t.util.type(o)&&(o=t.languages.javascript[i]={pattern:o});var a=o.inside||{};o.inside=a,a["maybe-class-name"]=/^[A-Z][\s\S]*/}}(s),function(t){var e=/#(?!\{).+/,n={pattern:/#\{[^}]+\}/,alias:"variable"};t.languages.coffeescript=t.languages.extend("javascript",{comment:e,string:[{pattern:/'(?:\\[\s\S]|[^\\'])*'/,greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,greedy:!0,inside:{interpolation:n}}],keyword:/\b(?:and|break|by|catch|class|continue|debugger|delete|do|each|else|extend|extends|false|finally|for|if|in|instanceof|is|isnt|let|loop|namespace|new|no|not|null|of|off|on|or|own|return|super|switch|then|this|throw|true|try|typeof|undefined|unless|until|when|while|window|with|yes|yield)\b/,"class-member":{pattern:/@(?!\d)\w+/,alias:"variable"}}),t.languages.insertBefore("coffeescript","comment",{"multiline-comment":{pattern:/###[\s\S]+?###/,alias:"comment"},"block-regex":{pattern:/\/{3}[\s\S]*?\/{3}/,alias:"regex",inside:{comment:e,interpolation:n}}}),t.languages.insertBefore("coffeescript","string",{"inline-javascript":{pattern:/`(?:\\[\s\S]|[^\\`])*`/,inside:{delimiter:{pattern:/^`|`$/,alias:"punctuation"},script:{pattern:/[\s\S]+/,alias:"language-javascript",inside:t.languages.javascript}}},"multiline-string":[{pattern:/'''[\s\S]*?'''/,greedy:!0,alias:"string"},{pattern:/"""[\s\S]*?"""/,greedy:!0,alias:"string",inside:{interpolation:n}}]}),t.languages.insertBefore("coffeescript","keyword",{property:/(?!\d)\w+(?=\s*:(?!:))/}),delete t.languages.coffeescript["template-string"],t.languages.coffee=t.languages.coffeescript}(s),function(t){t.languages.diff={coord:[/^(?:\*{3}|-{3}|\+{3}).*$/m,/^@@.*@@$/m,/^\d.*$/m]};var e={"deleted-sign":"-","deleted-arrow":"<","inserted-sign":"+","inserted-arrow":">",unchanged:" ",diff:"!"};Object.keys(e).forEach((function(n){var r=e[n],i=[];/^\w+$/.test(n)||i.push(/\w+/.exec(n)[0]),"diff"===n&&i.push("bold"),t.languages.diff[n]={pattern:RegExp("^(?:["+r+"].*(?:\r\n?|\n|(?![\\s\\S])))+","m"),alias:i,inside:{line:{pattern:/(.)(?=[\s\S]).*(?:\r\n?|\n)?/,lookbehind:!0},prefix:{pattern:/[\s\S]/,alias:/\w+/.exec(n)[0]}}}})),Object.defineProperty(t.languages.diff,"PREFIXES",{value:e})}(s),s.languages.git={comment:/^#.*/m,deleted:/^[-\u2013].*/m,inserted:/^\+.*/m,string:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/m,command:{pattern:/^.*\$ git .*$/m,inside:{parameter:/\s--?\w+/m}},coord:/^@@.*@@$/m,"commit-sha1":/^commit \w{40}$/m},s.languages.go=s.languages.extend("clike",{string:{pattern:/(["'`])(?:\\[\s\S]|(?!\1)[^\\])*\1/,greedy:!0},keyword:/\b(?:break|case|chan|const|continue|default|defer|else|fallthrough|for|func|go(?:to)?|if|import|interface|map|package|range|return|select|struct|switch|type|var)\b/,boolean:/\b(?:_|iota|nil|true|false)\b/,number:/(?:\b0x[a-f\d]+|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[-+]?\d+)?)i?/i,operator:/[*\/%^!=]=?|\+[=+]?|-[=-]?|\|[=|]?|&(?:=|&|\^=?)?|>(?:>=?|=)?|<(?:<=?|=|-)?|:=|\.\.\./,builtin:/\b(?:bool|byte|complex(?:64|128)|error|float(?:32|64)|rune|string|u?int(?:8|16|32|64)?|uintptr|append|cap|close|complex|copy|delete|imag|len|make|new|panic|print(?:ln)?|real|recover)\b/}),delete s.languages.go["class-name"],s.languages.graphql={comment:/#.*/,description:{pattern:/(?:"""(?:[^"]|(?!""")")*"""|"(?:\\.|[^\\"\r\n])*")(?=\s*[a-z_])/i,greedy:!0,alias:"string",inside:{"language-markdown":{pattern:/(^"(?:"")?)(?!\1)[\s\S]+(?=\1$)/,lookbehind:!0,inside:s.languages.markdown}}},string:{pattern:/"""(?:[^"]|(?!""")")*"""|"(?:\\.|[^\\"\r\n])*"/,greedy:!0},number:/(?:\B-|\b)\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,boolean:/\b(?:true|false)\b/,variable:/\$[a-z_]\w*/i,directive:{pattern:/@[a-z_]\w*/i,alias:"function"},"attr-name":{pattern:/[a-z_]\w*(?=\s*(?:\((?:[^()"]|"(?:\\.|[^\\"\r\n])*")*\))?:)/i,greedy:!0},"class-name":{pattern:/(\b(?:enum|implements|interface|on|scalar|type|union)\s+|&\s*)[a-zA-Z_]\w*/,lookbehind:!0},fragment:{pattern:/(\bfragment\s+|\.{3}\s*(?!on\b))[a-zA-Z_]\w*/,lookbehind:!0,alias:"function"},keyword:/\b(?:directive|enum|extend|fragment|implements|input|interface|mutation|on|query|repeatable|scalar|schema|subscription|type|union)\b/,operator:/[!=|&]|\.{3}/,punctuation:/[!(){}\[\]:=,]/,constant:/\b(?!ID\b)[A-Z][A-Z_\d]*\b/},function(t){function e(t,e){return"___"+t.toUpperCase()+e+"___"}Object.defineProperties(t.languages["markup-templating"]={},{buildPlaceholders:{value:function(n,r,i,o){if(n.language===r){var a=n.tokenStack=[];n.code=n.code.replace(i,(function(t){if("function"===typeof o&&!o(t))return t;var i,s=a.length;while(-1!==n.code.indexOf(i=e(r,s)))++s;return a[s]=t,i})),n.grammar=t.languages.markup}}},tokenizePlaceholders:{value:function(n,r){if(n.language===r&&n.tokenStack){n.grammar=t.languages[r];var i=0,o=Object.keys(n.tokenStack);a(n.tokens)}function a(s){for(var c=0;c<s.length;c++){if(i>=o.length)break;var l=s[c];if("string"===typeof l||l.content&&"string"===typeof l.content){var u=o[i],h=n.tokenStack[u],f="string"===typeof l?l:l.content,d=e(r,u),p=f.indexOf(d);if(p>-1){++i;var g=f.substring(0,p),m=new t.Token(r,t.tokenize(h,n.grammar),"language-"+r,h),v=f.substring(p+d.length),b=[];g&&b.push.apply(b,a([g])),b.push(m),v&&b.push.apply(b,a([v])),"string"===typeof l?s.splice.apply(s,[c,1].concat(b)):l.content=b}}else l.content&&a(l.content)}return s}}}})}(s),function(t){t.languages.handlebars={comment:/\{\{![\s\S]*?\}\}/,delimiter:{pattern:/^\{\{\{?|\}\}\}?$/i,alias:"punctuation"},string:/(["'])(?:\\.|(?!\1)[^\\\r\n])*\1/,number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee][+-]?\d+)?/,boolean:/\b(?:true|false)\b/,block:{pattern:/^(\s*(?:~\s*)?)[#\/]\S+?(?=\s*(?:~\s*)?$|\s)/i,lookbehind:!0,alias:"keyword"},brackets:{pattern:/\[[^\]]+\]/,inside:{punctuation:/\[|\]/,variable:/[\s\S]+/}},punctuation:/[!"#%&':()*+,.\/;<=>@\[\\\]^`{|}~]/,variable:/[^!"#%&'()*+,\/;<=>@\[\\\]^`{|}~\s]+/},t.hooks.add("before-tokenize",(function(e){var n=/\{\{\{[\s\S]+?\}\}\}|\{\{[\s\S]+?\}\}/g;t.languages["markup-templating"].buildPlaceholders(e,"handlebars",n)})),t.hooks.add("after-tokenize",(function(e){t.languages["markup-templating"].tokenizePlaceholders(e,"handlebars")}))}(s),s.languages.json={property:{pattern:/"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,greedy:!0},string:{pattern:/"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:true|false)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},s.languages.webmanifest=s.languages.json,s.languages.less=s.languages.extend("css",{comment:[/\/\*[\s\S]*?\*\//,{pattern:/(^|[^\\])\/\/.*/,lookbehind:!0}],atrule:{pattern:/@[\w-](?:\((?:[^(){}]|\([^(){}]*\))*\)|[^(){};\s]|\s+(?!\s))*?(?=\s*\{)/,inside:{punctuation:/[:()]/}},selector:{pattern:/(?:@\{[\w-]+\}|[^{};\s@])(?:@\{[\w-]+\}|\((?:[^(){}]|\([^(){}]*\))*\)|[^(){};@\s]|\s+(?!\s))*?(?=\s*\{)/,inside:{variable:/@+[\w-]+/}},property:/(?:@\{[\w-]+\}|[\w-])+(?:\+_?)?(?=\s*:)/i,operator:/[+\-*\/]/}),s.languages.insertBefore("less","property",{variable:[{pattern:/@[\w-]+\s*:/,inside:{punctuation:/:/}},/@@?[\w-]+/],"mixin-usage":{pattern:/([{;]\s*)[.#](?!\d)[\w-].*?(?=[(;])/,lookbehind:!0,alias:"function"}}),s.languages.makefile={comment:{pattern:/(^|[^\\])#(?:\\(?:\r\n|[\s\S])|[^\\\r\n])*/,lookbehind:!0},string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},builtin:/\.[A-Z][^:#=\s]+(?=\s*:(?!=))/,symbol:{pattern:/^(?:[^:=\s]|[ \t]+(?![\s:]))+(?=\s*:(?!=))/m,inside:{variable:/\$+(?:(?!\$)[^(){}:#=\s]+|(?=[({]))/}},variable:/\$+(?:(?!\$)[^(){}:#=\s]+|\([@*%<^+?][DF]\)|(?=[({]))/,keyword:[/-include\b|\b(?:define|else|endef|endif|export|ifn?def|ifn?eq|include|override|private|sinclude|undefine|unexport|vpath)\b/,{pattern:/(\()(?:addsuffix|abspath|and|basename|call|dir|error|eval|file|filter(?:-out)?|findstring|firstword|flavor|foreach|guile|if|info|join|lastword|load|notdir|or|origin|patsubst|realpath|shell|sort|strip|subst|suffix|value|warning|wildcard|word(?:s|list)?)(?=[ \t])/,lookbehind:!0}],operator:/(?:::|[?:+!])?=|[|@]/,punctuation:/[:;(){}]/},function(t){var e=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?!\n|\r\n?))/.source;function n(t){return t=t.replace(/<inner>/g,(function(){return e})),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+t+")")}var r=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,i=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,(function(){return r})),o=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source;t.languages.markdown=t.languages.extend("markup",{}),t.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"font-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:t.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+i+o+"(?:"+i+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+i+o+")(?:"+i+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(r),inside:t.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+i+")"+o+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+i+"$"),inside:{"table-header":{pattern:RegExp(r),alias:"important",inside:t.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/``.+?``|`[^`\r\n]+`/,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:n(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:n(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:n(/(~~?)(?:(?!~)<inner>)+?\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},url:{pattern:n(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach((function(e){["url","bold","italic","strike"].forEach((function(n){e!==n&&(t.languages.markdown[e].inside.content.inside[n]=t.languages.markdown[n])}))})),t.hooks.add("after-tokenize",(function(t){function e(t){if(t&&"string"!==typeof t)for(var n=0,r=t.length;n<r;n++){var i=t[n];if("code"===i.type){var o=i.content[1],a=i.content[3];if(o&&a&&"code-language"===o.type&&"code-block"===a.type&&"string"===typeof o.content){var s=o.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp");s=(/[a-z][\w-]*/i.exec(s)||[""])[0].toLowerCase();var c="language-"+s;a.alias?"string"===typeof a.alias?a.alias=[a.alias,c]:a.alias.push(c):a.alias=[c]}}else e(i.content)}}"markdown"!==t.language&&"md"!==t.language||e(t.tokens)})),t.hooks.add("wrap",(function(e){if("code-block"===e.type){for(var n="",r=0,i=e.classes.length;r<i;r++){var o=e.classes[r],a=/language-(.+)/.exec(o);if(a){n=a[1];break}}var s=t.languages[n];if(s){var c=e.content.replace(/&lt;/g,"<").replace(/&amp;/g,"&");e.content=t.highlight(c,s,n)}else if(n&&"none"!==n&&t.plugins.autoloader){var l="md-"+(new Date).valueOf()+"-"+Math.floor(1e16*Math.random());e.attributes["id"]=l,t.plugins.autoloader.loadLanguages(n,(function(){var e=document.getElementById(l);e&&(e.innerHTML=t.highlight(e.textContent,t.languages[n],n))}))}}})),t.languages.md=t.languages.markdown}(s),s.languages.objectivec=s.languages.extend("c",{string:/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1|@"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,keyword:/\b(?:asm|typeof|inline|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|union|unsigned|void|volatile|while|in|self|super)\b|(?:@interface|@end|@implementation|@protocol|@class|@public|@protected|@private|@property|@try|@catch|@finally|@throw|@synthesize|@dynamic|@selector)\b/,operator:/-[->]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|\|?|[~^%?*\/@]/}),delete s.languages.objectivec["class-name"],s.languages.objc=s.languages.objectivec,s.languages.ocaml={comment:/\(\*[\s\S]*?\*\)/,string:[{pattern:/"(?:\\.|[^\\\r\n"])*"/,greedy:!0},{pattern:/(['`])(?:\\(?:\d+|x[\da-f]+|.)|(?!\1)[^\\\r\n])\1/i,greedy:!0}],number:/\b(?:0x[\da-f][\da-f_]+|(?:0[bo])?\d[\d_]*(?:\.[\d_]*)?(?:e[+-]?[\d_]+)?)/i,directive:{pattern:/\B#\w+/,alias:"important"},label:{pattern:/\B~\w+/,alias:"function"},"type-variable":{pattern:/\B'\w+/,alias:"function"},variant:{pattern:/`\w+/,alias:"variable"},module:{pattern:/\b[A-Z]\w+/,alias:"variable"},keyword:/\b(?:as|assert|begin|class|constraint|do|done|downto|else|end|exception|external|for|fun|function|functor|if|in|include|inherit|initializer|lazy|let|match|method|module|mutable|new|nonrec|object|of|open|private|rec|sig|struct|then|to|try|type|val|value|virtual|when|where|while|with)\b/,boolean:/\b(?:false|true)\b/,operator:/:=|[=<>@^|&+\-*\/$%!?~][!$%&*+\-.\/:<=>?@^|~]*|\b(?:and|asr|land|lor|lsl|lsr|lxor|mod|or)\b/,punctuation:/[(){}\[\]|.,:;]|\b_\b/},s.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0},"string-interpolation":{pattern:/(?:f|rf|fr)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:{{)*){(?!{)(?:[^{}]|{(?!{)(?:[^{}]|{(?!{)(?:[^{}])+})+})+}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|rb|br)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|rb|br)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^\s*)@\w+(?:\.\w+)*/im,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:and|as|assert|async|await|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:True|False|None)\b/,number:/(?:\b(?=\d)|\B(?=\.))(?:0[bo])?(?:(?:\d|0x[\da-f])[\da-f]*(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?j?\b/i,operator:/[-+%=]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},s.languages.python["string-interpolation"].inside["interpolation"].inside.rest=s.languages.python,s.languages.py=s.languages.python,s.languages.reason=s.languages.extend("clike",{string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^\\\r\n"])*"/,greedy:!0},"class-name":/\b[A-Z]\w*/,keyword:/\b(?:and|as|assert|begin|class|constraint|do|done|downto|else|end|exception|external|for|fun|function|functor|if|in|include|inherit|initializer|lazy|let|method|module|mutable|new|nonrec|object|of|open|or|private|rec|sig|struct|switch|then|to|try|type|val|virtual|when|while|with)\b/,operator:/\.{3}|:[:=]|\|>|->|=(?:==?|>)?|<=?|>=?|[|^?'#!~`]|[+\-*\/]\.?|\b(?:mod|land|lor|lxor|lsl|lsr|asr)\b/}),s.languages.insertBefore("reason","class-name",{character:{pattern:/'(?:\\x[\da-f]{2}|\\o[0-3][0-7][0-7]|\\\d{3}|\\.|[^'\\\r\n])'/,alias:"string"},constructor:{pattern:/\b[A-Z]\w*\b(?!\s*\.)/,alias:"variable"},label:{pattern:/\b[a-z]\w*(?=::)/,alias:"symbol"}}),delete s.languages.reason["function"],function(t){t.languages.sass=t.languages.extend("css",{comment:{pattern:/^([ \t]*)\/[\/*].*(?:(?:\r?\n|\r)\1[ \t].+)*/m,lookbehind:!0}}),t.languages.insertBefore("sass","atrule",{"atrule-line":{pattern:/^(?:[ \t]*)[@+=].+/m,inside:{atrule:/(?:@[\w-]+|[+=])/m}}}),delete t.languages.sass.atrule;var e=/\$[-\w]+|#\{\$[-\w]+\}/,n=[/[+*\/%]|[=!]=|<=?|>=?|\b(?:and|or|not)\b/,{pattern:/(\s+)-(?=\s)/,lookbehind:!0}];t.languages.insertBefore("sass","property",{"variable-line":{pattern:/^[ \t]*\$.+/m,inside:{punctuation:/:/,variable:e,operator:n}},"property-line":{pattern:/^[ \t]*(?:[^:\s]+ *:.*|:[^:\s].*)/m,inside:{property:[/[^:\s]+(?=\s*:)/,{pattern:/(:)[^:\s]+/,lookbehind:!0}],punctuation:/:/,variable:e,operator:n,important:t.languages.sass.important}}}),delete t.languages.sass.property,delete t.languages.sass.important,t.languages.insertBefore("sass","punctuation",{selector:{pattern:/([ \t]*)\S(?:,[^,\r\n]+|[^,\r\n]*)(?:,[^,\r\n]+)*(?:,(?:\r?\n|\r)\1[ \t]+\S(?:,[^,\r\n]+|[^,\r\n]*)(?:,[^,\r\n]+)*)*/,lookbehind:!0}})}(s),s.languages.scss=s.languages.extend("css",{comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0},atrule:{pattern:/@[\w-](?:\([^()]+\)|[^()\s]|\s+(?!\s))*?(?=\s+[{;])/,inside:{rule:/@[\w-]+/}},url:/(?:[-a-z]+-)?url(?=\()/i,selector:{pattern:/(?=\S)[^@;{}()]?(?:[^@;{}()\s]|\s+(?!\s)|#\{\$[-\w]+\})+(?=\s*\{(?:\}|\s|[^}][^:{}]*[:{][^}]+))/m,inside:{parent:{pattern:/&/,alias:"important"},placeholder:/%[-\w]+/,variable:/\$[-\w]+|#\{\$[-\w]+\}/}},property:{pattern:/(?:[-\w]|\$[-\w]|#\{\$[-\w]+\})+(?=\s*:)/,inside:{variable:/\$[-\w]+|#\{\$[-\w]+\}/}}}),s.languages.insertBefore("scss","atrule",{keyword:[/@(?:if|else(?: if)?|forward|for|each|while|import|use|extend|debug|warn|mixin|include|function|return|content)\b/i,{pattern:/( +)(?:from|through)(?= )/,lookbehind:!0}]}),s.languages.insertBefore("scss","important",{variable:/\$[-\w]+|#\{\$[-\w]+\}/}),s.languages.insertBefore("scss","function",{"module-modifier":{pattern:/\b(?:as|with|show|hide)\b/i,alias:"keyword"},placeholder:{pattern:/%[-\w]+/,alias:"selector"},statement:{pattern:/\B!(?:default|optional)\b/i,alias:"keyword"},boolean:/\b(?:true|false)\b/,null:{pattern:/\bnull\b/,alias:"keyword"},operator:{pattern:/(\s)(?:[-+*\/%]|[=!]=|<=?|>=?|and|or|not)(?=\s)/,lookbehind:!0}}),s.languages.scss["atrule"].inside.rest=s.languages.scss,s.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:_INSERT|COL)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:S|ING)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:TRUE|FALSE|NULL)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|IN|LIKE|NOT|OR|IS|DIV|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/},function(t){var e={pattern:/(\b\d+)(?:%|[a-z]+)/,lookbehind:!0},n={pattern:/(^|[^\w.-])-?(?:\d+(?:\.\d+)?|\.\d+)/,lookbehind:!0},r={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0},url:{pattern:/url\((["']?).*?\1\)/i,greedy:!0},string:{pattern:/("|')(?:(?!\1)[^\\\r\n]|\\(?:\r\n|[\s\S]))*\1/,greedy:!0},interpolation:null,func:null,important:/\B!(?:important|optional)\b/i,keyword:{pattern:/(^|\s+)(?:(?:if|else|for|return|unless)(?=\s+|$)|@[\w-]+)/,lookbehind:!0},hexcode:/#[\da-f]{3,6}/i,color:[/\b(?:AliceBlue|AntiqueWhite|Aqua|Aquamarine|Azure|Beige|Bisque|Black|BlanchedAlmond|Blue|BlueViolet|Brown|BurlyWood|CadetBlue|Chartreuse|Chocolate|Coral|CornflowerBlue|Cornsilk|Crimson|Cyan|DarkBlue|DarkCyan|DarkGoldenRod|DarkGr[ae]y|DarkGreen|DarkKhaki|DarkMagenta|DarkOliveGreen|DarkOrange|DarkOrchid|DarkRed|DarkSalmon|DarkSeaGreen|DarkSlateBlue|DarkSlateGr[ae]y|DarkTurquoise|DarkViolet|DeepPink|DeepSkyBlue|DimGr[ae]y|DodgerBlue|FireBrick|FloralWhite|ForestGreen|Fuchsia|Gainsboro|GhostWhite|Gold|GoldenRod|Gr[ae]y|Green|GreenYellow|HoneyDew|HotPink|IndianRed|Indigo|Ivory|Khaki|Lavender|LavenderBlush|LawnGreen|LemonChiffon|LightBlue|LightCoral|LightCyan|LightGoldenRodYellow|LightGr[ae]y|LightGreen|LightPink|LightSalmon|LightSeaGreen|LightSkyBlue|LightSlateGr[ae]y|LightSteelBlue|LightYellow|Lime|LimeGreen|Linen|Magenta|Maroon|MediumAquaMarine|MediumBlue|MediumOrchid|MediumPurple|MediumSeaGreen|MediumSlateBlue|MediumSpringGreen|MediumTurquoise|MediumVioletRed|MidnightBlue|MintCream|MistyRose|Moccasin|NavajoWhite|Navy|OldLace|Olive|OliveDrab|Orange|OrangeRed|Orchid|PaleGoldenRod|PaleGreen|PaleTurquoise|PaleVioletRed|PapayaWhip|PeachPuff|Peru|Pink|Plum|PowderBlue|Purple|Red|RosyBrown|RoyalBlue|SaddleBrown|Salmon|SandyBrown|SeaGreen|SeaShell|Sienna|Silver|SkyBlue|SlateBlue|SlateGr[ae]y|Snow|SpringGreen|SteelBlue|Tan|Teal|Thistle|Tomato|Transparent|Turquoise|Violet|Wheat|White|WhiteSmoke|Yellow|YellowGreen)\b/i,{pattern:/\b(?:rgb|hsl)\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*\)\B|\b(?:rgb|hsl)a\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*,\s*(?:0|0?\.\d+|1)\s*\)\B/i,inside:{unit:e,number:n,function:/[\w-]+(?=\()/,punctuation:/[(),]/}}],entity:/\\[\da-f]{1,8}/i,unit:e,boolean:/\b(?:true|false)\b/,operator:[/~|[+!\/%<>?=]=?|[-:]=|\*[*=]?|\.{2,3}|&&|\|\||\B-\B|\b(?:and|in|is(?: a| defined| not|nt)?|not|or)\b/],number:n,punctuation:/[{}()\[\];:,]/};r["interpolation"]={pattern:/\{[^\r\n}:]+\}/,alias:"variable",inside:{delimiter:{pattern:/^{|}$/,alias:"punctuation"},rest:r}},r["func"]={pattern:/[\w-]+\([^)]*\).*/,inside:{function:/^[^(]+/,rest:r}},t.languages.stylus={"atrule-declaration":{pattern:/(^\s*)@.+/m,lookbehind:!0,inside:{atrule:/^@[\w-]+/,rest:r}},"variable-declaration":{pattern:/(^[ \t]*)[\w$-]+\s*.?=[ \t]*(?:\{[^{}]*\}|\S.*|$)/m,lookbehind:!0,inside:{variable:/^\S+/,rest:r}},statement:{pattern:/(^[ \t]*)(?:if|else|for|return|unless)[ \t].+/m,lookbehind:!0,inside:{keyword:/^\S+/,rest:r}},"property-declaration":{pattern:/((?:^|\{)([ \t]*))(?:[\w-]|\{[^}\r\n]+\})+(?:\s*:\s*|[ \t]+)(?!\s)[^{\r\n]*(?:;|[^{\r\n,](?=$)(?!(?:\r?\n|\r)(?:\{|\2[ \t]+)))/m,lookbehind:!0,inside:{property:{pattern:/^[^\s:]+/,inside:{interpolation:r.interpolation}},rest:r}},selector:{pattern:/(^[ \t]*)(?:(?=\S)(?:[^{}\r\n:()]|::?[\w-]+(?:\([^)\r\n]*\)|(?![\w-]))|\{[^}\r\n]+\})+)(?:(?:\r?\n|\r)(?:\1(?:(?=\S)(?:[^{}\r\n:()]|::?[\w-]+(?:\([^)\r\n]*\)|(?![\w-]))|\{[^}\r\n]+\})+)))*(?:,$|\{|(?=(?:\r?\n|\r)(?:\{|\1[ \t]+)))/m,lookbehind:!0,inside:{interpolation:r.interpolation,comment:r.comment,punctuation:/[{},]/}},func:r.func,string:r.string,comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0,greedy:!0},interpolation:r.interpolation,punctuation:/[{}()\[\];:.]/}}(s),function(t){t.languages.typescript=t.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},keyword:/\b(?:abstract|as|asserts|async|await|break|case|catch|class|const|constructor|continue|debugger|declare|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|is|keyof|let|module|namespace|new|null|of|package|private|protected|public|readonly|return|require|set|static|super|switch|this|throw|try|type|typeof|undefined|var|void|while|with|yield)\b/,builtin:/\b(?:string|Function|any|number|boolean|Array|symbol|console|Promise|unknown|never)\b/}),delete t.languages.typescript["parameter"];var e=t.languages.extend("typescript",{});delete e["class-name"],t.languages.typescript["class-name"].inside=e,t.languages.insertBefore("typescript","function",{"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:e}}}}),t.languages.ts=t.languages.typescript}(s),function(t){var e=t.util.clone(t.languages.typescript);t.languages.tsx=t.languages.extend("jsx",e);var n=t.languages.tsx.tag;n.pattern=RegExp(/(^|[^\w$]|(?=<\/))/.source+"(?:"+n.pattern.source+")",n.pattern.flags),n.lookbehind=!0}(s),s.languages.wasm={comment:[/\(;[\s\S]*?;\)/,{pattern:/;;.*/,greedy:!0}],string:{pattern:/"(?:\\[\s\S]|[^"\\])*"/,greedy:!0},keyword:[{pattern:/\b(?:align|offset)=/,inside:{operator:/=/}},{pattern:/\b(?:(?:f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|nearest|neg?|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|store(?:8|16|32)?|sqrt|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))?|memory\.(?:grow|size))\b/,inside:{punctuation:/\./}},/\b(?:anyfunc|block|br(?:_if|_table)?|call(?:_indirect)?|data|drop|elem|else|end|export|func|get_(?:global|local)|global|if|import|local|loop|memory|module|mut|nop|offset|param|result|return|select|set_(?:global|local)|start|table|tee_local|then|type|unreachable)\b/],variable:/\$[\w!#$%&'*+\-./:<=>?@\\^_`|~]+/i,number:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/,punctuation:/[()]/},function(t){var e=/[*&][^\s[\]{},]+/,n=/!(?:<[\w\-%#;/?:@&=+$,.!~*'()[\]]+>|(?:[a-zA-Z\d-]*!)?[\w\-%#;/?:@&=+$.~*'()]+)?/,r="(?:"+n.source+"(?:[ \t]+"+e.source+")?|"+e.source+"(?:[ \t]+"+n.source+")?)",i=/(?:[^\s\x00-\x08\x0e-\x1f!"#%&'*,\-:>?@[\]`{|}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]|[?:-]<PLAIN>)(?:[ \t]*(?:(?![#:])<PLAIN>|:<PLAIN>))*/.source.replace(/<PLAIN>/g,(function(){return/[^\s\x00-\x08\x0e-\x1f,[\]{}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]/.source})),o=/"(?:[^"\\\r\n]|\\.)*"|'(?:[^'\\\r\n]|\\.)*'/.source;function a(t,e){e=(e||"").replace(/m/g,"")+"m";var n=/([:\-,[{]\s*(?:\s<<prop>>[ \t]+)?)(?:<<value>>)(?=[ \t]*(?:$|,|]|}|(?:[\r\n]\s*)?#))/.source.replace(/<<prop>>/g,(function(){return r})).replace(/<<value>>/g,(function(){return t}));return RegExp(n,e)}t.languages.yaml={scalar:{pattern:RegExp(/([\-:]\s*(?:\s<<prop>>[ \t]+)?[|>])[ \t]*(?:((?:\r?\n|\r)[ \t]+)\S[^\r\n]*(?:\2[^\r\n]+)*)/.source.replace(/<<prop>>/g,(function(){return r}))),lookbehind:!0,alias:"string"},comment:/#.*/,key:{pattern:RegExp(/((?:^|[:\-,[{\r\n?])[ \t]*(?:<<prop>>[ \t]+)?)<<key>>(?=\s*:\s)/.source.replace(/<<prop>>/g,(function(){return r})).replace(/<<key>>/g,(function(){return"(?:"+i+"|"+o+")"}))),lookbehind:!0,greedy:!0,alias:"atrule"},directive:{pattern:/(^[ \t]*)%.+/m,lookbehind:!0,alias:"important"},datetime:{pattern:a(/\d{4}-\d\d?-\d\d?(?:[tT]|[ \t]+)\d\d?:\d{2}:\d{2}(?:\.\d*)?(?:[ \t]*(?:Z|[-+]\d\d?(?::\d{2})?))?|\d{4}-\d{2}-\d{2}|\d\d?:\d{2}(?::\d{2}(?:\.\d*)?)?/.source),lookbehind:!0,alias:"number"},boolean:{pattern:a(/true|false/.source,"i"),lookbehind:!0,alias:"important"},null:{pattern:a(/null|~/.source,"i"),lookbehind:!0,alias:"important"},string:{pattern:a(o),lookbehind:!0,greedy:!0},number:{pattern:a(/[+-]?(?:0x[\da-f]+|0o[0-7]+|(?:\d+(?:\.\d*)?|\.?\d+)(?:e[+-]?\d+)?|\.inf|\.nan)/.source,"i"),lookbehind:!0},tag:n,important:e,punctuation:/---|[:[\]{}\-,|>?]|\.\.\./},t.languages.yml=t.languages.yaml}(s);var c=s,l={plain:{backgroundColor:"#2a2734",color:"#9a86fd"},styles:[{types:["comment","prolog","doctype","cdata","punctuation"],style:{color:"#6c6783"}},{types:["namespace"],style:{opacity:.7}},{types:["tag","operator","number"],style:{color:"#e09142"}},{types:["property","function"],style:{color:"#9a86fd"}},{types:["tag-id","selector","atrule-id"],style:{color:"#eeebff"}},{types:["attr-name"],style:{color:"#c4b9fe"}},{types:["boolean","string","entity","url","attr-value","keyword","control","directive","unit","statement","regex","at-rule","placeholder","variable"],style:{color:"#ffcc99"}},{types:["deleted"],style:{textDecorationLine:"line-through"}},{types:["inserted"],style:{textDecorationLine:"underline"}},{types:["italic"],style:{fontStyle:"italic"}},{types:["important","bold"],style:{fontWeight:"bold"}},{types:["important"],style:{color:"#c4b9fe"}}]},u=l,h={Prism:c,theme:u};function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d(){return d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d.apply(this,arguments)}var p=/\r\n|\r|\n/,g=function(t){0===t.length?t.push({types:["plain"],content:"\n",empty:!0}):1===t.length&&""===t[0].content&&(t[0].content="\n",t[0].empty=!0)},m=function(t,e){var n=t.length;return n>0&&t[n-1]===e?t:t.concat(e)},v=function(t){var e=[[]],n=[t],r=[0],i=[t.length],o=0,a=0,s=[],c=[s];while(a>-1){while((o=r[a]++)<i[a]){var l=void 0,u=e[a],h=n[a],f=h[o];if("string"===typeof f?(u=a>0?u:["plain"],l=f):(u=m(u,f.type),f.alias&&(u=m(u,f.alias)),l=f.content),"string"===typeof l){var d=l.split(p),v=d.length;s.push({types:u,content:d[0]});for(var b=1;b<v;b++)g(s),c.push(s=[]),s.push({types:u,content:d[b]})}else a++,e.push(u),n.push(l),r.push(0),i.push(l.length)}a--,e.pop(),n.pop(),r.pop(),i.pop()}return g(s),c},b=function(t,e){var n=t.plain,r=Object.create(null),i=t.styles.reduce((function(t,n){var r=n.languages,i=n.style;return r&&!r.includes(e)||n.types.forEach((function(e){var n=d({},t[e],i);t[e]=n})),t}),r);return i.root=n,i.plain=d({},n,{backgroundColor:null}),i};function y(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&-1===e.indexOf(r)&&(n[r]=t[r]);return n}var w=function(t){function e(){var e=this,n=[],r=arguments.length;while(r--)n[r]=arguments[r];t.apply(this,n),f(this,"getThemeDict",(function(t){if(void 0!==e.themeDict&&t.theme===e.prevTheme&&t.language===e.prevLanguage)return e.themeDict;e.prevTheme=t.theme,e.prevLanguage=t.language;var n=t.theme?b(t.theme,t.language):void 0;return e.themeDict=n})),f(this,"getLineProps",(function(t){var n=t.key,r=t.className,i=t.style,o=y(t,["key","className","style","line"]),a=o,s=d({},a,{className:"token-line",style:void 0,key:void 0}),c=e.getThemeDict(e.props);return void 0!==c&&(s.style=c.plain),void 0!==i&&(s.style=void 0!==s.style?d({},s.style,i):i),void 0!==n&&(s.key=n),r&&(s.className+=" "+r),s})),f(this,"getStyleForToken",(function(t){var n=t.types,r=t.empty,i=n.length,o=e.getThemeDict(e.props);if(void 0!==o){if(1===i&&"plain"===n[0])return r?{display:"inline-block"}:void 0;if(1===i&&!r)return o[n[0]];var a=r?{display:"inline-block"}:{},s=n.map((function(t){return o[t]}));return Object.assign.apply(Object,[a].concat(s))}})),f(this,"getTokenProps",(function(t){var n=t.key,r=t.className,i=t.style,o=t.token,a=y(t,["key","className","style","token"]),s=a,c=d({},s,{className:"token "+o.types.join(" "),children:o.content,style:e.getStyleForToken(o),key:void 0});return void 0!==i&&(c.style=void 0!==c.style?d({},c.style,i):i),void 0!==n&&(c.key=n),r&&(c.className+=" "+r),c})),f(this,"tokenize",(function(t,e,n,r){var i={code:e,grammar:n,language:r,tokens:[]};t.hooks.run("before-tokenize",i);var o=i.tokens=t.tokenize(i.code,i.grammar,i.language);return t.hooks.run("after-tokenize",i),o}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){var t=this.props,e=t.Prism,n=t.language,r=t.code,i=t.children,o=this.getThemeDict(this.props),a=e.languages[n],s=void 0!==a?this.tokenize(e,r,a,n):[r],c=v(s);return i({tokens:c,className:"prism-code language-"+n,style:void 0!==o?o.root:{},getLineProps:this.getLineProps,getTokenProps:this.getTokenProps})},e}(o["Component"]),_=w,x=n("dEAq");n("qHiR"),n("LMrN"),e["a"]=t=>{var e=t.code,n=t.lang,o=t.showCopy,s=void 0===o||o,c=Object(x["useCopy"])(),l=Object(i["a"])(c,2),u=l[0],f=l[1];return a.a.createElement("div",{className:"__dumi-default-code-block"},a.a.createElement(_,Object(r["a"])({},h,{code:e,language:n,theme:void 0}),(t=>{var n=t.className,r=t.style,i=t.tokens,o=t.getLineProps,c=t.getTokenProps;return a.a.createElement("pre",{className:n,style:r},s&&a.a.createElement("button",{className:"__dumi-default-icon __dumi-default-code-block-copy-btn","data-status":f,onClick:()=>u(e)}),i.map(((t,e)=>a.a.createElement("div",o({line:t,key:e}),t.map(((t,e)=>a.a.createElement("span",c({token:t,key:e}))))))))})))}},a3WO:function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n.d(e,"a",(function(){return r}))},a5mf:function(t,e,n){var r=n("6ixQ"),i=n("tSXo"),o=n("jtLI"),a=n("YfKC").f,s=n("evbn"),c=n("R/Zn"),l=s("meta"),u=0,h=Object.isExtensible||function(){return!0},f=function(t){a(t,l,{value:{objectID:"O"+ ++u,weakData:{}}})},d=function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,l)){if(!h(t))return"F";if(!e)return"E";f(t)}return t[l].objectID},p=function(t,e){if(!o(t,l)){if(!h(t))return!0;if(!e)return!1;f(t)}return t[l].weakData},g=function(t){return c&&m.REQUIRED&&h(t)&&!o(t,l)&&f(t),t},m=t.exports={REQUIRED:!1,fastKey:d,getWeakData:p,onFreeze:g};r[l]=!0},aF2d:function(t,e,n){"use strict";var r=n("cT1L"),i=n("7BAe"),o=n("IuhT");t.exports=function(t){var e,n,a,s,c=arguments.length,l=c>1?arguments[1]:void 0;return r(this),e=void 0!==l,e&&r(l),void 0==t?new this:(n=[],e?(a=0,s=i(l,c>2?arguments[2]:void 0,2),o(t,(function(t){n.push(s(t,a++))}))):o(t,n.push,n),new this(n))}},aHGi:function(t,e,n){var r=n("I65O");r("toStringTag")},aKVN:function(t,e,n){"use strict";var r=n("f1E4"),i=n("gFfw");t.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return i(r(this),"number"!==t)}},aKtI:function(t,e,n){"use strict";var r=n("MMxC"),i=n("Zcjx"),o=n("f1E4"),a=n("cT1L"),s=n("IuhT");r({target:"Map",proto:!0,real:!0,forced:i},{merge:function(t){var e=o(this),n=a(e.set),r=0;while(r<arguments.length)s(arguments[r++],n,e,!0);return e}})},aLaE:function(t,e,n){var r=n("MMxC"),i=n("ls1J"),o=n("f1E4"),a=i.toKey,s=i.set;r({target:"Reflect",stat:!0},{metadata:function(t,e){return function(n,r){s(t,e,o(n),a(r))}}})},aNdP:function(t,e,n){var r=n("MMxC"),i=n("YMoz");r({target:"Math",stat:!0},{scale:i})},aRU8:function(t,e,n){var r=n("MMxC"),i=n("ukPv"),o=n("C3pJ"),a=!i.setImmediate||!i.clearImmediate;r({global:!0,bind:!0,enumerable:!0,forced:a},{setImmediate:o.set,clearImmediate:o.clear})},arQb:function(t,e,n){"use strict";var r=n("gFfw"),i=n("YfKC"),o=n("HhvW");t.exports=function(t,e,n){var a=r(e);a in t?i.f(t,a,o(0,n)):t[a]=n}},b6st:function(t,e,n){var r=n("ukPv");t.exports=r.Promise},bCY9:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("LtsZ"),i=new r["Plugin"]({validKeys:["modifyClientRenderOpts","patchRoutes","rootContainer","render","onRouteChange"]})},"bF+Q":function(t,e,n){var r=n("2kyd"),i=n("5yw/"),o=r("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||a[o]===t)}},bIKR:function(t,e,n){var r=n("m0kY"),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},bPAU:function(t,e,n){"use strict";var r=n("MMxC"),i=n("uoF6"),o=n("FCfD"),a=n("oa35"),s=n("cT1L"),c=n("f1E4"),l=n("UwrT"),u=n("YON3"),h=n("k/J9"),f=n("lz10"),d=n("MVys"),p=n("2kyd"),g=n("/dTS"),m=n("xH5X"),v=n("1aI8"),b=n("Zcjx"),y=p("matchAll"),w="RegExp String",_=w+" Iterator",x=v.set,S=v.getterFor(_),C=RegExp.prototype,E=C.exec,O="".matchAll,k=!!O&&!d((function(){"a".matchAll(/./)})),T=function(t,e){var n,r=t.exec;if("function"==typeof r){if(n=r.call(t,e),"object"!=typeof n)throw TypeError("Incorrect exec result");return n}return E.call(t,e)},j=i((function(t,e,n,r){x(this,{type:_,regexp:t,string:e,global:n,unicode:r,done:!1})}),w,(function(){var t=S(this);if(t.done)return{value:void 0,done:!0};var e=t.regexp,n=t.string,r=T(e,n);return null===r?{value:void 0,done:t.done=!0}:t.global?(""==String(r[0])&&(e.lastIndex=m(n,a(e.lastIndex),t.unicode)),{value:r,done:!1}):(t.done=!0,{value:r,done:!1})})),M=function(t){var e,n,r,i,o,s,l=c(this),u=String(t);return e=g(l,RegExp),n=l.flags,void 0===n&&l instanceof RegExp&&!("flags"in C)&&(n=h.call(l)),r=void 0===n?"":String(n),i=new e(e===RegExp?l.source:l,r),o=!!~r.indexOf("g"),s=!!~r.indexOf("u"),i.lastIndex=a(l.lastIndex),new j(i,u,o,s)};r({target:"String",proto:!0,forced:k},{matchAll:function(t){var e,n,r,i,a=o(this);if(null!=t){if(u(t)&&(e=String(o("flags"in C?t.flags:h.call(t))),!~e.indexOf("g")))throw TypeError("`.matchAll` does not allow non-global regexes");if(k)return O.apply(a,arguments);if(r=t[y],void 0===r&&b&&"RegExp"==l(t)&&(r=M),null!=r)return s(r).call(t,a)}else if(k)return O.apply(a,arguments);return n=String(a),i=new RegExp(t,"g"),b?M.call(i,n):i[y](n)}}),b||y in C||f(C,y,M)},bYHP:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var r=o(n("q1tI")),i=n("LtsZ");function o(t){return t&&t.__esModule?t:{default:t}}function a(){return a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a.apply(this,arguments)}function s(t){return t.offsetTop+(t.offsetParent?s(t.offsetParent):0)}var c=function t(e){var n,o=(null===(n=e.to.match(/(#.+)$/))||void 0===n?void 0:n[1])||"";return r["default"].createElement(i.NavLink,a({},e,{onClick:function(){return t.scrollToAnchor(o.substring(1))},isActive:function(t,e){return o&&decodeURIComponent(e.hash)===o}}))};c.scrollToAnchor=function(t){window.requestAnimationFrame((function(){var e=document.getElementById(decodeURIComponent(t));e&&window.scrollTo(0,s(e)-100)}))};var l=c;e["default"]=l},bcvT:function(t,e,n){var r=n("ukPv"),i=n("XX5T"),o=n("PHrn"),a=n("lz10");for(var s in i){var c=r[s],l=c&&c.prototype;if(l&&l.forEach!==o)try{a(l,"forEach",o)}catch(u){l.forEach=o}}},bdgK:function(t,e,n){"use strict";(function(t){var n=function(){if("undefined"!==typeof Map)return Map;function t(t,e){var n=-1;return t.some((function(t,r){return t[0]===e&&(n=r,!0)})),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var n=t(this.__entries__,e),r=this.__entries__[n];return r&&r[1]},e.prototype.set=function(e,n){var r=t(this.__entries__,e);~r?this.__entries__[r][1]=n:this.__entries__.push([e,n])},e.prototype["delete"]=function(e){var n=this.__entries__,r=t(n,e);~r&&n.splice(r,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];t.call(e,i[1],i[0])}},e}()}(),r="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,i=function(){return"undefined"!==typeof t&&t.Math===Math?t:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")()}(),o=function(){return"function"===typeof requestAnimationFrame?requestAnimationFrame.bind(i):function(t){return setTimeout((function(){return t(Date.now())}),1e3/60)}}(),a=2;function s(t,e){var n=!1,r=!1,i=0;function s(){n&&(n=!1,t()),r&&l()}function c(){o(s)}function l(){var t=Date.now();if(n){if(t-i<a)return;r=!0}else n=!0,r=!1,setTimeout(c,e);i=t}return l}var c=20,l=["top","right","bottom","left","width","height","size","weight"],u="undefined"!==typeof MutationObserver,h=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=s(this.refresh.bind(this),c)}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter((function(t){return t.gatherActive(),t.hasActive()}));return t.forEach((function(t){return t.broadcastActive()})),t.length>0},t.prototype.connect_=function(){r&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),u?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){r&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,n=void 0===e?"":e,r=l.some((function(t){return!!~n.indexOf(t)}));r&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),f=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},d=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||i},p=C(0,0,0,0);function g(t){return parseFloat(t)||0}function m(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce((function(e,n){var r=t["border-"+n+"-width"];return e+g(r)}),0)}function v(t){for(var e=["top","right","bottom","left"],n={},r=0,i=e;r<i.length;r++){var o=i[r],a=t["padding-"+o];n[o]=g(a)}return n}function b(t){var e=t.getBBox();return C(0,0,e.width,e.height)}function y(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return p;var r=d(t).getComputedStyle(t),i=v(r),o=i.left+i.right,a=i.top+i.bottom,s=g(r.width),c=g(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==e&&(s-=m(r,"left","right")+o),Math.round(c+a)!==n&&(c-=m(r,"top","bottom")+a)),!_(t)){var l=Math.round(s+o)-e,u=Math.round(c+a)-n;1!==Math.abs(l)&&(s-=l),1!==Math.abs(u)&&(c-=u)}return C(i.left,i.top,s,c)}var w=function(){return"undefined"!==typeof SVGGraphicsElement?function(t){return t instanceof d(t).SVGGraphicsElement}:function(t){return t instanceof d(t).SVGElement&&"function"===typeof t.getBBox}}();function _(t){return t===d(t).document.documentElement}function x(t){return r?w(t)?b(t):y(t):p}function S(t){var e=t.x,n=t.y,r=t.width,i=t.height,o="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(o.prototype);return f(a,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),a}function C(t,e,n,r){return{x:t,y:e,width:n,height:r}}var E=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=C(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t=x(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),O=function(){function t(t,e){var n=S(e);f(this,{target:t,contentRect:n})}return t}(),k=function(){function t(t,e,r){if(this.activeObservations_=[],this.observations_=new n,"function"!==typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=r}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(t instanceof d(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new E(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(t instanceof d(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e["delete"](t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach((function(e){e.isActive()&&t.activeObservations_.push(e)}))},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map((function(t){return new O(t.target,t.broadcastRect())}));this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),T="undefined"!==typeof WeakMap?new WeakMap:new n,j=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=h.getInstance(),r=new k(e,n,this);T.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach((function(t){j.prototype[t]=function(){var e;return(e=T.get(this))[t].apply(e,arguments)}}));var M=function(){return"undefined"!==typeof i.ResizeObserver?i.ResizeObserver:j}();e["a"]=M}).call(this,n("yLpj"))},beRK:function(t,e,n){"use strict";function r(){var t=o(n("q1tI"));return r=function(){return t},t}function i(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return i=function(){return t},t}function o(t){if(t&&t.__esModule)return t;if(null===t||"object"!==typeof t&&"function"!==typeof t)return{default:t};var e=i();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=r?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n["default"]=t,e&&e.set(t,n),n}function a(t,e){return h(t)||u(t,e)||c(t,e)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t,e){if(t){if("string"===typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function u(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0)if(n.push(a.value),e&&n.length===e)break}catch(err){i=!0,o=err}finally{try{r||null==s["return"]||s["return"]()}finally{if(i)throw o}}return n}}function h(t){if(Array.isArray(t))return t}function f(){return"BASEMENT"===Object({NODE_ENV:"production"}).PLATFORM_TYPE}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=e.getDemoUrl=e.getDemoRouteName=void 0;var d=function(){return f()?"_demos":"~demos"};e.getDemoRouteName=d;var p=function(t){var e,n=window,r=n.location,i=r.href,o=r.origin,s=i.split(/#\//),c=a(s,2),l=c[0],u=c[1],h="string"===typeof u;return[h?"".concat(l,"#"):o,"".concat((null===(e=window)||void 0===e?void 0:e.routerBase)||"","/").replace(/\/\/$/,"/"),d(),"/",t,f()?"/index.html":""].join("")};e.getDemoUrl=p;var g=function(t){var e=(0,r().useState)(""),n=a(e,2),i=n[0],o=n[1];return(0,r().useEffect)((function(){o(p(t))}),[t]),i};e["default"]=g},beyn:function(t,e,n){"use strict";var r=n("MMxC"),i=n("mTKU").end,o=n("HKQd"),a=o("trimEnd"),s=a?function(){return i(this)}:"".trimEnd;r({target:"String",proto:!0,forced:a},{trimEnd:s,trimRight:s})},bwJD:function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},c0go:function(t,e,n){"use strict";t.exports=function(t,e){for(var n={},r=Object.keys(t),i=Array.isArray(e),o=0;o<r.length;o++){var a=r[o],s=t[a];(i?-1!==e.indexOf(a):e(a,s,t))&&(n[a]=s)}return n}},cC5k:function(t,e,n){var r=n("29mP"),i=n("uGHk"),o=n("kyO0"),a=n("f1E4");t.exports=r("Reflect","ownKeys")||function(t){var e=i.f(a(t)),n=o.f;return n?e.concat(n(t)):e}},cDf5:function(t,e){function n(e){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?t.exports=n=function(t){return typeof t}:t.exports=n=function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(e)}t.exports=n},cT1L:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},cTDu:function(t,e,n){var r=n("FCfD");t.exports=function(t){return Object(r(t))}},"cr+I":function(t,e,n){"use strict";var r=n("J4zp"),i=n("Y3SK"),o=n("RIqP"),a=n("ZFOp"),s=n("8jRI"),c=n("8yz6"),l=n("c0go"),u=function(t){return null===t||void 0===t};function h(t){switch(t.arrayFormat){case"index":return function(e){return function(n,r){var i=n.length;return void 0===r||t.skipNull&&null===r||t.skipEmptyString&&""===r?n:[].concat(o(n),null===r?[[p(e,t),"[",i,"]"].join("")]:[[p(e,t),"[",p(i,t),"]=",p(r,t)].join("")])}};case"bracket":return function(e){return function(n,r){return void 0===r||t.skipNull&&null===r||t.skipEmptyString&&""===r?n:[].concat(o(n),null===r?[[p(e,t),"[]"].join("")]:[[p(e,t),"[]=",p(r,t)].join("")])}};case"comma":case"separator":return function(e){return function(n,r){return null===r||void 0===r||0===r.length?n:0===n.length?[[p(e,t),"=",p(r,t)].join("")]:[[n,p(r,t)].join(t.arrayFormatSeparator)]}};default:return function(e){return function(n,r){return void 0===r||t.skipNull&&null===r||t.skipEmptyString&&""===r?n:[].concat(o(n),null===r?[p(e,t)]:[[p(e,t),"=",p(r,t)].join("")])}}}}function f(t){var e;switch(t.arrayFormat){case"index":return function(t,n,r){e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),e?(void 0===r[t]&&(r[t]={}),r[t][e[1]]=n):r[t]=n};case"bracket":return function(t,n,r){e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),e?void 0!==r[t]?r[t]=[].concat(r[t],n):r[t]=[n]:r[t]=n};case"comma":case"separator":return function(e,n,r){var i="string"===typeof n&&n.includes(t.arrayFormatSeparator),o="string"===typeof n&&!i&&g(n,t).includes(t.arrayFormatSeparator);n=o?g(n,t):n;var a=i||o?n.split(t.arrayFormatSeparator).map((function(e){return g(e,t)})):null===n?n:g(n,t);r[e]=a};default:return function(t,e,n){void 0!==n[t]?n[t]=[].concat(n[t],e):n[t]=e}}}function d(t){if("string"!==typeof t||1!==t.length)throw new TypeError("arrayFormatSeparator must be single character string")}function p(t,e){return e.encode?e.strict?a(t):encodeURIComponent(t):t}function g(t,e){return e.decode?s(t):t}function m(t){return Array.isArray(t)?t.sort():"object"===typeof t?m(Object.keys(t)).sort((function(t,e){return Number(t)-Number(e)})).map((function(e){return t[e]})):t}function v(t){var e=t.indexOf("#");return-1!==e&&(t=t.slice(0,e)),t}function b(t){var e="",n=t.indexOf("#");return-1!==n&&(e=t.slice(n)),e}function y(t){t=v(t);var e=t.indexOf("?");return-1===e?"":t.slice(e+1)}function w(t,e){return e.parseNumbers&&!Number.isNaN(Number(t))&&"string"===typeof t&&""!==t.trim()?t=Number(t):!e.parseBooleans||null===t||"true"!==t.toLowerCase()&&"false"!==t.toLowerCase()||(t="true"===t.toLowerCase()),t}function _(t,e){e=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},e),d(e.arrayFormatSeparator);var n=f(e),o=Object.create(null);if("string"!==typeof t)return o;if(t=t.trim().replace(/^[?#&]/,""),!t)return o;var a,s=i(t.split("&"));try{for(s.s();!(a=s.n()).done;){var l=a.value;if(""!==l){var u=c(e.decode?l.replace(/\+/g," "):l,"="),h=r(u,2),p=h[0],v=h[1];v=void 0===v?null:["comma","separator"].includes(e.arrayFormat)?v:g(v,e),n(g(p,e),v,o)}}}catch(err){s.e(err)}finally{s.f()}for(var b=0,y=Object.keys(o);b<y.length;b++){var _=y[b],x=o[_];if("object"===typeof x&&null!==x)for(var S=0,C=Object.keys(x);S<C.length;S++){var E=C[S];x[E]=w(x[E],e)}else o[_]=w(x,e)}return!1===e.sort?o:(!0===e.sort?Object.keys(o).sort():Object.keys(o).sort(e.sort)).reduce((function(t,e){var n=o[e];return Boolean(n)&&"object"===typeof n&&!Array.isArray(n)?t[e]=m(n):t[e]=n,t}),Object.create(null))}e.extract=y,e.parse=_,e.stringify=function(t,e){if(!t)return"";e=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},e),d(e.arrayFormatSeparator);for(var n=function(n){return e.skipNull&&u(t[n])||e.skipEmptyString&&""===t[n]},r=h(e),i={},o=0,a=Object.keys(t);o<a.length;o++){var s=a[o];n(s)||(i[s]=t[s])}var c=Object.keys(i);return!1!==e.sort&&c.sort(e.sort),c.map((function(n){var i=t[n];return void 0===i?"":null===i?p(n,e):Array.isArray(i)?i.reduce(r(n),[]).join("&"):p(n,e)+"="+p(i,e)})).filter((function(t){return t.length>0})).join("&")},e.parseUrl=function(t,e){e=Object.assign({decode:!0},e);var n=c(t,"#"),i=r(n,2),o=i[0],a=i[1];return Object.assign({url:o.split("?")[0]||"",query:_(y(t),e)},e&&e.parseFragmentIdentifier&&a?{fragmentIdentifier:g(a,e)}:{})},e.stringifyUrl=function(t,n){n=Object.assign({encode:!0,strict:!0},n);var r=v(t.url).split("?")[0]||"",i=e.extract(t.url),o=e.parse(i,{sort:!1}),a=Object.assign(o,t.query),s=e.stringify(a,n);s&&(s="?".concat(s));var c=b(t.url);return t.fragmentIdentifier&&(c="#".concat(p(t.fragmentIdentifier,n))),"".concat(r).concat(s).concat(c)},e.pick=function(t,n,r){r=Object.assign({parseFragmentIdentifier:!0},r);var i=e.parseUrl(t,r),o=i.url,a=i.query,s=i.fragmentIdentifier;return e.stringifyUrl({url:o,query:l(a,n),fragmentIdentifier:s},r)},e.exclude=function(t,n,r){var i=Array.isArray(n)?function(t){return!n.includes(t)}:function(t,e){return!n(t,e)};return e.pick(t,i,r)}},"d/5L":function(t,e,n){"use strict";var r=n("MMxC"),i=n("Zcjx"),o=n("+X1D");r({target:"WeakMap",proto:!0,real:!0,forced:i},{deleteAll:function(){return o.apply(this,arguments)}})},dEAq:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"context",{enumerable:!0,get:function(){return r["default"]}}),Object.defineProperty(e,"Link",{enumerable:!0,get:function(){return i["default"]}}),Object.defineProperty(e,"NavLink",{enumerable:!0,get:function(){return o["default"]}}),Object.defineProperty(e,"AnchorLink",{enumerable:!0,get:function(){return a["default"]}}),Object.defineProperty(e,"useSearch",{enumerable:!0,get:function(){return s["default"]}}),Object.defineProperty(e,"useCopy",{enumerable:!0,get:function(){return c["default"]}}),Object.defineProperty(e,"useRiddle",{enumerable:!0,get:function(){return l["default"]}}),Object.defineProperty(e,"useMotions",{enumerable:!0,get:function(){return u["default"]}}),Object.defineProperty(e,"useCodeSandbox",{enumerable:!0,get:function(){return h["default"]}}),Object.defineProperty(e,"useLocaleProps",{enumerable:!0,get:function(){return f["default"]}}),Object.defineProperty(e,"useDemoUrl",{enumerable:!0,get:function(){return d["default"]}}),Object.defineProperty(e,"useApiData",{enumerable:!0,get:function(){return p["default"]}}),Object.defineProperty(e,"useTSPlaygroundUrl",{enumerable:!0,get:function(){return g["default"]}});var r=m(n("nLCz")),i=m(n("zqmC")),o=m(n("6asN")),a=m(n("bYHP")),s=m(n("t/kZ")),c=m(n("dfPH")),l=m(n("o0kM")),u=m(n("zYLY")),h=m(n("r1Q5")),f=m(n("U/TZ")),d=m(n("beRK")),p=m(n("3QDa")),g=m(n("7sf/"));function m(t){return t&&t.__esModule?t:{default:t}}},dI71:function(t,e,n){"use strict";function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}n.d(e,"a",(function(){return r}))},dLjG:function(t,e,n){var r=n("MMxC"),i=n("1H91"),o=n("GPrf"),a=!o((function(t){Array.from(t)}));r({target:"Array",stat:!0,forced:a},{from:i})},dagG:function(t,e,n){var r=n("UwrT"),i=n("NcLc");t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var o=n.call(t,e);if("object"!==typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(t))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},dfPH:function(t,e,n){"use strict";function r(){var t=s(n("q1tI"));return r=function(){return t},t}function i(){var t=o(n("WWur"));return i=function(){return t},t}function o(t){return t&&t.__esModule?t:{default:t}}function a(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return a=function(){return t},t}function s(t){if(t&&t.__esModule)return t;if(null===t||"object"!==typeof t&&"function"!==typeof t)return{default:t};var e=a();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}return n["default"]=t,e&&e.set(t,n),n}function c(t,e){return d(t)||f(t,e)||u(t,e)||l()}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(t,e){if(t){if("string"===typeof t)return h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(t,e):void 0}}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function f(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0)if(n.push(a.value),e&&n.length===e)break}catch(err){i=!0,o=err}finally{try{r||null==s["return"]||s["return"]()}finally{if(i)throw o}}return n}}function d(t){if(Array.isArray(t))return t}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var p=function(){var t=(0,r().useState)(),e=c(t,2),n=e[0],o=e[1],a=(0,r().useState)("ready"),s=c(a,2),l=s[0],u=s[1],h=(0,r().useCallback)((function(t){(0,i()["default"])(t),u("copied"),clearTimeout(n),o(setTimeout((function(){u("ready")}),2e3))}),[]);return[h,l]};e["default"]=p},dnEI:function(t,e,n){var r=n("ukPv");t.exports=function(t,e){var n=r.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}},dnZx:function(t,e,n){"use strict";n("KvPC");var r,i=n("MMxC"),o=n("tny8"),a=n("lgSf"),s=n("ukPv"),c=n("HctQ"),l=n("NMFW"),u=n("igoe"),h=n("jtLI"),f=n("qitQ"),d=n("1H91"),p=n("eYKs").codeAt,g=n("Di6M"),m=n("kiNa"),v=n("5JgN"),b=n("1aI8"),y=s.URL,w=v.URLSearchParams,_=v.getState,x=b.set,S=b.getterFor("URL"),C=Math.floor,E=Math.pow,O="Invalid authority",k="Invalid scheme",T="Invalid host",j="Invalid port",M=/[A-Za-z]/,A=/[\d+-.A-Za-z]/,P=/\d/,I=/^(0x|0X)/,R=/^[0-7]+$/,D=/^\d+$/,L=/^[\dA-Fa-f]+$/,N=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,F=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,B=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,U=/[\u0009\u000A\u000D]/g,W=function(t,e){var n,r,i;if("["==e.charAt(0)){if("]"!=e.charAt(e.length-1))return T;if(n=H(e.slice(1,-1)),!n)return T;t.host=n}else if(J(t)){if(e=g(e),N.test(e))return T;if(n=z(e),null===n)return T;t.host=n}else{if(F.test(e))return T;for(n="",r=d(e),i=0;i<r.length;i++)n+=q(r[i],X);t.host=n}},z=function(t){var e,n,r,i,o,a,s,c=t.split(".");if(c.length&&""==c[c.length-1]&&c.pop(),e=c.length,e>4)return t;for(n=[],r=0;r<e;r++){if(i=c[r],""==i)return t;if(o=10,i.length>1&&"0"==i.charAt(0)&&(o=I.test(i)?16:8,i=i.slice(8==o?1:2)),""===i)a=0;else{if(!(10==o?D:8==o?R:L).test(i))return t;a=parseInt(i,o)}n.push(a)}for(r=0;r<e;r++)if(a=n[r],r==e-1){if(a>=E(256,5-e))return null}else if(a>255)return null;for(s=n.pop(),r=0;r<n.length;r++)s+=n[r]*E(256,3-r);return s},H=function(t){var e,n,r,i,o,a,s,c=[0,0,0,0,0,0,0,0],l=0,u=null,h=0,f=function(){return t.charAt(h)};if(":"==f()){if(":"!=t.charAt(1))return;h+=2,l++,u=l}while(f()){if(8==l)return;if(":"!=f()){e=n=0;while(n<4&&L.test(f()))e=16*e+parseInt(f(),16),h++,n++;if("."==f()){if(0==n)return;if(h-=n,l>6)return;r=0;while(f()){if(i=null,r>0){if(!("."==f()&&r<4))return;h++}if(!P.test(f()))return;while(P.test(f())){if(o=parseInt(f(),10),null===i)i=o;else{if(0==i)return;i=10*i+o}if(i>255)return;h++}c[l]=256*c[l]+i,r++,2!=r&&4!=r||l++}if(4!=r)return;break}if(":"==f()){if(h++,!f())return}else if(f())return;c[l++]=e}else{if(null!==u)return;h++,l++,u=l}}if(null!==u){a=l-u,l=7;while(0!=l&&a>0)s=c[l],c[l--]=c[u+a-1],c[u+--a]=s}else if(8!=l)return;return c},Y=function(t){for(var e=null,n=1,r=null,i=0,o=0;o<8;o++)0!==t[o]?(i>n&&(e=r,n=i),r=null,i=0):(null===r&&(r=o),++i);return i>n&&(e=r,n=i),e},G=function(t){var e,n,r,i;if("number"==typeof t){for(e=[],n=0;n<4;n++)e.unshift(t%256),t=C(t/256);return e.join(".")}if("object"==typeof t){for(e="",r=Y(t),n=0;n<8;n++)i&&0===t[n]||(i&&(i=!1),r===n?(e+=n?":":"::",i=!0):(e+=t[n].toString(16),n<7&&(e+=":")));return"["+e+"]"}return t},X={},V=f({},X,{" ":1,'"':1,"<":1,">":1,"`":1}),K=f({},V,{"#":1,"?":1,"{":1,"}":1}),$=f({},K,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),q=function(t,e){var n=p(t,0);return n>32&&n<127&&!h(e,t)?t:encodeURIComponent(t)},Z={ftp:21,file:null,http:80,https:443,ws:80,wss:443},J=function(t){return h(Z,t.scheme)},Q=function(t){return""!=t.username||""!=t.password},tt=function(t){return!t.host||t.cannotBeABaseURL||"file"==t.scheme},et=function(t,e){var n;return 2==t.length&&M.test(t.charAt(0))&&(":"==(n=t.charAt(1))||!e&&"|"==n)},nt=function(t){var e;return t.length>1&&et(t.slice(0,2))&&(2==t.length||"/"===(e=t.charAt(2))||"\\"===e||"?"===e||"#"===e)},rt=function(t){var e=t.path,n=e.length;!n||"file"==t.scheme&&1==n&&et(e[0],!0)||e.pop()},it=function(t){return"."===t||"%2e"===t.toLowerCase()},ot=function(t){return t=t.toLowerCase(),".."===t||"%2e."===t||".%2e"===t||"%2e%2e"===t},at={},st={},ct={},lt={},ut={},ht={},ft={},dt={},pt={},gt={},mt={},vt={},bt={},yt={},wt={},_t={},xt={},St={},Ct={},Et={},Ot={},kt=function(t,e,n,i){var o,a,s,c,l=n||at,u=0,f="",p=!1,g=!1,m=!1;n||(t.scheme="",t.username="",t.password="",t.host=null,t.port=null,t.path=[],t.query=null,t.fragment=null,t.cannotBeABaseURL=!1,e=e.replace(B,"")),e=e.replace(U,""),o=d(e);while(u<=o.length){switch(a=o[u],l){case at:if(!a||!M.test(a)){if(n)return k;l=ct;continue}f+=a.toLowerCase(),l=st;break;case st:if(a&&(A.test(a)||"+"==a||"-"==a||"."==a))f+=a.toLowerCase();else{if(":"!=a){if(n)return k;f="",l=ct,u=0;continue}if(n&&(J(t)!=h(Z,f)||"file"==f&&(Q(t)||null!==t.port)||"file"==t.scheme&&!t.host))return;if(t.scheme=f,n)return void(J(t)&&Z[t.scheme]==t.port&&(t.port=null));f="","file"==t.scheme?l=yt:J(t)&&i&&i.scheme==t.scheme?l=lt:J(t)?l=dt:"/"==o[u+1]?(l=ut,u++):(t.cannotBeABaseURL=!0,t.path.push(""),l=Ct)}break;case ct:if(!i||i.cannotBeABaseURL&&"#"!=a)return k;if(i.cannotBeABaseURL&&"#"==a){t.scheme=i.scheme,t.path=i.path.slice(),t.query=i.query,t.fragment="",t.cannotBeABaseURL=!0,l=Ot;break}l="file"==i.scheme?yt:ht;continue;case lt:if("/"!=a||"/"!=o[u+1]){l=ht;continue}l=pt,u++;break;case ut:if("/"==a){l=gt;break}l=St;continue;case ht:if(t.scheme=i.scheme,a==r)t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,t.path=i.path.slice(),t.query=i.query;else if("/"==a||"\\"==a&&J(t))l=ft;else if("?"==a)t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,t.path=i.path.slice(),t.query="",l=Et;else{if("#"!=a){t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,t.path=i.path.slice(),t.path.pop(),l=St;continue}t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,t.path=i.path.slice(),t.query=i.query,t.fragment="",l=Ot}break;case ft:if(!J(t)||"/"!=a&&"\\"!=a){if("/"!=a){t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,l=St;continue}l=gt}else l=pt;break;case dt:if(l=pt,"/"!=a||"/"!=f.charAt(u+1))continue;u++;break;case pt:if("/"!=a&&"\\"!=a){l=gt;continue}break;case gt:if("@"==a){p&&(f="%40"+f),p=!0,s=d(f);for(var v=0;v<s.length;v++){var b=s[v];if(":"!=b||m){var y=q(b,$);m?t.password+=y:t.username+=y}else m=!0}f=""}else if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&J(t)){if(p&&""==f)return O;u-=d(f).length+1,f="",l=mt}else f+=a;break;case mt:case vt:if(n&&"file"==t.scheme){l=_t;continue}if(":"!=a||g){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&J(t)){if(J(t)&&""==f)return T;if(n&&""==f&&(Q(t)||null!==t.port))return;if(c=W(t,f),c)return c;if(f="",l=xt,n)return;continue}"["==a?g=!0:"]"==a&&(g=!1),f+=a}else{if(""==f)return T;if(c=W(t,f),c)return c;if(f="",l=bt,n==vt)return}break;case bt:if(!P.test(a)){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&J(t)||n){if(""!=f){var w=parseInt(f,10);if(w>65535)return j;t.port=J(t)&&w===Z[t.scheme]?null:w,f=""}if(n)return;l=xt;continue}return j}f+=a;break;case yt:if(t.scheme="file","/"==a||"\\"==a)l=wt;else{if(!i||"file"!=i.scheme){l=St;continue}if(a==r)t.host=i.host,t.path=i.path.slice(),t.query=i.query;else if("?"==a)t.host=i.host,t.path=i.path.slice(),t.query="",l=Et;else{if("#"!=a){nt(o.slice(u).join(""))||(t.host=i.host,t.path=i.path.slice(),rt(t)),l=St;continue}t.host=i.host,t.path=i.path.slice(),t.query=i.query,t.fragment="",l=Ot}}break;case wt:if("/"==a||"\\"==a){l=_t;break}i&&"file"==i.scheme&&!nt(o.slice(u).join(""))&&(et(i.path[0],!0)?t.path.push(i.path[0]):t.host=i.host),l=St;continue;case _t:if(a==r||"/"==a||"\\"==a||"?"==a||"#"==a){if(!n&&et(f))l=St;else if(""==f){if(t.host="",n)return;l=xt}else{if(c=W(t,f),c)return c;if("localhost"==t.host&&(t.host=""),n)return;f="",l=xt}continue}f+=a;break;case xt:if(J(t)){if(l=St,"/"!=a&&"\\"!=a)continue}else if(n||"?"!=a)if(n||"#"!=a){if(a!=r&&(l=St,"/"!=a))continue}else t.fragment="",l=Ot;else t.query="",l=Et;break;case St:if(a==r||"/"==a||"\\"==a&&J(t)||!n&&("?"==a||"#"==a)){if(ot(f)?(rt(t),"/"==a||"\\"==a&&J(t)||t.path.push("")):it(f)?"/"==a||"\\"==a&&J(t)||t.path.push(""):("file"==t.scheme&&!t.path.length&&et(f)&&(t.host&&(t.host=""),f=f.charAt(0)+":"),t.path.push(f)),f="","file"==t.scheme&&(a==r||"?"==a||"#"==a))while(t.path.length>1&&""===t.path[0])t.path.shift();"?"==a?(t.query="",l=Et):"#"==a&&(t.fragment="",l=Ot)}else f+=q(a,K);break;case Ct:"?"==a?(t.query="",l=Et):"#"==a?(t.fragment="",l=Ot):a!=r&&(t.path[0]+=q(a,X));break;case Et:n||"#"!=a?a!=r&&("'"==a&&J(t)?t.query+="%27":t.query+="#"==a?"%23":q(a,X)):(t.fragment="",l=Ot);break;case Ot:a!=r&&(t.fragment+=q(a,V));break}u++}},Tt=function(t){var e,n,r=u(this,Tt,"URL"),i=arguments.length>1?arguments[1]:void 0,a=String(t),s=x(r,{type:"URL"});if(void 0!==i)if(i instanceof Tt)e=S(i);else if(n=kt(e={},String(i)),n)throw TypeError(n);if(n=kt(s,a,null,e),n)throw TypeError(n);var c=s.searchParams=new w,l=_(c);l.updateSearchParams(s.query),l.updateURL=function(){s.query=String(c)||null},o||(r.href=Mt.call(r),r.origin=At.call(r),r.protocol=Pt.call(r),r.username=It.call(r),r.password=Rt.call(r),r.host=Dt.call(r),r.hostname=Lt.call(r),r.port=Nt.call(r),r.pathname=Ft.call(r),r.search=Bt.call(r),r.searchParams=Ut.call(r),r.hash=Wt.call(r))},jt=Tt.prototype,Mt=function(){var t=S(this),e=t.scheme,n=t.username,r=t.password,i=t.host,o=t.port,a=t.path,s=t.query,c=t.fragment,l=e+":";return null!==i?(l+="//",Q(t)&&(l+=n+(r?":"+r:"")+"@"),l+=G(i),null!==o&&(l+=":"+o)):"file"==e&&(l+="//"),l+=t.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==s&&(l+="?"+s),null!==c&&(l+="#"+c),l},At=function(){var t=S(this),e=t.scheme,n=t.port;if("blob"==e)try{return new URL(e.path[0]).origin}catch(r){return"null"}return"file"!=e&&J(t)?e+"://"+G(t.host)+(null!==n?":"+n:""):"null"},Pt=function(){return S(this).scheme+":"},It=function(){return S(this).username},Rt=function(){return S(this).password},Dt=function(){var t=S(this),e=t.host,n=t.port;return null===e?"":null===n?G(e):G(e)+":"+n},Lt=function(){var t=S(this).host;return null===t?"":G(t)},Nt=function(){var t=S(this).port;return null===t?"":String(t)},Ft=function(){var t=S(this),e=t.path;return t.cannotBeABaseURL?e[0]:e.length?"/"+e.join("/"):""},Bt=function(){var t=S(this).query;return t?"?"+t:""},Ut=function(){return S(this).searchParams},Wt=function(){var t=S(this).fragment;return t?"#"+t:""},zt=function(t,e){return{get:t,set:e,configurable:!0,enumerable:!0}};if(o&&c(jt,{href:zt(Mt,(function(t){var e=S(this),n=String(t),r=kt(e,n);if(r)throw TypeError(r);_(e.searchParams).updateSearchParams(e.query)})),origin:zt(At),protocol:zt(Pt,(function(t){var e=S(this);kt(e,String(t)+":",at)})),username:zt(It,(function(t){var e=S(this),n=d(String(t));if(!tt(e)){e.username="";for(var r=0;r<n.length;r++)e.username+=q(n[r],$)}})),password:zt(Rt,(function(t){var e=S(this),n=d(String(t));if(!tt(e)){e.password="";for(var r=0;r<n.length;r++)e.password+=q(n[r],$)}})),host:zt(Dt,(function(t){var e=S(this);e.cannotBeABaseURL||kt(e,String(t),mt)})),hostname:zt(Lt,(function(t){var e=S(this);e.cannotBeABaseURL||kt(e,String(t),vt)})),port:zt(Nt,(function(t){var e=S(this);tt(e)||(t=String(t),""==t?e.port=null:kt(e,t,bt))})),pathname:zt(Ft,(function(t){var e=S(this);e.cannotBeABaseURL||(e.path=[],kt(e,t+"",xt))})),search:zt(Bt,(function(t){var e=S(this);t=String(t),""==t?e.query=null:("?"==t.charAt(0)&&(t=t.slice(1)),e.query="",kt(e,t,Et)),_(e.searchParams).updateSearchParams(e.query)})),searchParams:zt(Ut),hash:zt(Wt,(function(t){var e=S(this);t=String(t),""!=t?("#"==t.charAt(0)&&(t=t.slice(1)),e.fragment="",kt(e,t,Ot)):e.fragment=null}))}),l(jt,"toJSON",(function(){return Mt.call(this)}),{enumerable:!0}),l(jt,"toString",(function(){return Mt.call(this)}),{enumerable:!0}),y){var Ht=y.createObjectURL,Yt=y.revokeObjectURL;Ht&&l(Tt,"createObjectURL",(function(t){return Ht.apply(y,arguments)})),Yt&&l(Tt,"revokeObjectURL",(function(t){return Yt.apply(y,arguments)}))}m(Tt,"URL"),i({global:!0,forced:!a,sham:!o},{URL:Tt})},e3V2:function(t,e,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);e.f=o?function(t){var e=i(this,t);return!!e&&e.enumerable}:r},eCow:function(t,e,n){var r=n("MMxC"),i=n("ls1J"),o=n("f1E4"),a=n("Acmb"),s=i.has,c=i.get,l=i.toKey,u=function(t,e,n){var r=s(t,e,n);if(r)return c(t,e,n);var i=a(e);return null!==i?u(t,i,n):void 0};r({target:"Reflect",stat:!0},{getMetadata:function(t,e){var n=arguments.length<3?void 0:l(arguments[2]);return u(t,o(e),n)}})},eNh0:function(t,e,n){var r=n("2kyd"),i=n("u+7+"),o=n("YfKC"),a=r("unscopables"),s=Array.prototype;void 0==s[a]&&o.f(s,a,{configurable:!0,value:i(null)}),t.exports=function(t){s[a][t]=!0}},eP3D:function(t,e,n){var r=n("Mi8B");r("Float64",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},eYKs:function(t,e,n){var r=n("m0kY"),i=n("FCfD"),o=function(t){return function(e,n){var o,a,s=String(i(e)),c=r(n),l=s.length;return c<0||c>=l?t?"":void 0:(o=s.charCodeAt(c),o<55296||o>56319||c+1===l||(a=s.charCodeAt(c+1))<56320||a>57343?t?s.charAt(c):o:t?s.slice(c,c+2):a-56320+(o-55296<<10)+65536)}};t.exports={codeAt:o(!1),charAt:o(!0)}},ecuC:function(t,e,n){"use strict";var r=n("MMxC"),i=n("uoF6"),o=n("FCfD"),a=n("1aI8"),s=n("eYKs"),c=s.codeAt,l=s.charAt,u="String Iterator",h=a.set,f=a.getterFor(u),d=i((function(t){h(this,{type:u,string:t,index:0})}),"String",(function(){var t,e=f(this),n=e.string,r=e.index;return r>=n.length?{value:void 0,done:!0}:(t=l(n,r),e.index+=t.length,{value:{codePoint:c(t,0),position:r},done:!1})}));r({target:"String",proto:!0},{codePoints:function(){return new d(String(o(this)))}})},"egz/":function(t,e){var n=Math.log;t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:n(1+t)}},evbn:function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+r).toString(36)}},"f/k9":function(t,e,n){"use strict";var r=n("MgzW"),i=n("q1tI");e.useSubscription=function(t){var e=t.getCurrentValue,n=t.subscribe,o=i.useState((function(){return{getCurrentValue:e,subscribe:n,value:e()}}));t=o[0];var a=o[1];return o=t.value,t.getCurrentValue===e&&t.subscribe===n||(o=e(),a({getCurrentValue:e,subscribe:n,value:o})),i.useDebugValue(o),i.useEffect((function(){function t(){if(!i){var t=e();a((function(i){return i.getCurrentValue!==e||i.subscribe!==n||i.value===t?i:r({},i,{value:t})}))}}var i=!1,o=n(t);return t(),function(){i=!0,o()}}),[e,n]),o}},f1E4:function(t,e,n){var r=n("tSXo");t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},fDrP:function(t,e,n){"use strict";var r=n("MMxC"),i=n("bIKR"),o=n("m0kY"),a=n("oa35"),s=n("cTDu"),c=n("nMuc"),l=n("arQb"),u=n("jMDO"),h=n("kGMc"),f=u("splice"),d=h("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,g=Math.min,m=9007199254740991,v="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!f||!d},{splice:function(t,e){var n,r,u,h,f,d,b=s(this),y=a(b.length),w=i(t,y),_=arguments.length;if(0===_?n=r=0:1===_?(n=0,r=y-w):(n=_-2,r=g(p(o(e),0),y-w)),y+n-r>m)throw TypeError(v);for(u=c(b,r),h=0;h<r;h++)f=w+h,f in b&&l(u,h,b[f]);if(u.length=r,n<r){for(h=w;h<y-r;h++)f=h+r,d=h+n,f in b?b[d]=b[f]:delete b[d];for(h=y;h>y-r+n;h--)delete b[h-1]}else if(n>r)for(h=y-r;h>w;h--)f=h+r-1,d=h+n-1,f in b?b[d]=b[f]:delete b[d];for(h=0;h<n;h++)b[h+w]=arguments[h+2];return b.length=y-r+n,u}})},"fF/C":function(t,e,n){"use strict";var r=n("MMxC"),i=n("/3zY").includes,o=n("eNh0"),a=n("kGMc"),s=a("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:!s},{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o("includes")},fQri:function(t,e,n){"use strict";var r=n("MMxC"),i=n("Zcjx"),o=n("Z+8a");r({target:"Set",proto:!0,real:!0,forced:i},{addAll:function(){return o.apply(this,arguments)}})},fXKp:function(t,e,n){"use strict";var r=n("Yshu").Buffer,i=r.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(t){if(!t)return"utf8";var e;while(1)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function a(t){var e=o(t);if("string"!==typeof e&&(r.isEncoding===i||!i(t)))throw new Error("Unknown encoding: "+t);return e||t}function s(t){var e;switch(this.encoding=a(t),this.encoding){case"utf16le":this.text=p,this.end=g,e=4;break;case"utf8":this.fillLast=h,e=4;break;case"base64":this.text=m,this.end=v,e=3;break;default:return this.write=b,void(this.end=y)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(e)}function c(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function l(t,e,n){var r=e.length-1;if(r<n)return 0;var i=c(e[r]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--r<n||-2===i?0:(i=c(e[r]),i>=0?(i>0&&(t.lastNeed=i-2),i):--r<n||-2===i?0:(i=c(e[r]),i>=0?(i>0&&(2===i?i=0:t.lastNeed=i-3),i):0))}function u(t,e,n){if(128!==(192&e[0]))return t.lastNeed=0,"\ufffd";if(t.lastNeed>1&&e.length>1){if(128!==(192&e[1]))return t.lastNeed=1,"\ufffd";if(t.lastNeed>2&&e.length>2&&128!==(192&e[2]))return t.lastNeed=2,"\ufffd"}}function h(t){var e=this.lastTotal-this.lastNeed,n=u(this,t,e);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function f(t,e){var n=l(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var r=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",e,r)}function d(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\ufffd":e}function p(t,e){if((t.length-e)%2===0){var n=t.toString("utf16le",e);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function g(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function m(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function v(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function b(t){return t.toString(this.encoding)}function y(t){return t&&t.length?this.write(t):""}e.StringDecoder=s,s.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(e=this.fillLast(t),void 0===e)return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},s.prototype.end=d,s.prototype.text=f,s.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},g1ZG:function(t,e,n){var r=n("f1E4"),i=n("JS3A");t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,t.call(n,[]),e=n instanceof Array}catch(o){}return function(n,o){return r(n),i(o),e?t.call(n,o):n.__proto__=o,n}}():void 0)},g8rt:function(t,e,n){var r=n("tny8"),i=n("e3V2"),o=n("HhvW"),a=n("0qr0"),s=n("gFfw"),c=n("jtLI"),l=n("/yC2"),u=Object.getOwnPropertyDescriptor;e.f=r?u:function(t,e){if(t=a(t),e=s(e,!0),l)try{return u(t,e)}catch(n){}if(c(t,e))return o(!i.f.call(t,e),t[e])}},gFfw:function(t,e,n){var r=n("tSXo");t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},gweS:function(t,e,n){var r=n("Mi8B");r("Uint16",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},hKmx:function(t,e,n){"use strict";var r=n("Un+d"),i=n("oa35"),o=n("7BAe"),a=function(t,e,n,s,c,l,u,h){var f,d=c,p=0,g=!!u&&o(u,h,3);while(p<s){if(p in n){if(f=g?g(n[p],p,e):n[p],l>0&&r(f))d=a(t,e,f,i(f.length),d,l-1)-1;else{if(d>=9007199254740991)throw TypeError("Exceed the acceptable array length");t[d]=f}d++}p++}return d};t.exports=a},hQjr:function(t,e,n){},hRxt:function(t,e,n){var r,i,o=n("ukPv"),a=n("Qlla"),s=o.process,c=s&&s.versions,l=c&&c.v8;l?(r=l.split("."),i=r[0]+r[1]):a&&(r=a.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/),r&&(i=r[1]))),t.exports=i&&+i},hYqy:function(t,e,n){var r=n("MMxC"),i=180/Math.PI;r({target:"Math",stat:!0},{degrees:function(t){return t*i}})},hZTp:function(t,e,n){},haHa:function(t,e,n){"use strict";var r=n("MMxC"),i=n("Zcjx"),o=n("f1E4"),a=n("cT1L"),s=n("IuhT");r({target:"Set",proto:!0,real:!0,forced:i},{isDisjointFrom:function(t){var e=o(this),n=a(e.has);return!s(t,(function(t){if(!0===n.call(e,t))return s.stop()})).stopped}})},hilM:function(t,e,n){"use strict";var r=n("MMxC"),i=n("tSXo"),o=n("Un+d"),a=n("bIKR"),s=n("oa35"),c=n("0qr0"),l=n("arQb"),u=n("2kyd"),h=n("jMDO"),f=n("kGMc"),d=h("slice"),p=f("slice",{ACCESSORS:!0,0:0,1:2}),g=u("species"),m=[].slice,v=Math.max;r({target:"Array",proto:!0,forced:!d||!p},{slice:function(t,e){var n,r,u,h=c(this),f=s(h.length),d=a(t,f),p=a(void 0===e?f:e,f);if(o(h)&&(n=h.constructor,"function"!=typeof n||n!==Array&&!o(n.prototype)?i(n)&&(n=n[g],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return m.call(h,d,p);for(r=new(void 0===n?Array:n)(v(p-d,0)),u=0;d<p;d++,u++)d in h&&l(r,u,h[d]);return r.length=u,r}})},hwEL:function(t,e,n){var r=n("I65O");r("patternMatch")},hwdV:function(t,e,n){var r=n("tjlA"),i=r.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function a(t,e,n){return i(t,e,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(o(r,e),e.Buffer=a),o(i,a),a.from=function(t,e,n){if("number"===typeof t)throw new TypeError("Argument must not be a number");return i(t,e,n)},a.alloc=function(t,e,n){if("number"!==typeof t)throw new TypeError("Argument must be a number");var r=i(t);return void 0!==e?"string"===typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},a.allocUnsafe=function(t){if("number"!==typeof t)throw new TypeError("Argument must be a number");return i(t)},a.allocUnsafeSlow=function(t){if("number"!==typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},"i/DM":function(t,e,n){var r=n("MMxC");r({target:"Math",stat:!0},{DEG_PER_RAD:Math.PI/180})},i3fk:function(t,e,n){"use strict";(function(e,r){var i=n("lm0R");t.exports=x;var o,a=n("49sm");x.ReadableState=_;n("+qE3").EventEmitter;var s=function(t,e){return t.listeners(e).length},c=n("Gtba"),l=n("hwdV").Buffer,u=e.Uint8Array||function(){};function h(t){return l.from(t)}function f(t){return l.isBuffer(t)||t instanceof u}var d=Object.create(n("Onz0"));d.inherits=n("P7XM");var p=n(4),g=void 0;g=p&&p.debuglog?p.debuglog("stream"):function(){};var m,v=n("Q2WS"),b=n("xp+Q");d.inherits(x,c);var y=["error","close","destroy","pause","resume"];function w(t,e,n){if("function"===typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?a(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}function _(t,e){o=o||n("FxWf"),t=t||{};var r=e instanceof o;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,a=t.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(m||(m=n("fXKp").StringDecoder),this.decoder=new m(t.encoding),this.encoding=t.encoding)}function x(t){if(o=o||n("FxWf"),!(this instanceof x))return new x(t);this._readableState=new _(t,this),this.readable=!0,t&&("function"===typeof t.read&&(this._read=t.read),"function"===typeof t.destroy&&(this._destroy=t.destroy)),c.call(this)}function S(t,e,n,r,i){var o,a=t._readableState;null===e?(a.reading=!1,M(t,a)):(i||(o=E(a,e)),o?t.emit("error",o):a.objectMode||e&&e.length>0?("string"===typeof e||a.objectMode||Object.getPrototypeOf(e)===l.prototype||(e=h(e)),r?a.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):C(t,a,e,!0):a.ended?t.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!n?(e=a.decoder.write(e),a.objectMode||0!==e.length?C(t,a,e,!1):I(t,a)):C(t,a,e,!1))):r||(a.reading=!1));return O(a)}function C(t,e,n,r){e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&A(t)),I(t,e)}function E(t,e){var n;return f(e)||"string"===typeof e||void 0===e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function O(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}Object.defineProperty(x.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),x.prototype.destroy=b.destroy,x.prototype._undestroy=b.undestroy,x.prototype._destroy=function(t,e){this.push(null),e(t)},x.prototype.push=function(t,e){var n,r=this._readableState;return r.objectMode?n=!0:"string"===typeof t&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=l.from(t,e),e=""),n=!0),S(this,t,e,!1,n)},x.prototype.unshift=function(t){return S(this,t,null,!0,!1)},x.prototype.isPaused=function(){return!1===this._readableState.flowing},x.prototype.setEncoding=function(t){return m||(m=n("fXKp").StringDecoder),this._readableState.decoder=new m(t),this._readableState.encoding=t,this};var k=8388608;function T(t){return t>=k?t=k:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function j(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=T(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function M(t,e){if(!e.ended){if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,A(t)}}function A(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(g("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?i.nextTick(P,t):P(t))}function P(t){g("emit readable"),t.emit("readable"),B(t)}function I(t,e){e.readingMore||(e.readingMore=!0,i.nextTick(R,t,e))}function R(t,e){var n=e.length;while(!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark){if(g("maybeReadMore read 0"),t.read(0),n===e.length)break;n=e.length}e.readingMore=!1}function D(t){return function(){var e=t._readableState;g("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&s(t,"data")&&(e.flowing=!0,B(t))}}function L(t){g("readable nexttick read 0"),t.read(0)}function N(t,e){e.resumeScheduled||(e.resumeScheduled=!0,i.nextTick(F,t,e))}function F(t,e){e.reading||(g("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),B(t),e.flowing&&!e.reading&&t.read(0)}function B(t){var e=t._readableState;g("flow",e.flowing);while(e.flowing&&null!==t.read());}function U(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):n=W(t,e.buffer,e.decoder),n);var n}function W(t,e,n){var r;return t<e.head.data.length?(r=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):r=t===e.head.data.length?e.shift():n?z(t,e):H(t,e),r}function z(t,e){var n=e.head,r=1,i=n.data;t-=i.length;while(n=n.next){var o=n.data,a=t>o.length?o.length:t;if(a===o.length?i+=o:i+=o.slice(0,t),t-=a,0===t){a===o.length?(++r,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=o.slice(a));break}++r}return e.length-=r,i}function H(t,e){var n=l.allocUnsafe(t),r=e.head,i=1;r.data.copy(n),t-=r.data.length;while(r=r.next){var o=r.data,a=t>o.length?o.length:t;if(o.copy(n,n.length-t,0,a),t-=a,0===t){a===o.length?(++i,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=o.slice(a));break}++i}return e.length-=i,n}function Y(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,i.nextTick(G,e,t))}function G(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function X(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}x.prototype.read=function(t){g("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return g("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?Y(this):A(this),null;if(t=j(t,e),0===t&&e.ended)return 0===e.length&&Y(this),null;var r,i=e.needReadable;return g("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&(i=!0,g("length less than watermark",i)),e.ended||e.reading?(i=!1,g("reading or ended",i)):i&&(g("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=j(n,e))),r=t>0?U(t,e):null,null===r?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&Y(this)),null!==r&&this.emit("data",r),r},x.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},x.prototype.pipe=function(t,e){var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=t;break;case 1:o.pipes=[o.pipes,t];break;default:o.pipes.push(t);break}o.pipesCount+=1,g("pipe count=%d opts=%j",o.pipesCount,e);var a=(!e||!1!==e.end)&&t!==r.stdout&&t!==r.stderr,c=a?u:_;function l(t,e){g("onunpipe"),t===n&&e&&!1===e.hasUnpiped&&(e.hasUnpiped=!0,d())}function u(){g("onend"),t.end()}o.endEmitted?i.nextTick(c):n.once("end",c),t.on("unpipe",l);var h=D(n);t.on("drain",h);var f=!1;function d(){g("cleanup"),t.removeListener("close",b),t.removeListener("finish",y),t.removeListener("drain",h),t.removeListener("error",v),t.removeListener("unpipe",l),n.removeListener("end",u),n.removeListener("end",_),n.removeListener("data",m),f=!0,!o.awaitDrain||t._writableState&&!t._writableState.needDrain||h()}var p=!1;function m(e){g("ondata"),p=!1;var r=t.write(e);!1!==r||p||((1===o.pipesCount&&o.pipes===t||o.pipesCount>1&&-1!==X(o.pipes,t))&&!f&&(g("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,p=!0),n.pause())}function v(e){g("onerror",e),_(),t.removeListener("error",v),0===s(t,"error")&&t.emit("error",e)}function b(){t.removeListener("finish",y),_()}function y(){g("onfinish"),t.removeListener("close",b),_()}function _(){g("unpipe"),n.unpipe(t)}return n.on("data",m),w(t,"error",v),t.once("close",b),t.once("finish",y),t.emit("pipe",n),o.flowing||(g("pipe resume"),n.resume()),t},x.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n)),this;if(!t){var r=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var a=X(e.pipes,t);return-1===a||(e.pipes.splice(a,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n)),this},x.prototype.on=function(t,e){var n=c.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&A(this):i.nextTick(L,this))}return n},x.prototype.addListener=x.prototype.on,x.prototype.resume=function(){var t=this._readableState;return t.flowing||(g("resume"),t.flowing=!0,N(this,t)),this},x.prototype.pause=function(){return g("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(g("pause"),this._readableState.flowing=!1,this.emit("pause")),this},x.prototype.wrap=function(t){var e=this,n=this._readableState,r=!1;for(var i in t.on("end",(function(){if(g("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(i){if(g("wrapped data"),n.decoder&&(i=n.decoder.write(i)),(!n.objectMode||null!==i&&void 0!==i)&&(n.objectMode||i&&i.length)){var o=e.push(i);o||(r=!0,t.pause())}})),t)void 0===this[i]&&"function"===typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<y.length;o++)t.on(y[o],this.emit.bind(this,y[o]));return this._read=function(e){g("wrapped _read",e),r&&(r=!1,t.resume())},this},Object.defineProperty(x.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),x._fromList=U}).call(this,n("yLpj"),n("Q2Ig"))},i7kj:function(t,e,n){"use strict";var r=n("Zcjx"),i=n("ukPv"),o=n("MVys");t.exports=r||!o((function(){var t=Math.random();__defineSetter__.call(null,t,(function(){})),delete i[t]}))},i8i4:function(t,e,n){"use strict";function r(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(err){console.error(err)}}}r(),t.exports=n("yl30")},iMhB:function(t,e,n){"use strict";var r=n("MMxC"),i=n("Zcjx"),o=n("f1E4"),a=n("7BAe"),s=n("jbR1"),c=n("IuhT");r({target:"Set",proto:!0,real:!0,forced:i},{every:function(t){var e=o(this),n=s(e),r=a(t,arguments.length>1?arguments[1]:void 0,3);return!c(n,(function(t){if(!r(t,t,e))return c.stop()}),void 0,!1,!0).stopped}})},igoe:function(t,e){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},izsi:function(t,e,n){var r=n("MMxC"),i=n("rn5R");r({target:"Number",stat:!0,forced:Number.parseFloat!=i},{parseFloat:i})},jAWH:function(t,e){t.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},jHRr:function(t,e,n){"use strict";var r=n("MMxC"),i=n("Zcjx"),o=n("f1E4"),a=n("7BAe"),s=n("PPXv"),c=n("IuhT");r({target:"Map",proto:!0,real:!0,forced:i},{find:function(t){var e=o(this),n=s(e),r=a(t,arguments.length>1?arguments[1]:void 0,3);return c(n,(function(t,n){if(r(n,t,e))return c.stop(n)}),void 0,!0,!0).result}})},jIZW:function(t,e,n){"use strict";var r=n("MMxC"),i=n("Zcjx"),o=n("+X1D");r({target:"Map",proto:!0,real:!0,forced:i},{deleteAll:function(){return o.apply(this,arguments)}})},jMDO:function(t,e,n){var r=n("MVys"),i=n("2kyd"),o=n("hRxt"),a=i("species");t.exports=function(t){return o>=51||!r((function(){var e=[],n=e.constructor={};return n[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},jbR1:function(t,e,n){var r=n("Zcjx"),i=n("qcmB");t.exports=r?i:function(t){return Set.prototype.values.call(t)}},"jdp+":function(t,e,n){var r=n("u93E"),i=Math.abs,o=Math.pow,a=o(2,-52),s=o(2,-23),c=o(2,127)*(2-s),l=o(2,-126),u=function(t){return t+1/a-1/a};t.exports=Math.fround||function(t){var e,n,o=i(t),h=r(t);return o<l?h*u(o/l/s)*l*s:(e=(1+s/a)*o,n=e-(e-o),n>c||n!=n?h*(1/0):h*n)}},jksQ:function(t,e,n){"use strict";var r=n("MMxC"),i=n("Zcjx"),o=n("29mP"),a=n("f1E4"),s=n("cT1L"),c=n("7BAe"),l=n("/dTS"),u=n("jbR1"),h=n("IuhT");r({target:"Set",proto:!0,real:!0,forced:i},{map:function(t){var e=a(this),n=u(e),r=c(t,arguments.length>1?arguments[1]:void 0,3),i=new(l(e,o("Set"))),f=s(i.add);return h(n,(function(t){f.call(i,r(t,t,e))}),void 0,!1,!0),i}})},jp8u:function(t,e,n){},jtLI:function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},"k/J9":function(t,e,n){"use strict";var r=n("f1E4");t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},kGMc:function(t,e,n){var r=n("tny8"),i=n("MVys"),o=n("jtLI"),a=Object.defineProperty,s={},c=function(t){throw t};t.exports=function(t,e){if(o(s,t))return s[t];e||(e={});var n=[][t],l=!!o(e,"ACCESSORS")&&e.ACCESSORS,u=o(e,0)?e[0]:c,h=o(e,1)?e[1]:void 0;return s[t]=!!n&&!i((function(){if(l&&!r)return!0;var t={length:-1};l?a(t,1,{enumerable:!0,get:c}):t[1]=1,n.call(t,u,h)}))}},"kVK+":function(t,e){e.read=function(t,e,n,r,i){var o,a,s=8*i-r-1,c=(1<<s)-1,l=c>>1,u=-7,h=n?i-1:0,f=n?-1:1,d=t[e+h];for(h+=f,o=d&(1<<-u)-1,d>>=-u,u+=s;u>0;o=256*o+t[e+h],h+=f,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=r;u>0;a=256*a+t[e+h],h+=f,u-=8);if(0===o)o=1-l;else{if(o===c)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=l}return(d?-1:1)*a*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var a,s,c,l=8*o-i-1,u=(1<<l)-1,h=u>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=u):(a=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-a))<1&&(a--,c*=2),e+=a+h>=1?f/c:f*Math.pow(2,1-h),e*c>=2&&(a++,c/=2),a+h>=u?(s=0,a=u):a+h>=1?(s=(e*c-1)*Math.pow(2,i),a+=h):(s=e*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;t[n+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;t[n+d]=255&a,d+=p,a/=256,l-=8);t[n+d-p]|=128*g}},kd2E:function(t,e,n){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,n,o){e=e||"&",n=n||"=";var a={};if("string"!==typeof t||0===t.length)return a;var s=/\+/g;t=t.split(e);var c=1e3;o&&"number"===typeof o.maxKeys&&(c=o.maxKeys);var l=t.length;c>0&&l>c&&(l=c);for(var u=0;u<l;++u){var h,f,d,p,g=t[u].replace(s,"%20"),m=g.indexOf(n);m>=0?(h=g.substr(0,m),f=g.substr(m+1)):(h=g,f=""),d=decodeURIComponent(h),p=decodeURIComponent(f),r(a,d)?i(a[d])?a[d].push(p):a[d]=[a[d],p]:a[d]=p}return a};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},kiNa:function(t,e,n){var r=n("YfKC").f,i=n("jtLI"),o=n("2kyd"),a=o("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,a)&&r(t,a,{configurable:!0,value:e})}},kkxG:function(t,e,n){var r=n("MVys"),i=/#|\.prototype\./,o=function(t,e){var n=s[a(t)];return n==l||n!=c&&("function"==typeof e?r(e):!!e)},a=o.normalize=function(t){return String(t).replace(i,".").toLowerCase()},s=o.data={},c=o.NATIVE="N",l=o.POLYFILL="P";t.exports=o},kl5A:function(t,e,n){(function(e,r,i){var o=n("qfHW"),a=n("P7XM"),s=n("yQtW"),c=n("PRug"),l=n("2Tiy"),u=s.IncomingMessage,h=s.readyStates;function f(t,e){return o.fetch&&e?"fetch":o.mozchunkedarraybuffer?"moz-chunked-arraybuffer":o.msstream?"ms-stream":o.arraybuffer&&t?"arraybuffer":o.vbArray&&t?"text:vbarray":"text"}var d=t.exports=function(t){var n,r=this;c.Writable.call(r),r._opts=t,r._body=[],r._headers={},t.auth&&r.setHeader("Authorization","Basic "+new e(t.auth).toString("base64")),Object.keys(t.headers).forEach((function(e){r.setHeader(e,t.headers[e])}));var i=!0;if("disable-fetch"===t.mode||"requestTimeout"in t&&!o.abortController)i=!1,n=!0;else if("prefer-streaming"===t.mode)n=!1;else if("allow-wrong-content-type"===t.mode)n=!o.overrideMimeType;else{if(t.mode&&"default"!==t.mode&&"prefer-fast"!==t.mode)throw new Error("Invalid value for opts.mode");n=!0}r._mode=f(n,i),r._fetchTimer=null,r.on("finish",(function(){r._onFinish()}))};function p(t){try{var e=t.status;return null!==e&&0!==e}catch(n){return!1}}a(d,c.Writable),d.prototype.setHeader=function(t,e){var n=this,r=t.toLowerCase();-1===g.indexOf(r)&&(n._headers[r]={name:t,value:e})},d.prototype.getHeader=function(t){var e=this._headers[t.toLowerCase()];return e?e.value:null},d.prototype.removeHeader=function(t){var e=this;delete e._headers[t.toLowerCase()]},d.prototype._onFinish=function(){var t=this;if(!t._destroyed){var n=t._opts,a=t._headers,s=null;"GET"!==n.method&&"HEAD"!==n.method&&(s=o.arraybuffer?l(e.concat(t._body)):o.blobConstructor?new r.Blob(t._body.map((function(t){return l(t)})),{type:(a["content-type"]||{}).value||""}):e.concat(t._body).toString());var c=[];if(Object.keys(a).forEach((function(t){var e=a[t].name,n=a[t].value;Array.isArray(n)?n.forEach((function(t){c.push([e,t])})):c.push([e,n])})),"fetch"===t._mode){var u=null;if(o.abortController){var f=new AbortController;u=f.signal,t._fetchAbortController=f,"requestTimeout"in n&&0!==n.requestTimeout&&(t._fetchTimer=r.setTimeout((function(){t.emit("requestTimeout"),t._fetchAbortController&&t._fetchAbortController.abort()}),n.requestTimeout))}r.fetch(t._opts.url,{method:t._opts.method,headers:c,body:s||void 0,mode:"cors",credentials:n.withCredentials?"include":"same-origin",signal:u}).then((function(e){t._fetchResponse=e,t._connect()}),(function(e){r.clearTimeout(t._fetchTimer),t._destroyed||t.emit("error",e)}))}else{var d=t._xhr=new r.XMLHttpRequest;try{d.open(t._opts.method,t._opts.url,!0)}catch(err){return void i.nextTick((function(){t.emit("error",err)}))}"responseType"in d&&(d.responseType=t._mode.split(":")[0]),"withCredentials"in d&&(d.withCredentials=!!n.withCredentials),"text"===t._mode&&"overrideMimeType"in d&&d.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in n&&(d.timeout=n.requestTimeout,d.ontimeout=function(){t.emit("requestTimeout")}),c.forEach((function(t){d.setRequestHeader(t[0],t[1])})),t._response=null,d.onreadystatechange=function(){switch(d.readyState){case h.LOADING:case h.DONE:t._onXHRProgress();break}},"moz-chunked-arraybuffer"===t._mode&&(d.onprogress=function(){t._onXHRProgress()}),d.onerror=function(){t._destroyed||t.emit("error",new Error("XHR error"))};try{d.send(s)}catch(err){return void i.nextTick((function(){t.emit("error",err)}))}}}},d.prototype._onXHRProgress=function(){var t=this;p(t._xhr)&&!t._destroyed&&(t._response||t._connect(),t._response._onXHRProgress())},d.prototype._connect=function(){var t=this;t._destroyed||(t._response=new u(t._xhr,t._fetchResponse,t._mode,t._fetchTimer),t._response.on("error",(function(e){t.emit("error",e)})),t.emit("response",t._response))},d.prototype._write=function(t,e,n){var r=this;r._body.push(t),n()},d.prototype.abort=d.prototype.destroy=function(){var t=this;t._destroyed=!0,r.clearTimeout(t._fetchTimer),t._response&&(t._response._destroyed=!0),t._xhr?t._xhr.abort():t._fetchAbortController&&t._fetchAbortController.abort()},d.prototype.end=function(t,e,n){var r=this;"function"===typeof t&&(n=t,t=void 0),c.Writable.prototype.end.call(r,t,e,n)},d.prototype.flushHeaders=function(){},d.prototype.setTimeout=function(){},d.prototype.setNoDelay=function(){},d.prototype.setSocketKeepAlive=function(){};var g=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this,n("tjlA").Buffer,n("yLpj"),n("Q2Ig"))},kyO0:function(t,e){e.f=Object.getOwnPropertySymbols},lJCZ:function(t,e,n){(function(t){var r=n("kl5A"),i=n("yQtW"),o=n("U6jy"),a=n("jAWH"),s=n("CxY0"),c=e;c.request=function(e,n){e="string"===typeof e?s.parse(e):o(e);var i=-1===t.location.protocol.search(/^https?:$/)?"http:":"",a=e.protocol||i,c=e.hostname||e.host,l=e.port,u=e.path||"/";c&&-1!==c.indexOf(":")&&(c="["+c+"]"),e.url=(c?a+"//"+c:"")+(l?":"+l:"")+u,e.method=(e.method||"GET").toUpperCase(),e.headers=e.headers||{};var h=new r(e);return n&&h.on("response",n),h},c.get=function(t,e){var n=c.request(t,e);return n.end(),n},c.ClientRequest=r,c.IncomingMessage=i.IncomingMessage,c.Agent=function(){},c.Agent.defaultMaxSockets=4,c.globalAgent=new c.Agent,c.STATUS_CODES=a,c.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,n("yLpj"))},lgSf:function(t,e,n){var r=n("MVys"),i=n("2kyd"),o=n("Zcjx"),a=i("iterator");t.exports=!r((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,n="";return t.pathname="c%20d",e.forEach((function(t,r){e["delete"]("b"),n+=r+t})),o&&!t.toJSON||!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},lm0R:function(t,e,n){"use strict";(function(e){function n(t,n,r,i){if("function"!==typeof t)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick((function(){t.call(null,n)}));case 3:return e.nextTick((function(){t.call(null,n,r)}));case 4:return e.nextTick((function(){t.call(null,n,r,i)}));default:o=new Array(s-1),a=0;while(a<o.length)o[a++]=arguments[a];return e.nextTick((function(){t.apply(null,o)}))}}"undefined"===typeof e||!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:n}:t.exports=e}).call(this,n("Q2Ig"))},ls1J:function(t,e,n){var r=n("Pp3M"),i=n("UHn5"),o=n("xxaU"),a=o("metadata"),s=a.store||(a.store=new i),c=function(t,e,n){var i=s.get(t);if(!i){if(!n)return;s.set(t,i=new r)}var o=i.get(e);if(!o){if(!n)return;i.set(e,o=new r)}return o},l=function(t,e,n){var r=c(e,n,!1);return void 0!==r&&r.has(t)},u=function(t,e,n){var r=c(e,n,!1);return void 0===r?void 0:r.get(t)},h=function(t,e,n,r){c(n,r,!0).set(t,e)},f=function(t,e){var n=c(t,e,!1),r=[];return n&&n.forEach((function(t,e){r.push(e)})),r},d=function(t){return void 0===t||"symbol"==typeof t?t:String(t)};t.exports={store:s,getMap:c,has:l,get:u,set:h,keys:f,toKey:d}},lz10:function(t,e,n){var r=n("tny8"),i=n("YfKC"),o=n("HhvW");t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},m0LI:function(t,e){function n(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0)if(n.push(a.value),e&&n.length===e)break}catch(err){i=!0,o=err}finally{try{r||null==s["return"]||s["return"]()}finally{if(i)throw o}}return n}}t.exports=n},m0kY:function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},m3pO:function(t,e,n){var r,i,o,a,s,c,l,u,h=n("ukPv"),f=n("g8rt").f,d=n("UwrT"),p=n("C3pJ").set,g=n("xRZI"),m=h.MutationObserver||h.WebKitMutationObserver,v=h.process,b=h.Promise,y="process"==d(v),w=f(h,"queueMicrotask"),_=w&&w.value;_||(r=function(){var t,e;y&&(t=v.domain)&&t.exit();while(i){e=i.fn,i=i.next;try{e()}catch(n){throw i?a():o=void 0,n}}o=void 0,t&&t.enter()},y?a=function(){v.nextTick(r)}:m&&!g?(s=!0,c=document.createTextNode(""),new m(r).observe(c,{characterData:!0}),a=function(){c.data=s=!s}):b&&b.resolve?(l=b.resolve(void 0),u=l.then,a=function(){u.call(l,r)}):a=function(){p.call(h,r)}),t.exports=_||function(t){var e={fn:t,next:void 0};o&&(o.next=e),i||(i=e,a()),o=e}},mAF5:function(t,e,n){},mLN8:function(t,e,n){"use strict";var r=n("MMxC"),i=n("hKmx"),o=n("cTDu"),a=n("oa35"),s=n("m0kY"),c=n("nMuc");r({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,e=o(this),n=a(e.length),r=c(e,0);return r.length=i(r,e,e,n,0,void 0===t?1:s(t)),r}})},mTKU:function(t,e,n){var r=n("FCfD"),i=n("Tfd0"),o="["+i+"]",a=RegExp("^"+o+o+"*"),s=RegExp(o+o+"*$"),c=function(t){return function(e){var n=String(r(e));return 1&t&&(n=n.replace(a,"")),2&t&&(n=n.replace(s,"")),n}};t.exports={start:c(1),end:c(2),trim:c(3)}},mcGr:function(t,e,n){"use strict";var r=n("MMxC"),i=n("2FZw").start,o=n("y9mK");r({target:"String",proto:!0,forced:o},{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},n7Qr:function(t,e,n){var r=n("I65O");r("match")},nCqj:function(t,e,n){var r=n("1nhP");t.exports=function(t,e){var n=r(t);if(n%e)throw RangeError("Wrong offset");return n}},nDqD:function(t,e,n){"use strict";var r=n("MMxC"),i=n("MVys"),o=n("ZSlt"),a=n("f1E4"),s=n("bIKR"),c=n("oa35"),l=n("/dTS"),u=o.ArrayBuffer,h=o.DataView,f=u.prototype.slice,d=i((function(){return!new u(2).slice(1,void 0).byteLength}));r({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:d},{slice:function(t,e){if(void 0!==f&&void 0===e)return f.call(a(this),t);var n=a(this).byteLength,r=s(t,n),i=s(void 0===e?n:e,n),o=new(l(this,u))(c(i-r)),d=new h(this),p=new h(o),g=0;while(r<i)p.setUint8(g++,d.getUint8(r++));return o}})},nEGZ:function(t,e,n){var r=n("I65O");r("species")},nFn1:function(t,e,n){var r=n("ukPv");t.exports=r},nLCz:function(t,e,n){"use strict";function r(){var t=i(n("q1tI"));return r=function(){return t},t}function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=r()["default"].createContext({config:{mode:"doc",title:"",navs:{},menus:{},locales:[],repository:{branch:"master"},theme:{}},meta:{title:""},menu:[],nav:[],base:"",routes:[]});e["default"]=o},nMuc:function(t,e,n){var r=n("tSXo"),i=n("Un+d"),o=n("2kyd"),a=o("species");t.exports=function(t,e){var n;return i(t)&&(n=t.constructor,"function"!=typeof n||n!==Array&&!i(n.prototype)?r(n)&&(n=n[a],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},nZC5:function(t,e,n){"use strict";var r=n("MMxC"),i=n("tny8"),o=n("i7kj"),a=n("cTDu"),s=n("cT1L"),c=n("YfKC");i&&r({target:"Object",proto:!0,forced:o},{__defineSetter__:function(t,e){c.f(a(this),t,{set:s(e),enumerable:!0,configurable:!0})}})},nkhd:function(t,e,n){"use strict";var r=n("MMxC"),i=n("tny8"),o=n("Acmb"),a=n("g1ZG"),s=n("u+7+"),c=n("YfKC"),l=n("HhvW"),u=n("IuhT"),h=n("lz10"),f=n("1aI8"),d=f.set,p=f.getterFor("AggregateError"),g=function(t,e){var n=this;if(!(n instanceof g))return new g(t,e);a&&(n=a(new Error(e),o(n)));var r=[];return u(t,r.push,r),i?d(n,{errors:r,type:"AggregateError"}):n.errors=r,void 0!==e&&h(n,"message",String(e)),n};g.prototype=s(Error.prototype,{constructor:l(5,g),message:l(5,""),name:l(5,"AggregateError")}),i&&c.f(g.prototype,"errors",{get:function(){return p(this).errors},configurable:!0}),r({global:!0},{AggregateError:g})},nlPz:function(t,e,n){"use strict";var r=n("MMxC"),i=n("NcLc");r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},o0kM:function(t,e,n){"use strict";var r=n("J4zp");function i(){var t=a(n("q1tI"));return i=function(){return t},t}function o(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return o=function(){return t},t}function a(t){if(t&&t.__esModule)return t;if(null===t||"object"!==typeof t&&"function"!==typeof t)return{default:t};var e=o();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var a=r?Object.getOwnPropertyDescriptor(t,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=t[i]}return n["default"]=t,e&&e.set(t,n),n}function s(t,e){return f(t)||h(t,e)||l(t,e)||c()}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(t,e){if(t){if("string"===typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function h(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0)if(n.push(a.value),e&&n.length===e)break}catch(err){i=!0,o=err}finally{try{r||null==s["return"]||s["return"]()}finally{if(i)throw o}}return n}}function f(t){if(Array.isArray(t))return t}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var d,p="https://riddle.alibaba-inc.com/riddles/define",g=function(){var t=(0,i().useState)(Boolean(d)),e=s(t,2),n=e[0],r=e[1];return(0,i().useEffect)((function(){if(void 0===d){var t=document.createElement("img");setTimeout((function(){t.src="",t.remove()}),200),t.onload=function(){d=!0,r(!0),t.remove()},t.src="https://private-alipayobjects.alipay.com/alipay-rmsdeploy-image/rmsportal/RKuAiriJqrUhyqW.png"}}),[]),n};function m(t){var e,n=t.dependencies,r=t.sources._.tsx||t.sources._.jsx;return r=r.replace(/^/,"import ReactDOM from 'react-dom@".concat((null===(e=n.react)||void 0===e?void 0:e.version)||"latest","';\n")).replace("export default","const DumiDemo =").concat("\nReactDOM.render(<DumiDemo />, mountNode);"),r=r.replace(/(from ')((?:@[^/'"]+)?[^/'"]+)/g,(function(t,e,r){var i="".concat(e).concat(r);return n[r]&&(i+="@".concat(n[r].version)),i})),r}var v=function(t){var e=(0,i().useState)(),n=s(e,2),o=n[0],a=n[1],c=g();return(0,i().useEffect)((function(){if(t&&c&&1===Object.keys(t.sources).length){var e=document.createElement("form"),n=document.createElement("input");return e.method="POST",e.target="_blank",e.style.display="none",e.action=p,e.appendChild(n),e.setAttribute("data-demo",t.title||""),n.name="data",n.value=JSON.stringify({title:t.titlle,js:m(t),css:Object.entries(t.dependencies).filter((function(t){var e=r(t,2),n=e[1];return n.css})).map((function(t){var e=r(t,2),n=e[0],i=e[1],o=i.version,a=i.css;return"@import '~".concat(a.replace(new RegExp("^(".concat(n,")")),"$1@".concat(o)),"';")})).join("\n")}),document.body.appendChild(e),a((function(){return function(){return e.submit()}})),function(){return e.remove()}}}),[t,c]),o};e["default"]=v},o0o1:function(t,e,n){t.exports=n("VWci")},oJGl:function(t,e,n){var r=n("MMxC"),i=n("aF2d");r({target:"WeakMap",stat:!0},{from:i})},oXiK:function(t,e,n){"use strict";n.r(e),n.d(e,"FabricPhoto",(function(){return Ve})),n.d(e,"consts",(function(){return Q}));const{min:r,max:i}=Math;function o(t){return null!=t}function a(t){return void 0===t}function s(t){return null===t}function c(t){return o(t)&&!1!==t}function l(t){return!c(t)}function u(t){var e=o(t)&&("[object Arguments]"===toString.call(t)||!!t.callee);return e}function h(t){return Array.isArray(t)}function f(t){return t instanceof Function}function d(){function t(){}return function(e){return t.prototype=e,new t}}function p(t,e){var n=d(e.prototype);n.constructor=t,t.prototype=n}var g=0;function m(t){return t.__xm_id=t.__xm_id||++g,t.__xm_id}function v(t,e){var n,r=arguments,i=r[0],o=r.length;try{for(n=1;n<o;n++)i=i[r[n]];return i}catch(a){return}}function b(t){return o(v(t,"__xm_id"))}function y(){g=0}function w(t,e,n=0){e=e||[];let r=e.length;for(let i=n;i<r;i++)if(e[i]===t)return!0;return!1}function _(t){var e,n,r,i=arguments.length;function o(t,r){var i;if(isNaN(t)&&isNaN(r)&&H(t)&&H(r))return!0;if(t===r)return!0;if(f(t)&&f(r)||t instanceof Date&&r instanceof Date||t instanceof RegExp&&r instanceof RegExp||t instanceof String&&r instanceof String||t instanceof Number&&r instanceof Number)return t.toString()===r.toString();if(!(t instanceof Object&&r instanceof Object))return!1;if(t.isPrototypeOf(r)||r.isPrototypeOf(t)||t.constructor!==r.constructor||t.prototype!==r.prototype)return!1;if(w(t,e)>-1||w(r,n)>-1)return!1;for(i in r){if(r.hasOwnProperty(i)!==t.hasOwnProperty(i))return!1;if(typeof r[i]!==typeof t[i])return!1}for(i in t){if(r.hasOwnProperty(i)!==t.hasOwnProperty(i))return!1;if(typeof r[i]!==typeof t[i])return!1;if("object"===typeof t[i]||"function"===typeof t[i]){if(e.push(t),n.push(r),!o(t[i],r[i]))return!1;e.pop(),n.pop()}else if(t[i]!==r[i])return!1}return!0}if(i<1)return!0;for(r=1;r<i;r++)if(e=[],n=[],!o(arguments[0],arguments[r]))return!1;return!0}function x(t,e,n){let o;return e>n&&(o=e,e=n,n=o),i(e,r(t,n))}function S(...t){const e={};return t.forEach((t=>{e[t]=t})),e}function C(t){let e="";return Object.keys(t).forEach((n=>{e+=`${n}: ${t[n]};`})),e}var E,O,k={chrome:!1,firefox:!1,safari:!1,msie:!1,edge:!1,others:!1,version:0},T=window.navigator,j=T.appName.replace(/\s/g,"_"),M=T.userAgent,A=/MSIE\s([0-9]+[.0-9]*)/,P=/Trident.*rv:11\./,I=/Edge\/(\d+)\./,R={firefox:/Firefox\/(\d+)\./,chrome:/Chrome\/(\d+)\./,safari:/Version\/([\d\.]+)\sSafari\/(\d+)/},D={Microsoft_Internet_Explorer:function(){k.msie=!0,k.version=parseFloat(M.match(A)[1])},Netscape:function(){var t=!1;if(P.exec(M))k.msie=!0,k.version=11,t=!0;else if(I.exec(M))k.edge=!0,k.version=M.match(I)[1],t=!0;else for(E in R)if(R.hasOwnProperty(E)&&(O=M.match(R[E]),O&&O.length>1)){k[E]=t=!0,k.version=parseFloat(O[1]||0);break}t||(k.others=!0)}},L=D[j];function N(t,e,n){var r=0,i=t.length;for(n=n||null;r<i;r++)if(!1===e.call(n,t[r],r,t))break}function F(t,e,n){var r;for(r in n=n||null,t)if(t.hasOwnProperty(r)&&!1===e.call(n,t[r],r,t))break}function B(t,e,n){Array.isArray(t)?N(t,e,n):F(t,e,n)}function U(t,e,n){var r=[];return n=n||null,B(t,(function(){r.push(e.apply(n,arguments))})),r}function W(t){return t===Object(t)}function z(t){return"string"===typeof t||t instanceof String}function H(t){return"number"===typeof t||t instanceof Number}function Y(t,e){var n=Array.prototype.slice;if(t.bind)return t.bind.apply(t,n.call(arguments,1));var r=n.call(arguments,2);return function(){return t.apply(e,r.length?r.concat(n.call(arguments)):arguments)}}function G(t,e){var n,r,i,o,a=Object.prototype.hasOwnProperty;for(i=1,o=arguments.length;i<o;i++)for(r in n=arguments[i],n)a.call(n,r)&&(t[r]=n[r]);return t}function X(t,e){for(let n in e)t.style.setProperty(n,e[n])}L&&D[j]();var V={createObject:d(),inherit:p,isFunction:f,isArray:h,isArguments:u,isString:z,isNumber:H,isFalsy:l,isObject:W,isTruthy:c,isNull:s,isUndefined:a,compareJSON:_,hasStamp:b,resetLastId:y,stamp:m,pick:v,clamp:x,keyMirror:S,browser:k,makeStyleText:C,forEach:B,map:U,isExisty:o,bind:Y,extend:G,setStyle:X,inArray:w},K=/\s+/g;function $(){this.events=null,this.contexts=null}$.mixin=function(t){Object.assign(t.prototype,$.prototype)},$.prototype._getHandlerItem=function(t,e){var n={handler:t};return e&&(n.context=e),n},$.prototype._safeEvent=function(t){var e,n=this.events;return n||(n=this.events={}),t&&(e=n[t],e||(e=[],n[t]=e),n=e),n},$.prototype._safeContext=function(){var t=this.contexts;return t||(t=this.contexts=[]),t},$.prototype._indexOfContext=function(t){var e=this._safeContext(),n=0;while(e[n]){if(t===e[n][0])return n;n+=1}return-1},$.prototype._memorizeContext=function(t){var e,n;V.isExisty(t)&&(e=this._safeContext(),n=this._indexOfContext(t),n>-1?e[n][1]+=1:e.push([t,1]))},$.prototype._forgetContext=function(t){var e,n;V.isExisty(t)&&(e=this._safeContext(),n=this._indexOfContext(t),n>-1&&(e[n][1]-=1,e[n][1]<=0&&e.splice(n,1)))},$.prototype._bindEvent=function(t,e,n){var r=this._safeEvent(t);this._memorizeContext(n),r.push(this._getHandlerItem(e,n))},$.prototype.on=function(t,e,n){var r=this;V.isString(t)?(t=t.split(K),V.forEach(t,(function(t){r._bindEvent(t,e,n)}))):V.isObject(t)&&(n=e,V.forEach(t,(function(t,e){r.on(e,t,n)})))},$.prototype.once=function(t,e,n){var r=this;if(V.isObject(t))return n=e,void V.forEach(t,(function(t,e){r.once(e,t,n)}));function i(){e.apply(n,arguments),r.off(t,i,n)}this.on(t,i,n)},$.prototype._spliceMatches=function(t,e){var n,r;if(V.isArray(t))for(n=0,r=t.length;n<r;n+=1)!0===e(t[n])&&(t.splice(n,1),r-=1,n-=1)},$.prototype._matchHandler=function(t){var e=this;return function(n){var r=t===n.handler;return r&&e._forgetContext(n.context),r}},$.prototype._matchContext=function(t){var e=this;return function(n){var r=t===n.context;return r&&e._forgetContext(n.context),r}},$.prototype._matchHandlerAndContext=function(t,e){var n=this;return function(r){var i=t===r.handler,o=e===r.context,a=i&&o;return a&&n._forgetContext(r.context),a}},$.prototype._offByEventName=function(t,e){var n=this,r=V.forEach,i=V.isFunction(e),o=n._matchHandler(e);t=t.split(K),r(t,(function(t){var e=n._safeEvent(t);i?n._spliceMatches(e,o):(r(e,(function(t){n._forgetContext(t.context)})),n.events[t]=[])}))},$.prototype._offByHandler=function(t){var e=this,n=this._matchHandler(t);V.forEach(this._safeEvent(),(function(t){e._spliceMatches(t,n)}))},$.prototype._offByObject=function(t,e){var n,r=this;this._indexOfContext(t)<0?V.forEach(t,(function(t,e){r.off(e,t)})):V.isString(e)?(n=this._matchContext(t),r._spliceMatches(this._safeEvent(e),n)):V.isFunction(e)?(n=this._matchHandlerAndContext(e,t),V.forEach(this._safeEvent(),(function(t){r._spliceMatches(t,n)}))):(n=this._matchContext(t),V.forEach(this._safeEvent(),(function(t){r._spliceMatches(t,n)})))},$.prototype.off=function(t,e){V.isString(t)?this._offByEventName(t,e):arguments.length?V.isFunction(t)?this._offByHandler(t):V.isObject(t)&&this._offByObject(t,e):(this.events={},this.contexts=[])},$.prototype.fire=function(t){this.invoke.apply(this,arguments)},$.prototype.emit=$.prototype.fire,$.prototype.invoke=function(t){var e,n,r,i;if(!this.hasListener(t))return!0;e=this._safeEvent(t),n=Array.prototype.slice.call(arguments,1),r=0;while(e[r]){if(i=e[r],!1===i.handler.apply(i.context,n))return!1;r+=1}return!0},$.prototype.hasListener=function(t){return this.getListenerLength(t)>0},$.prototype.getListenerLength=function(t){var e=this._safeEvent(t);return e.length};var q=$,Z=n("y7lk"),J=class{setCanvasImage(t,e){this.getRoot().setCanvasImage(t,e)}getCanvasElement(){return this.getRoot().getCanvasElement()}getCanvas(){return this.getRoot().getCanvas()}getCanvasImage(){return this.getRoot().getCanvasImage()}getImageName(){return this.getRoot().getImageName()}getEditor(){return this.getRoot().getEditor()}getName(){return this.name}setImageProperties(t,e){this.getRoot().setImageProperties(t,e)}setCanvasCssDimension(t){this.getRoot().setCanvasCssDimension(t)}setCanvasBackstoreDimension(t){this.getRoot().setCanvasBackstoreDimension(t)}setParent(t){this._parent=t||null}adjustCanvasDimension(){this.getRoot().adjustCanvasDimension()}getParent(){return this._parent}getRoot(){let t=this.getParent(),e=this;while(t)e=t,t=e.getParent();return e}},Q={moduleNames:V.keyMirror("MAIN","IMAGE_LOADER","CROPPER","FLIP","ROTATION","FREE_DRAWING","LINE","ARROW","TEXT","ICON","FILTER","SHAPE","MOSAIC","PAN"),commandNames:V.keyMirror("CLEAR","LOAD_IMAGE","FLIP_IMAGE","ROTATE_IMAGE","ADD_OBJECT","REMOVE_OBJECT","APPLY_FILTER","ZOOM"),eventNames:{LOAD_IMAGE:"loadImage",CLEAR_OBJECTS:"clearObjects",CLEAR_IMAGE:"clearImage",START_CROPPING:"startCropping",END_CROPPING:"endCropping",FLIP_IMAGE:"flipImage",ROTATE_IMAGE:"rotateImage",ADD_OBJECT:"addObject",SELECT_OBJECT:"selectObject",REMOVE_OBJECT:"removeObject",ADJUST_OBJECT:"adjustObject",START_FREE_DRAWING:"startFreeDrawing",END_FREE_DRAWING:"endFreeDrawing",START_LINE_DRAWING:"startLineDrawing",END_LINE_DRAWING:"endLineDrawing",START_PAN:"startPan",END_PAN:"endPan",START_ARROW_DRAWING:"startArrowDrawing",END_ARROW_DRAWING:"endArrowDrawing",START_MOSAIC_DRAWING:"startMosaicDrawing",END_MOSAIC_DRAWING:"endMosaicDrawing",EMPTY_REDO_STACK:"emptyRedoStack",EMPTY_UNDO_STACK:"emptyUndoStack",PUSH_UNDO_STACK:"pushUndoStack",PUSH_REDO_STACK:"pushRedoStack",ACTIVATE_TEXT:"activateText",APPLY_FILTER:"applyFilter",EDIT_TEXT:"editText",MOUSE_DOWN:"mousedown",CHANGE_ZOOM:"changeZoom"},states:V.keyMirror("NORMAL","CROP","FREE_DRAWING","LINE","ARROW","MOSAIC","TEXT","SHAPE","PAN"),keyCodes:{Z:90,Y:89,SHIFT:16,BACKSPACE:8,DEL:46},fObjectOptions:{SELECTION_STYLE:{borderColor:"#118BFB",cornerColor:"#FFFFFF",cornerStrokeColor:"#118BFB",cornerSize:12,padding:1,originX:"center",originY:"center",transparentCorners:!1,cornerStyle:"circle"}},rejectMessages:{flip:"The flipX and flipY setting values are not changed.",rotation:"The current angle is same the old angle.",loadImage:"The background image is empty.",isLock:"The executing command state is locked.",undo:"The promise of undo command is reject.",redo:"The promise of redo command is reject."},MOUSE_MOVE_THRESHOLD:10};let tt=window.HTMLCanvasElement&&window.HTMLCanvasElement.prototype,et=window.Blob&&function(){try{return Boolean(new Blob)}catch(t){return!1}}(),nt=et&&window.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(t){return!1}}(),rt=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,it=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,ot=(et||rt)&&window.atob&&window.ArrayBuffer&&window.Uint8Array&&function(t){let e,n,r,i,o,a,s,c,l;if(e=t.match(it),!e)throw new Error("invalid data URI");for(n=e[2]?e[1]:`text/plain${e[3]||";charset=US-ASCII"}`,r=!!e[4],i=t.slice(e[0].length),o=r?atob(i):decodeURIComponent(i),a=new ArrayBuffer(o.length),s=new Uint8Array(a),c=0;c<o.length;c+=1)s[c]=o.charCodeAt(c);return et?new Blob([nt?s:a],{type:n}):(l=new rt,l.append(a),l.getBlob(n))};window.HTMLCanvasElement&&!tt.toBlob&&(tt.mozGetAsFile?tt.toBlob=function(t,e,n){n&&tt.toDataURL&&ot?t(ot(this.toDataURL(e,n))):t(this.mozGetAsFile("blob",e))}:tt.toDataURL&&ot&&(tt.toBlob=function(t,e,n){t(ot(this.toDataURL(e,n)))}));var at=ot;window.dataURLtoBlob=ot;const st=700,ct=400,lt={cssOnly:!0},ut={backstoreOnly:!0};class ht extends J{constructor(){super(),this.name=Q.moduleNames.MAIN,this.canvas=null,this.canvasImage=null,this.cssMaxWidth=st,this.cssMaxHeight=ct,this.imageName="",Z["fabric"].Path.prototype.selectable=!1}toDataURL(t,e=1){const n=Object.assign({},this.canvas.wrapperEl.style),r=Object.assign({},this.canvas.lowerCanvasEl.style),i=Object.assign({},this.canvas.upperCanvasEl.style);let o=this.canvas.toDataURL(t,e,1,0,0,this.canvas.width,this.canvas.height);return V.setStyle(this.canvas.wrapperEl,n),V.setStyle(this.canvas.lowerCanvasEl,r),V.setStyle(this.canvas.upperCanvasEl,i),o}toBlob(t,e=1){return at(this.toDataURL(t,e))}setCanvasImage(t,e){e&&V.stamp(e),this.imageName=t,this.canvasImage=e}setCssMaxDimension(t){this.cssMaxWidth=t.width||this.cssMaxWidth,this.cssMaxHeight=t.height||this.cssMaxHeight}setCanvasElement(t){let e,n;if(e=t.jquery?t[0]:t.nodeType?t:document.querySelector(t),!e||!e.nodeName)throw new Error("\u5bb9\u5668\u5143\u7d20\u662f\u7a7a");"CANVAS"!==e.nodeName.toUpperCase()&&(n=document.createElement("canvas"),e.appendChild(n)),this.canvas=new Z["fabric"].Canvas(n,{containerClass:"xm-fabric-photo-editor-canvas-container",enableRetinaScaling:!1}),this.canvas.selection=!1,this.canvas.wrapperEl&&this.canvas.wrapperEl.style.setProperty("overflow","hidden")}adjustCanvasDimension(){const t=this.canvasImage.scale(1),e=t.getBoundingRect(),n=e.width,r=e.height,i=this._calcMaxDimension(n,r);this.setCanvasCssDimension({width:`${i.width}px`,height:`${i.height}px`}),this.setCanvasBackstoreDimension({width:n,height:r}),this.canvas.centerObject(t),this.canvas.lowerCanvasEl&&(this.canvas.lowerCanvasEl.style.setProperty("top","0px"),this.canvas.lowerCanvasEl.style.setProperty("left","0px")),this.canvas.upperCanvasEl&&(this.canvas.upperCanvasEl.style.setProperty("top","0px"),this.canvas.upperCanvasEl.style.setProperty("left","0px")),this._zoom=i.width/n}_calcMaxDimension(t,e){const n=this.cssMaxWidth/t,r=this.cssMaxHeight/e;let i=Math.min(t,this.cssMaxWidth),o=Math.min(e,this.cssMaxHeight);return n<1&&n<r?(i=t*n,o=e*n):r<1&&r<n&&(i=t*r,o=e*r),{width:Math.floor(i),height:Math.floor(o)}}setCanvasCssDimension(t){this.canvas.setDimensions(t,lt)}setCanvasBackstoreDimension(t){this.canvas.setDimensions(t,ut)}setZoom(t){if(this._zoom===t)return;let{width:e,height:n}=this.getViewPortInfo().canvas;const r=this._calcMaxDimension(e,n);t=Math.max(r.width/e,Math.min(t,2));const i=e*t,o=n*t;this.canvas.lowerCanvasEl&&(this.canvas.lowerCanvasEl.style.setProperty("height",`${o}px`),this.canvas.lowerCanvasEl.style.setProperty("width",`${i}px`),this.canvas.lowerCanvasEl.style.setProperty("top","0px"),this.canvas.lowerCanvasEl.style.setProperty("left","0px")),this.canvas.upperCanvasEl&&(this.canvas.upperCanvasEl.style.setProperty("height",`${o}px`),this.canvas.upperCanvasEl.style.setProperty("width",`${i}px`),this.canvas.upperCanvasEl.style.setProperty("top","0px"),this.canvas.upperCanvasEl.style.setProperty("left","0px")),this.cssMaxWidth>i&&this.canvas.wrapperEl.style.setProperty("width",`${i}px`),this.cssMaxHeight>o&&this.canvas.wrapperEl.style.setProperty("height",`${o}px`),this._zoom=t,this.canvas.renderAll()}getZoom(){return this._zoom}getViewPortImage(){const t=this.getCanvas().wrapperEl,e=this.getCanvas().upperCanvasEl,n=parseInt(e.style["left"],10),r=parseInt(e.style["top"],10);let i=parseInt(t.style["width"],10),o=parseInt(t.style["height"],10),a=parseInt(e.style["width"],10),s=parseInt(e.style["height"],10),c=e.width,l=a/c,u={width:i/l,height:o/l,left:Math.abs(n/l),top:Math.abs(r/l)};const h=Object.assign({},this.canvas.wrapperEl.style),f=Object.assign({},this.canvas.lowerCanvasEl.style),d=Object.assign({},this.canvas.upperCanvasEl.style);let p=this.getCanvas().toDataURL(u);return V.setStyle(this.canvas.wrapperEl,h),V.setStyle(this.canvas.lowerCanvasEl,f),V.setStyle(this.canvas.upperCanvasEl,d),{cropInfo:u,originInfo:{height:s,width:a,left:Math.abs(n),top:Math.abs(r)},viewPortInfo:{height:o,width:i},url:p,radio:l}}getViewPortInfo(){const t=this.getCanvas(),e=this.getCanvas().upperCanvasEl,n=parseInt(e.style["left"],10),r=parseInt(e.style["top"],10);let i=parseInt(e.style["width"],10),o=parseInt(e.style["height"],10);return{canvas:{height:t.height,width:t.width,cssHeight:o,cssWidth:i,left:n,top:r}}}setImageProperties(t,e){const n=this.canvasImage;n&&(n.set(t).setCoords(),e&&this.canvas.renderAll())}getCanvasElement(){return this.canvas.getElement()}getCanvas(){return this.canvas}getCanvasImage(){return this.canvasImage}getImageName(){return this.imageName}}class ft extends J{constructor(t){super(),this.setParent(t),this.name=Q.moduleNames.FREE_DRAWING,this.width=12,this.oColor=new Z["fabric"].Color("rgba(0, 0, 0, 0.5)")}start(t){const e=this.getCanvas();e.isDrawingMode=!0,this.setBrush(t)}setBrush(t){let e=this.getCanvas().freeDrawingBrush;t=t||{},this.width=t.width||this.width,t.color&&(this.oColor=new Z["fabric"].Color(t.color)),e.width=this.width,e.color=this.oColor.toRgba()}setStyle(t,e){t.set(e),this.getCanvas().renderAll()}end(){const t=this.getCanvas();t.isDrawingMode=!1}}const dt={fill:"#000000",left:0,top:0},pt={fill:"#000000",fontStyle:"normal",fontWeight:"normal",textAlign:"left",textDecoraiton:""},{browser:gt}=V,mt="fabric-photo-eidtor-textarea",vt=V.makeStyleText({position:"absolute",padding:0,display:"none",border:"1px dotted red",overflow:"hidden",resize:"none",outline:"none","border-radius":0,"background-color":"transparent","-webkit-appearance":"none","z-index":99999,"white-space":"pre"}),bt=.1,yt=500;class wt extends J{constructor(t){super(),this.setParent(t),this.name=Q.moduleNames.TEXT,this._defaultStyles=dt,this._isSelected=!1,this._selectedObj={},this._editingObj={},this._listeners={},this._textarea=null,this._ratio=1,this._lastClickTime=(new Date).getTime(),this._editingObjInfos={},this.isPrevEditing=!1}start(t){const e=this.getCanvas();this._listeners=t,e.selection=!1,e.defaultCursor="text",e.on({"mouse:down":this._listeners.mousedown,"object:selected":this._listeners.select,"before:selection:cleared":this._listeners.selectClear,"object:scaling":this._onFabricScaling}),this._createTextarea(),this.setCanvasRatio()}end(){const t=this.getCanvas();t.selection=!1,t.defaultCursor="default",t.deactivateAllWithDispatch(),t.off({"mouse:down":this._listeners.mousedown,"object:selected":this._listeners.select,"before:selection:cleared":this._listeners.selectClear,"object:scaling":this._onFabricScaling}),this._removeTextarea(),this._listeners={}}add(t,e,n=!1){const r=this.getCanvas();let i=this._defaultStyles;this._setInitPos(e.position),e.styles&&(i=Object.assign(i,e.styles));const o=new Z["fabric"].Text(t,i);o.set(Q.fObjectOptions.SELECTION_STYLE),o.set({objectCaching:!1}),o.setControlsVisibility({bl:!0,br:!0,mb:!1,ml:!1,mr:!1,mt:!1,tl:!0,tr:!0,mtr:!0}),o.on({mouseup:this._onFabricMouseUp.bind(this)}),r.add(o),r.getActiveObject()||(r.setActiveObject(o),n&&(this._changeToEditingMode(o),this._lastClickTime=(new Date).getTime(),this._listeners.dbclick())),this.isPrevEditing=!0}change(t,e){t.set("text",e),this.getCanvas().renderAll()}setStyle(t,e){V.forEach(e,((n,r)=>{t[r]===n&&(e[r]=pt[r]||"")}),this),t.set(e),this.getCanvas().renderAll()}setSelectedInfo(t,e){this._selectedObj=t,this._isSelected=e}isSelected(){return this._isSelected}getSelectedObj(){return this._selectedObj}setCanvasRatio(){const t=this.getCanvasElement(),e=parseInt(t.style.width,10),n=t.width,r=n/e;this._ratio=r}getCanvasRatio(){const t=this.getCanvasElement(),e=parseInt(t.style.width,10),n=t.width,r=n/e;return r}_setInitPos(t){t=t||this.getCanvasImage().getCenterPoint(),this._defaultStyles.left=t.x,this._defaultStyles.top=t.y}_createTextarea(){const t=this.getCanvasElement().parentNode,e=document.createElement("textarea");e.className=mt,e.setAttribute("style",vt),e.setAttribute("wrap","off"),t.appendChild(e),this._textarea=e,this._listeners=Object.assign(this._listeners,{input:this._onInput.bind(this),keydown:this._onKeyDown.bind(this),blur:this._onBlur.bind(this),scroll:this._onScroll.bind(this)}),gt.msie&&9===gt.version?Z["fabric"].util.addListener(e,"keydown",this._listeners.keydown):Z["fabric"].util.addListener(e,"input",this._listeners.input),Z["fabric"].util.addListener(e,"blur",this._listeners.blur),Z["fabric"].util.addListener(e,"scroll",this._listeners.scroll)}_removeTextarea(){const t=this.getCanvasElement().parentNode,e=t.querySelector("textarea");t.removeChild(e),this._textarea=null,gt.msie&&gt.version<10?Z["fabric"].util.removeListener(e,"keydown",this._listeners.keydown):Z["fabric"].util.removeListener(e,"input",this._listeners.input),Z["fabric"].util.removeListener(e,"blur",this._listeners.blur),Z["fabric"].util.removeListener(e,"scroll",this._listeners.scroll)}_onInput(){const t=this.getCanvasRatio(),e=this._editingObj,n=this._textarea.style;e.setText(this._textarea.value),n.width=`${Math.ceil(e.getWidth()/t)}px`,n.height=`${Math.ceil(e.getHeight()/t)}px`}_onKeyDown(){const t=this.getCanvasRatio(),e=this._editingObj,n=this._textarea.style;setTimeout((()=>{e.setText(this._textarea.value),n.width=`${Math.ceil(e.getWidth()/t)}px`,n.height=`${Math.ceil(e.getHeight()/t)}px`}),0)}_onBlur(){const t=this._editingObj,e=this._editingObjInfos;let n=t.getWidth()-e.width,r=t.getHeight()-e.height;this._textarea.style.display="none",this._editingObj.set({left:e.left+n/2,top:e.top+r/2}),this.getCanvas().add(this._editingObj),this.getCanvas().on("object:removed",this._listeners.remove)}_onScroll(){this._textarea.scrollLeft=0,this._textarea.scrollTop=0}_onFabricScaling(t){const e=t.target,n=e.getFontSize()*e.getScaleY();e.setFontSize(n),e.setScaleX(1),e.setScaleY(1)}_onFabricMouseUp(t){const e=(new Date).getTime();this._isDoubleClick(e)&&(this._changeToEditingMode(t.target),this._listeners.dbclick()),this._lastClickTime=e}_isDoubleClick(t){return t-this._lastClickTime<yt}_changeToEditingMode(t){const e=this.getCanvasRatio(),n=this._textarea.style;this.isPrevEditing=!0;const r=this.getCanvas(),i=r.lowerCanvasEl.style,o=parseInt(i.left,10),a=parseInt(i.top,10);r.off("object:removed",this._listeners.remove),t.remove(),this._editingObj=t,this._textarea.value=t.getText(),this._editingObjInfos={left:this._editingObj.getLeft(),top:this._editingObj.getTop(),width:this._editingObj.getWidth(),height:this._editingObj.getHeight()},n.display="block",n.left=`${t.oCoords.tl.x/e+o}px`,n.top=`${t.oCoords.tl.y/e+a}px`,n.width=`${Math.ceil(t.getWidth()/e)}px`,n.height=`${Math.ceil(t.getHeight()/e)}px`,n.transform=`rotate(${t.getAngle()}deg)`,n.color=t.getFill(),n["font-size"]=t.getFontSize()/e+"px",n["font-family"]=t.getFontFamily(),n["font-style"]=t.getFontStyle(),n["font-weight"]=t.getFontWeight(),n["text-align"]=t.getTextAlign(),n["line-height"]=t.getLineHeight()+bt,n["transform-origin"]="left top",this._textarea.focus()}}const{moduleNames:_t,rejectMessages:xt}=Q,St={padding:0,crossOrigin:"anonymous"};class Ct extends J{constructor(t){super(),this.setParent(t),this.name=_t.IMAGE_LOADER}load(t,e){let n;if(t||e)n=this._setBackgroundImage(e).then((e=>(this.setCanvasImage(t,e),this.adjustCanvasDimension(),e)));else{const t=this.getCanvas();t.backgroundImage=null,t.renderAll(),n=new Promise((t=>{this.setCanvasImage("",null),t()}))}return n}_setBackgroundImage(t){return t?new Promise(((e,n)=>{const r=this.getCanvas();r.setBackgroundImage(t,(()=>{const t=r.backgroundImage;t.getElement()?e(t):n()}),St)})):Promise.reject(xt.loadImage)}}const{rejectMessages:Et}=Q;class Ot extends J{constructor(t){super(),this.setParent(t),this.name=Q.moduleNames.ROTATION}getCurrentAngle(){return this.getCanvasImage().angle}setAngle(t){const e=this.getCurrentAngle()%360;if(t%=360,t===e)return Promise.reject(Et.rotation);const n=this.getCanvasImage(),r=n.getCenterPoint();n.setAngle(t).setCoords(),this.adjustCanvasDimension();const i=n.getCenterPoint();return this._rotateForEachObject(r,i,t-e),Promise.resolve(t)}_rotateForEachObject(t,e,n){const r=this.getCanvas(),i={x:t.x-e.x,y:t.y-e.y};r.forEachObject((e=>{const r=e.getCenterPoint(),o=Z["fabric"].util.degreesToRadians(n),a=Z["fabric"].util.rotatePoint(r,t,o);e.set({left:a.x-i.x,top:a.y-i.y,angle:(e.angle+n)%360}),e.setCoords()})),r.renderAll()}rotate(t){const e=this.getCurrentAngle();return this.setAngle(e+t)}}const kt={rect:1,circle:2,triangle:1},Tt={rect:{w:"width",h:"height"},circle:{w:"rx",h:"ry"},triangle:{w:"width",h:"height"}};function jt(t){const e=t.getOriginX(),n=t.getOriginY(),r=e.substring(0,1)+n.substring(0,1);t.startPoint=t.origins[r]}function Mt(t,e,n){const r=t.x,i=t.y,o=e.x,a=e.y,s=n*Math.PI/180,c=(o-r)*Math.cos(s)-(a-i)*Math.sin(s)+r,l=(o-r)*Math.sin(s)+(a-i)*Math.cos(s)+i;return{originX:r>c?"right":"left",originY:i>l?"bottom":"top"}}function At(t){return"center"===t.getOriginX()&&"center"===t.getOriginY()}function Pt(t,e){const n=e.getPointByOrigin("center","center"),r=-e.getAngle(),i=Mt(n,t,r),o=i.originX,a=i.originY,s=e.getPointByOrigin(o,a),c=e.getLeft()-(n.x-s.x),l=e.getTop()-(n.x-s.y);e.set({originX:o,originY:a,left:c,top:l}),e.setCoords()}function It(t,e){const n=e.startPoint,r=-e.getAngle(),i=Mt(n,t,r),o=i.originX,a=i.originY;e.setPositionByOrigin(n,o,a)}function Rt(t){const e=t.type,n=Tt[e],r=t.scaleX,i=t.scaleY;let o=t[n.w]*r,a=t[n.h]*i;if(t.isRegular){const e=Math.max(r,i);o=t[n.w]*e,a=t[n.h]*e}const s={hasControls:!1,hasBorders:!1,scaleX:1,scaleY:1};s[n.w]=o,s[n.h]=a,t.set(s)}function Dt(t,e){const n=e.startPoint,r=e.type,i=kt[r],o=Tt[r],a=e.strokeWidth,s=!("triangle"!==e.type),c={};let l=Math.abs(n.x-t.x)/i,u=Math.abs(n.y-t.y)/i;l>a&&(l-=a/i),u>a&&(u-=a/i),e.isRegular&&(l=u=Math.max(l,u),s&&(u=Math.sqrt(3)/2*l)),c[o.w]=l,c[o.h]=u,e.set(c)}var Lt={setOrigins(t){const e=t.getPointByOrigin("left","top"),n=t.getPointByOrigin("right","top"),r=t.getPointByOrigin("right","bottom"),i=t.getPointByOrigin("left","bottom");t.origins={lt:e,rt:n,rb:r,lb:i}},resize(t,e,n){At(t)&&(Pt(e,t),jt(t)),n?Rt(t,e):Dt(e,t),It(e,t)},adjustOriginToCenter(t){const e=t.getPointByOrigin("center","center"),n=t.getOriginX(),r=t.getOriginY(),i=t.getPointByOrigin(n,r),o=t.getLeft()+(e.x-i.x),a=t.getTop()+(e.y-i.y);t.set({hasControls:!0,hasBorders:!0,originX:"center",originY:"center",left:o,top:a}),t.setCoords()}};const{inArray:Nt,extend:Ft}=V,Bt=Q.keyCodes,Ut="rect",Wt={strokeWidth:1,stroke:"#000000",fill:"#ffffff",width:1,height:1,rx:0,ry:0,lockSkewingX:!0,lockSkewingY:!0,lockUniScaling:!1,bringForward:!0,isRegular:!1},zt=["rect","circle","triangle"];class Ht extends J{constructor(t){super(),this.setParent(t),this.name=Q.moduleNames.SHAPE,this._shapeObj=null,this._type=Ut,this._options=Wt,this._isSelected=!1,this._startPoint={},this._withShiftKey=!1,this._handlers={mousedown:this._onFabricMouseDown.bind(this),mousemove:this._onFabricMouseMove.bind(this),mouseup:this._onFabricMouseUp.bind(this),keydown:this._onKeyDown.bind(this),keyup:this._onKeyUp.bind(this)}}startDrawingMode(){const t=this.getCanvas();this._isSelected=!1,t.defaultCursor="crosshair",t.selection=!1,t.uniScaleTransform=!0,t.on({"mouse:down":this._handlers.mousedown}),Z["fabric"].util.addListener(document,"keydown",this._handlers.keydown),Z["fabric"].util.addListener(document,"keyup",this._handlers.keyup)}endDrawingMode(){const t=this.getCanvas();this._isSelected=!1,t.defaultCursor="default",t.selection=!1,t.uniScaleTransform=!1,t.off({"mouse:down":this._handlers.mousedown}),Z["fabric"].util.removeListener(document,"keydown",this._handlers.keydown),Z["fabric"].util.removeListener(document,"keyup",this._handlers.keyup)}setStates(t,e){this._type=t,e&&(this._options=Object.assign(this._options,e))}add(t,e){const n=this.getCanvas();e=this._createOptions(e);const r=this._createInstance(t,e);this._bindEventOnShape(r),n.add(r)}change(t,e){Nt(t.get("type"),zt)<0||(t.set(e),this.getCanvas().renderAll())}_createInstance(t,e){let n;switch(t){case"rect":n=new Z["fabric"].Rect(e);break;case"circle":n=new Z["fabric"].Ellipse(Ft({type:"circle"},e));break;case"triangle":n=new Z["fabric"].Triangle(e);break;default:n={}}return n}_createOptions(t){const e=Q.fObjectOptions.SELECTION_STYLE;return t=Object.assign({},Wt,e,t),t.isRegular&&(t.lockUniScaling=!0),t}_bindEventOnShape(t){const e=this,n=this.getCanvas();t.on({added(){e._shapeObj=this,Lt.setOrigins(e._shapeObj)},selected(){e._isSelected=!0,e._shapeObj=this,n.uniScaleTransform=!0,n.defaultCursor="default",Lt.setOrigins(e._shapeObj)},deselected(){e._isSelected=!1,e._shapeObj=null,n.defaultCursor="crosshair",n.uniScaleTransform=!1},modified(){const t=e._shapeObj;Lt.adjustOriginToCenter(t),Lt.setOrigins(t)},scaling(t){const r=n.getPointer(t.e),i=e._shapeObj;n.setCursor("crosshair"),Lt.resize(i,r,!0)}})}_onFabricMouseDown(t){if(!this._isSelected&&!this._shapeObj){const e=this.getCanvas();this._startPoint=e.getPointer(t.e),e.on({"mouse:move":this._handlers.mousemove,"mouse:up":this._handlers.mouseup})}}_onFabricMouseMove(t){const e=this.getCanvas(),n=e.getPointer(t.e),r=this._startPoint.x,i=this._startPoint.y,o=r-n.x,a=i-n.y,s=this._shapeObj;s?(this._shapeObj.set({isRegular:this._withShiftKey}),Lt.resize(s,n),e.renderAll()):this.add(this._type,{left:r,top:i,width:o,height:a})}_onFabricMouseUp(){const t=this.getCanvas(),e=this._shapeObj;e&&Lt.adjustOriginToCenter(e),this._shapeObj=null,t.off({"mouse:move":this._handlers.mousemove,"mouse:up":this._handlers.mouseup})}_onKeyDown(t){t.keyCode===Bt.SHIFT&&(this._withShiftKey=!0,this._shapeObj&&(this._shapeObj.isRegular=!0))}_onKeyUp(t){t.keyCode===Bt.SHIFT&&(this._withShiftKey=!1,this._shapeObj&&(this._shapeObj.isRegular=!1))}}class Yt extends J{constructor(t){super(),this.setParent(t),this.name=Q.moduleNames.LINE,this._width=12,this._oColor=new Z["fabric"].Color("rgba(0, 0, 0, 0.5)"),this._listeners={mousedown:this._onFabricMouseDown.bind(this),mousemove:this._onFabricMouseMove.bind(this),mouseup:this._onFabricMouseUp.bind(this)}}start(t){const e=this.getCanvas();e.defaultCursor="crosshair",e.selection=!1,this.setBrush(t),e.forEachObject((t=>{t.set({evented:!1})})),e.on({"mouse:down":this._listeners.mousedown})}setBrush(t){const e=this.getCanvas().freeDrawingBrush;t=t||{},this._width=t.width||this._width,t.color&&(this._oColor=new Z["fabric"].Color(t.color)),e.width=this._width,e.color=this._oColor.toRgba()}end(){const t=this.getCanvas();t.defaultCursor="default",t.selection=!1,t.forEachObject((t=>{t.set({evented:!0})})),t.off("mouse:down",this._listeners.mousedown)}_onFabricMouseDown(t){const e=this.getCanvas(),n=e.getPointer(t.e),r=[n.x,n.y,n.x,n.y];this._line=new Z["fabric"].Line(r,{stroke:this._oColor.toRgba(),strokeWidth:this._width,evented:!1}),this._line.set(Q.fObjectOptions.SELECTION_STYLE),e.add(this._line),e.on({"mouse:move":this._listeners.mousemove,"mouse:up":this._listeners.mouseup})}_onFabricMouseMove(t){const e=this.getCanvas(),n=e.getPointer(t.e);this._line.set({x2:n.x,y2:n.y}),this._line.setCoords(),e.renderAll()}_onFabricMouseUp(){const t=this.getCanvas();this._line=null,t.off({"mouse:move":this._listeners.mousemove,"mouse:up":this._listeners.mouseup})}}class Gt extends J{constructor(t){super(),this.setParent(t),this.name=Q.moduleNames.ARROW,this._width=5,this._radius=3,this._dimension={height:20,width:20},this._oColor=new Z["fabric"].Color("rgba(0, 0, 0, 0.5)"),this._listeners={mousedown:this._onFabricMouseDown.bind(this),mousemove:this._onFabricMouseMove.bind(this),mouseup:this._onFabricMouseUp.bind(this)}}start(t){const e=this.getCanvas();e.defaultCursor="crosshair",e.selection=!1,e.forEachObject((t=>{t.set({evented:!1})})),this.setBrush(t),e.on({"mouse:down":this._listeners.mousedown})}setBrush(t){const e=this.getCanvas().freeDrawingBrush;t=t||{},this._width=t.width||this._width,this._radius=t.radius||this._radius,this._dimension=Object.assign(this._dimension,t.dimension),t.color&&(this._oColor=new Z["fabric"].Color(t.color)),e.width=this._width,e.color=this._oColor.toRgba()}setStyle(t,e){t.set(e),this.getCanvas().renderAll()}end(){const t=this.getCanvas();t.defaultCursor="default",t.selection=!1,t.forEachObject((t=>{t.set({evented:!0})})),t.off("mouse:down",this._listeners.mousedown)}_onFabricMouseDown(t){const e=this.getCanvas(),n=this.startPointer=e.getPointer(t.e);let r=this.group=new Z["fabric"].Group([],{left:n.x,top:n.y});this.group.set(Q.fObjectOptions.SELECTION_STYLE),r.customType="arrow",e.add(r),e.renderAll(),e.on({"mouse:move":this._listeners.mousemove,"mouse:up":this._listeners.mouseup})}drawArrow(t,e){const n=[t.x,t.y,e.x,e.y],r=this.line=new Z["fabric"].Line(n,{stroke:this._oColor.toRgba(),strokeWidth:this._width,padding:5,originX:"center",originY:"center"});let i=(r.x1+r.x2)/2,o=(r.y1+r.y2)/2,a=r.left-i,s=r.top-o;const c=this.arrow=new Z["fabric"].Triangle({left:r.get("x1")+a,top:r.get("y1")+s,originX:"center",originY:"center",pointType:"arrow_start",angle:t.x===e.x&&t.y===e.y?-45:this.calcArrowAngle(t.x,t.y,e.x,e.y)-90,width:this._dimension.width,height:this._dimension.height,fill:this._oColor.toRgba()}),l=this.circle=new Z["fabric"].Circle({left:r.get("x2")+a,top:r.get("y2")+s,radius:this._radius,stroke:this._oColor.toRgba(),strokeWidth:this._width,originX:"center",originY:"center",pointType:"arrow_end",fill:this._oColor.toRgba()});r.customType=c.customType=l.customType="arrow"}_onFabricMouseMove(t){const e=this.getCanvas(),n=e.getPointer(t.e),{x:r,y:i}=n.x;Math.abs(r-this.startPointer.x)+Math.abs(i-this.startPointer.y)>5&&(this.group.remove(this.line,this.arrow,this.circle),this.drawArrow(n,this.startPointer),this.group.addWithUpdate(this.arrow),this.group.addWithUpdate(this.line),this.group.addWithUpdate(this.circle),e.renderAll())}_onFabricMouseUp(){const t=this.getCanvas();this.line=null,t.off({"mouse:move":this._listeners.mousemove,"mouse:up":this._listeners.mouseup})}calcArrowAngle(t,e,n,r){var i,o,a=0;return i=n-t,o=r-e,a=0===i?0===o?0:o>0?Math.PI/2:3*Math.PI/2:0===o?i>0?0:Math.PI:i<0?Math.atan(o/i)+Math.PI:o<0?Math.atan(o/i)+2*Math.PI:Math.atan(o/i),180*a/Math.PI}}const Xt=V.clamp,Vt="tl",Kt="tr",$t="mt",qt="ml",Zt="mr",Jt="mb",Qt="bl",te="br",ee=Z["fabric"].util.createClass(Z["fabric"].Rect,{initialize(t){t.type="cropzone",this.callSuper("initialize",t),this.on({moving:this._onMoving,scaling:this._onScaling})},objectCaching:!1,_render(t){const e=7,n=7;this.callSuper("_render",t);const r=this.flipX?-1:1,i=this.flipY?-1:1,o=r/this.scaleX,a=i/this.scaleY;t.scale(o,a),this._fillOuterRect(t,"rgba(0, 0, 0, 0.55)"),this._strokeBorder(t,"rgb(0, 0, 0)",e),this._strokeBorder(t,"rgb(255, 255, 255)",e,n),t.scale(1/o,1/a)},_fillOuterRect(t,e){const n=this._getCoordinates(t),r=n.x,i=n.y;t.save(),t.fillStyle=e,t.beginPath(),t.moveTo(r[0]-1,i[0]-1),t.lineTo(r[3]+1,i[0]-1),t.lineTo(r[3]+1,i[3]+1),t.lineTo(r[0]-1,i[3]-1),t.lineTo(r[0]-1,i[0]-1),t.closePath(),t.moveTo(r[1],i[1]),t.lineTo(r[1],i[2]),t.lineTo(r[2],i[2]),t.lineTo(r[2],i[1]),t.lineTo(r[1],i[1]),t.closePath(),t.fill(),t.restore()},_getCoordinates(t){const e=Math.ceil,n=this.getWidth(),r=this.getHeight(),i=n/2,o=r/2,a=this.getLeft(),s=this.getTop(),c=t.canvas;return{x:V.map([-(i+a),-i,i,i+(c.width-a-n)],e),y:V.map([-(o+s),-o,o,o+(c.height-s-r)],e)}},_strokeBorder(t,e,n,r){const i=this.getWidth()/2,o=this.getHeight()/2;t.save(),t.strokeStyle=e,t.setLineDash&&t.setLineDash([n,n]),r&&(t.lineDashOffset=r),t.beginPath(),t.moveTo(-i,-o),t.lineTo(i,-o),t.lineTo(i,o),t.lineTo(-i,o),t.lineTo(-i,-o),t.stroke(),t.restore()},_onMoving(){const t=this.canvas,e=this.getLeft(),n=this.getTop(),r=this.getWidth(),i=this.getHeight(),o=t.getWidth()-r,a=t.getHeight()-i;this.setLeft(Xt(e,0,o)),this.setTop(Xt(n,0,a))},_onScaling(t){const e=this.canvas.getPointer(t.e),n=this._calcScalingSizeFromPointer(e);this.scale(1).set(n)},_calcScalingSizeFromPointer(t){const e=t.x,n=t.y,r=this._calcTopLeftScalingSizeFromPointer(e,n),i=this._calcBottomRightScalingSizeFromPointer(e,n);return this._makeScalingSettings(r,i)},_calcTopLeftScalingSizeFromPointer(t,e){const n=this.getHeight()+this.top,r=this.getWidth()+this.left,i=Xt(e,0,n-1),o=Xt(t,0,r-1);return{top:i,left:o,width:r-o,height:n-i}},_calcBottomRightScalingSizeFromPointer(t,e){const n=this.canvas,r=n.width,i=n.height,o=this.left,a=this.top;return{width:Xt(t,o+1,r)-o,height:Xt(e,a+1,i)-a}},_makeScalingSettings(t,e){const n=t.width,r=t.height,i=e.height,o=e.width,a=t.left,s=t.top;let c;switch(this.__corner){case Vt:c=t;break;case Kt:c={width:o,height:r,top:s};break;case Qt:c={width:n,height:i,left:a};break;case te:c=e;break;case qt:c={width:n,left:a};break;case $t:c={height:r,top:s};break;case Zt:c={width:o};break;case Jt:c={height:i};break;default:break}return c},isValid(){return this.left>=0&&this.top>=0&&this.width>0&&this.height>0}});var ne=ee;const{MOUSE_MOVE_THRESHOLD:re}=Q,{clamp:ie,bind:oe}=V,{keyCodes:ae}=Q;class se extends J{constructor(t){super(),this.setParent(t),this.name=Q.moduleNames.CROPPER,this._cropzone=null,this._startX=null,this._startY=null,this._withShiftKey=!1,this._listeners={keydown:oe(this._onKeyDown,this),keyup:oe(this._onKeyUp,this),mousedown:oe(this._onFabricMouseDown,this),mousemove:oe(this._onFabricMouseMove,this),mouseup:oe(this._onFabricMouseUp,this)}}start(){if(this._cropzone)return;const t=this.getCanvas();t.forEachObject((t=>{t.evented=!1}));let e=parseInt(t.wrapperEl.style["width"],10),n=parseInt(t.wrapperEl.style["height"],10),r=t.upperCanvasEl.width,i=e/r,o=.1*e/i,a=.1*n/i,s=.8*e/i,c=.8*n/i;this._cropzone=new ne({left:o,top:a,width:s,height:c,strokeWidth:0,cornerStyle:"circle",cornerColor:"#FFFFFF",cornerStrokeColor:"#118BFB",cornerSize:15,fill:"transparent",hasRotatingPoint:!1,hasBorders:!1,lockScalingFlip:!0,lockRotation:!0}),t.deactivateAll(),t.add(this._cropzone),t.on("mouse:down",this._listeners.mousedown),t.selection=!1,t.defaultCursor="crosshair",t.setActiveObject(this._cropzone),Z["fabric"].util.addListener(document,"keydown",this._listeners.keydown),Z["fabric"].util.addListener(document,"keyup",this._listeners.keyup)}end(t){const e=this.getCanvas(),n=this._cropzone;let r;return e.off("mouse:down",this._listeners.mousedown),Z["fabric"].util.removeListener(document,"keydown",this._listeners.keydown),Z["fabric"].util.removeListener(document,"keyup",this._listeners.keyup),n?(n.remove(),e.selection=!1,e.defaultCursor="default",e.forEachObject((t=>{t.evented=!0})),t&&(r=this._getCroppedImageData()),this._cropzone=null,r):null}_onFabricMouseDown(t){const e=this.getCanvas();if(t.target)return;e.selection=!1;const n=e.getPointer(t.e);this._startX=n.x,this._startY=n.y,e.on({"mouse:move":this._listeners.mousemove,"mouse:up":this._listeners.mouseup})}_onFabricMouseMove(t){const e=this.getCanvas(),n=e.getPointer(t.e),r=n.x,i=n.y,o=this._cropzone;Math.abs(r-this._startX)+Math.abs(i-this._startY)>re&&(o.remove(),o.set(this._calcRectDimensionFromPoint(r,i)),e.add(o))}_calcRectDimensionFromPoint(t,e){const n=this.getCanvas(),r=n.getWidth(),i=n.getHeight(),o=this._startX,a=this._startY;let s=ie(t,0,o),c=ie(e,0,a),l=ie(t,o,r)-s,u=ie(e,a,i)-c;return this._withShiftKey&&(l>u?u=l:u>l&&(l=u),o>=t&&(s=o-l),a>=e&&(c=a-u)),{left:s,top:c,width:l,height:u}}_onFabricMouseUp(){const t=this._cropzone,e=this._listeners,n=this.getCanvas();n.setActiveObject(t),n.off({"mouse:move":e.mousemove,"mouse:up":e.mouseup})}_getCroppedImageData(){const t=this._cropzone;if(!t.isValid())return null;const e={left:t.getLeft(),top:t.getTop(),width:t.getWidth(),height:t.getHeight()};return{imageName:this.getImageName(),url:this.getCanvas().toDataURL(e)}}_onKeyDown(t){t.keyCode===ae.SHIFT&&(this._withShiftKey=!0)}_onKeyUp(t){t.keyCode===ae.SHIFT&&(this._withShiftKey=!1)}}const ce=Z["fabric"].util.createClass(Z["fabric"].Object,{type:"mosaic",objectCaching:!1,initialize:function(t){t||(t={}),this._minPoint={left:0,top:0},this._maxPoint={left:0,top:0},this._mosaicRects=[],this.callSuper("initialize",t),this.addMosicRectWithUpdate(t.mosaicRects||[])},toObject:function(){return Z["fabric"].util.object.extend(this.callSuper("toObject"),{_mosaicRects:this.get("_mosaicRects")})},_render:function(t){this._mosaicRects.forEach(((e,n)=>{t.fillStyle=e.fill,t.fillRect(e.left,e.top,e.dimensions,e.dimensions)}))},addMosaicRect:function(t){t.forEach((t=>{(t.left<this._minPoint.left||t.top<this._minPoint.top)&&(this._minPoint={left:t.left,top:t.top}),(t.left>this._maxPoint.left||t.top>this._maxPoint.top)&&(this._maxPoint={left:t.left,top:t.top}),this._mosaicRects.push({left:t.left,top:t.top,dimensions:t.dimensions,fill:t.fill})}))},addMosicRectWithUpdate:function(t){this.addMosaicRect(t),this.set({width:this._maxPoint.left-this._minPoint.left,height:this._maxPoint.top-this._minPoint.top,left:this._minPoint.left,top:this._minPoint.top,selectable:!1})}});var le=ce;class ue extends J{constructor(t){super(),this.setParent(t),this.name=Q.moduleNames.MOSAIC,this._dimensions=8,this._listeners={mousedown:this._onFabricMouseDown.bind(this),mousemove:this._onFabricMouseMove.bind(this),mouseup:this._onFabricMouseUp.bind(this)}}start(t){const e=this.getCanvas();e.defaultCursor="crosshair",e.selection=!1,t=t||{},this._dimensions=parseInt(t.dimensions,10)||this._dimensions,e.forEachObject((t=>{t.set({evented:!1})})),e.on({"mouse:down":this._listeners.mousedown})}end(){const t=this.getCanvas();t.defaultCursor="default",t.selection=!1,t.forEachObject((t=>{t.set({evented:!0})})),t.off("mouse:down",this._listeners.mousedown)}_onFabricMouseDown(){const t=this.getCanvas();let e=t.getElement(),n=this.mosaicLayer=e.cloneNode(!0);n.classList.remove("lower-canvas"),n.classList.add("mosaic-canvas"),this.mosaicArr=[],e.insertAdjacentElement("afterend",n),t.on({"mouse:move":this._listeners.mousemove,"mouse:up":this._listeners.mouseup})}_onFabricMouseMove(t){let e=this.getCanvasRatio();e=Math.ceil(e);let n=this._dimensions*e;const r=this.getCanvas(),i=r.getPointer(t.e);let o=r.contextContainer.getImageData(parseInt(i.x,10),parseInt(i.y,10),n,n),a=[0,0,0,0],s=o.data.length/4;for(let u=0;u<s;u++)a[0]+=o.data[4*u],a[1]+=o.data[4*u+1],a[2]+=o.data[4*u+2],a[3]+=o.data[4*u+3];let c={left:i.x,top:i.y,fill:`rgb(${Number.parseInt(a[0]/s,10)},${Number.parseInt(a[1]/s,10)},${Number.parseInt(a[2]/s,10)})`,dimensions:n};this.mosaicArr.push(c);let l=this.mosaicLayer.getContext("2d");l.fillStyle=c.fill,l.fillRect(c.left,c.top,c.dimensions,c.dimensions)}_onFabricMouseUp(){const t=this.getCanvas();if(this.mosaicArr&&this.mosaicArr.length>0){let e=new le({mosaicRects:this.mosaicArr,selectable:!1,left:0,top:0,originX:"center",originY:"center"});t.add(e),t.renderAll()}this.mosaicLayer&&this.mosaicLayer.parentNode.removeChild(this.mosaicLayer),this.mosaicArr=[],t.off({"mouse:move":this._listeners.mousemove,"mouse:up":this._listeners.mouseup})}getCanvasRatio(){const t=this.getCanvasElement(),e=parseInt(t.style.width,10),n=t.width,r=n/e;return r}}class he extends J{constructor(t){super(),this.setParent(t),this.name=Q.moduleNames.PAN,this._listeners={mousedown:this._onFabricMouseDown.bind(this),mousemove:this._onFabricMouseMove.bind(this),mouseup:this._onFabricMouseUp.bind(this)}}start(){const t=this.getCanvas();t.defaultCursor="move",t.selection=!1,t.forEachObject((t=>{t.set({evented:!1})})),t.on({"mouse:down":this._listeners.mousedown})}end(){const t=this.getCanvas();t.defaultCursor="default",t.selection=!1,t.forEachObject((t=>{t.set({evented:!0})})),t.off("mouse:down",this._listeners.mousedown)}_onFabricMouseDown(t){const e=this.getCanvas();this.pointer=e.getPointer(t.e),this.$lower=e.lowerCanvasEl,this.$upper=e.upperCanvasEl,this.$wrapper=e.wrapperEl,this.deltaX=parseInt(window.getComputedStyle(this.$lower).left,10),this.deltaY=parseInt(window.getComputedStyle(this.$lower).top,10),this.deltaWidth=this.$upper.getBoundingClientRect().width-this.$wrapper.getBoundingClientRect().width,this.deltaHeight=this.$upper.getBoundingClientRect().height-this.$wrapper.getBoundingClientRect().height,e.on({"mouse:move":this._listeners.mousemove,"mouse:up":this._listeners.mouseup})}_onFabricMouseMove(t){const e=this.getCanvas(),n=e.getPointer(t.e);let r=this.deltaX+n.x-this.pointer.x,i=this.deltaY+n.y-this.pointer.y;this.deltaWidth>Math.abs(r)&&r<0&&(this.$lower.style.left=r,this.$upper.style.left=r,this.deltaX=r),this.deltaHeight>Math.abs(i)&&i<0&&(this.$lower.style.top=i,this.$upper.style.top=i,this.deltaY=i)}_onFabricMouseUp(){const t=this.getCanvas();this.pointer=null,this.$lower=null,this.$upper=null,t.off({"mouse:move":this._listeners.mousemove,"mouse:up":this._listeners.mouseup})}}const{eventNames:fe,rejectMessages:de}=Q;var pe=class{constructor(){this._customEvents=new q,this._undoStack=[],this._redoStack=[],this._moduleMap={},this._isLocked=!1,this._createModules()}_createModules(){const t=new ht;this._register(t),this._register(new ft(t)),this._register(new wt(t)),this._register(new Ct(t)),this._register(new ue(t)),this._register(new Ot(t)),this._register(new Ht(t)),this._register(new Yt(t)),this._register(new Gt(t)),this._register(new se(t)),this._register(new he(t))}_register(t){this._moduleMap[t.getName()]=t}_invokeExecution(t){return this.lock(),t.execute(this._moduleMap).then((e=>(this.pushUndoStack(t),this.unlock(),V.isFunction(t.executeCallback)&&t.executeCallback(e),e))).catch((t=>{this.unlock(),console.error(t)})).then((t=>(this.unlock(),t)))}_invokeUndo(t){return this.lock(),t.undo(this._moduleMap).then((e=>(this.pushRedoStack(t),this.unlock(),V.isFunction(t.undoCallback)&&t.undoCallback(e),e))).catch((()=>{this.unlock(),console.error(err)})).then((t=>(this.unlock(),t)))}_fire(...t){const e=this._customEvents,n=e;e.emit.apply(n,t)}on(...t){const e=this._customEvents,n=e;e.on.apply(n,t)}getModule(t){return this._moduleMap[t]}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}invoke(t){return this._isLocked?Promise.reject(de.isLock):this._invokeExecution(t).then((t=>(this.clearRedoStack(),t)))}undo(){let t,e=this._undoStack.pop();return e&&this._isLocked&&(this.pushUndoStack(e,!0),e=null),e?(this.isEmptyUndoStack()&&this._fire(fe.EMPTY_UNDO_STACK),t=this._invokeUndo(e)):t=Promise.reject(de.undo),t}redo(){let t,e=this._redoStack.pop();return e&&this._isLocked&&(this.pushRedoStack(e,!0),e=null),e?(this.isEmptyRedoStack()&&this._fire(fe.EMPTY_REDO_STACK),t=this._invokeExecution(e)):t=Promise.reject(de.redo),t}pushUndoStack(t,e){this._undoStack.push(t),e||this._fire(fe.PUSH_UNDO_STACK)}pushRedoStack(t,e){this._redoStack.push(t),e||this._fire(fe.PUSH_REDO_STACK)}isEmptyRedoStack(){return 0===this._redoStack.length}isEmptyUndoStack(){return 0===this._undoStack.length}clearUndoStack(){this.isEmptyUndoStack()||(this._undoStack=[],this._fire(fe.EMPTY_UNDO_STACK))}clearRedoStack(){this.isEmptyRedoStack()||(this._redoStack=[],this._fire(fe.EMPTY_REDO_STACK))}},ge=class{constructor(t){this.execute=t.execute,this.undo=t.undo,this.executeCallback=null,this.undoCallback=null}execute(){throw new Error("\u6ca1\u6709\u5b9e\u73b0execute\u65b9\u6cd5")}undo(){throw new Error("\u6ca1\u6709\u5b9e\u73b0undo\u65b9\u6cd5")}setExecuteCallback(t){return this.executeCallback=t,this}setUndoCallback(t){return this.undoCallback=t,this}};const{moduleNames:me}=Q,{MAIN:ve}=me;var be=function(t){return V.stamp(t),new ge({execute(e){return new Promise(((n,r)=>{const i=e[ve].getCanvas();i.contains(t)?r():(i.add(t),n(t))}))},undo(e){return new Promise(((n,r)=>{const i=e[ve].getCanvas();i.contains(t)?(i.remove(t),n(t)):r()}))}})};const{moduleNames:ye}=Q,{MAIN:we}=ye;var _e=function(t){return new ge({execute(e){return new Promise(((n,r)=>{const i=e[we].getCanvas(),o=t&&t.isType("group")&&!t.isEmpty();o?(i.discardActiveGroup(),this.store=t.getObjects(),t.forEachObject((t=>{t.remove()})),n()):i.contains(t)?(this.store=[t],t.remove(),n()):r()}))},undo(t){const e=t[we].getCanvas(),n=e;return e.add.apply(n,this.store),Promise.resolve()}})};const{moduleNames:xe}=Q,{MAIN:Se}=xe;var Ce=function(){return new ge({execute(t){return new Promise(((e,n)=>{const r=t[Se].getCanvas(),i=r.getObjects();this.store=i.slice(),i.slice().forEach((t=>{"group"===t.get("type")?r.remove(t):t.remove()})),e()}))},undo(t){const e=t[Se].getCanvas(),n=e;return e.add.apply(n,this.store),Promise.resolve()}})};const{moduleNames:Ee}=Q,{IMAGE_LOADER:Oe}=Ee;var ke=function(t,e){return new ge({execute(n){const r=n[Oe],i=r.getCanvas();return this.store={prevName:r.getImageName(),prevImage:r.getCanvasImage(),objects:i.getObjects().slice()},i.clear(),r.load(t,e)},undo(t){const e=t[Oe],n=e.getCanvas(),r=n;return n.clear(),n.add.apply(r,this.store.objects),e.load(this.store.prevName,this.store.prevImage)}})};const{moduleNames:Te}=Q,{MAIN:je}=Te;var Me=function(t){return new ge({execute(e){const n=e[je];return this.zoom=n.getZoom(),n.setZoom(t),Promise.resolve(t)},undo(t){const e=t[je];return e.setZoom(this.zoom),Promise.resolve(this.zoom)}})};const{moduleNames:Ae}=Q;var Pe=function(t,e){return new ge({execute(n){const r=n[Ae.ROTATION];return this.store=r.getCurrentAngle(),r[t](e)},undo(t){const e=t[Ae.ROTATION];return e.setAngle(this.store)}})};const{commandNames:Ie}=Q,Re={};function De(t,...e){return Re[t].apply(null,e)}Re[Ie.CLEAR_OBJECTS]=Ce,Re[Ie.ADD_OBJECT]=be,Re[Ie.REMOVE_OBJECT]=_e,Re[Ie.LOAD_IMAGE]=ke,Re[Ie.ZOOM]=Me,Re[Ie.ROTATE_IMAGE]=Pe;var Le={create:De};const Ne=Q.eventNames,Fe=Q.moduleNames,Be=Q.commandNames,{states:Ue,keyCodes:We,fObjectOptions:ze}=Q,{isUndefined:He,forEach:Ye,hasStamp:Ge}=V;let Xe=window.URL||window.webkitURL||window;class Ve{constructor(t,e){e=e||{},this._module=new pe,this._canvas=null,this._state=Ue.NORMAL,this._handlers={keydown:this._onKeyDown.bind(this),mousedown:this._onMouseDown.bind(this),addedObject:this._onAddedObject.bind(this),removedObject:this._onRemovedObject.bind(this),selectedObject:this._onSelectedObject.bind(this),movingObject:this._onMovingObject.bind(this),scalingObject:this._onScalingObject.bind(this),createdPath:this._onCreatedPath.bind(this)},this._setCanvas(t,e.cssMaxWidth,e.cssMaxHeight),this._attachModuleEvents(),this._attachCanvasEvents(),this._attachDomEvents(),e.selectionStyle&&this._setSelectionStyle(e.selectionStyle)}_setSelectionStyle(t){Object.assign(ze.SELECTION_STYLE,t)}_attachModuleEvents(){const{PUSH_UNDO_STACK:t,PUSH_REDO_STACK:e,EMPTY_UNDO_STACK:n,EMPTY_REDO_STACK:r}=Ne;this._module.on(t,this.fire.bind(this,t)),this._module.on(e,this.fire.bind(this,e)),this._module.on(n,this.fire.bind(this,n)),this._module.on(r,this.fire.bind(this,r))}_attachCanvasEvents(){this._canvas.on({"mouse:down":this._handlers.mousedown,"object:added":this._handlers.addedObject,"object:removed":this._handlers.removedObject,"object:moving":this._handlers.movingObject,"object:scaling":this._handlers.scalingObject,"object:selected":this._handlers.selectedObject,"path:created":this._handlers.createdPath})}_attachDomEvents(){fabric.util.addListener(document,"keydown",this._handlers.keydown)}_detachDomEvents(){fabric.util.removeListener(document,"keydown",this._handlers.keydown)}_onKeyDown(t){(t.ctrlKey||t.metaKey)&&t.keyCode===We.Z&&this.undo(),(t.ctrlKey||t.metaKey)&&t.keyCode===We.Y&&this.redo(),t.keyCode!==We.BACKSPACE&&t.keyCode!==We.DEL||!this._canvas.getActiveObject()||(t.preventDefault(),this.removeActiveObject())}_onMouseDown(t){const e=this._canvas.getPointer(t.e);this.fire(Ne.MOUSE_DOWN,{e:t.e,originPointer:e})}_onAddedObject(t){const e=t.target;if(!e.isType("cropzone")&&!e.isType("text")){if(!Ge(e)){const t=Le.create(Be.ADD_OBJECT,e);this._module.pushUndoStack(t),this._module.clearRedoStack()}this.fire(Ne.ADD_OBJECT,e)}}_onRemovedObject(t){this.fire(Ne.REMOVE_OBJECT,t.target)}_onSelectedObject(t){this.fire(Ne.SELECT_OBJECT,t.target)}_onMovingObject(t){this.fire(Ne.ADJUST_OBJECT,t.target,"move")}_onScalingObject(t){this.fire(Ne.ADJUST_OBJECT,t.target,"move")}_onCreatedPath(t){t.path.customType="freedraw",t.path.set(Q.fObjectOptions.SELECTION_STYLE)}_onFabricSelectClear(t){const e=this._getModule(Fe.TEXT),n=e.getSelectedObj();if(e.isPrevEditing=!0,e.setSelectedInfo(t.target,!1),""===n.text)n.remove();else if(!Ge(n)){const t=Le.create(Be.ADD_OBJECT,n);this._module.pushUndoStack(t),this._module.clearRedoStack()}}_onFabricSelect(t){const e=this._getModule(Fe.TEXT),n=e.getSelectedObj();if(e.isPrevEditing=!0,""===n.text)n.remove();else if(!Ge(n)&&e.isSelected()){const t=Le.create(Be.ADD_OBJECT,n);this._module.pushUndoStack(t),this._module.clearRedoStack()}e.setSelectedInfo(t.target,!0)}_setCanvas(t,e,n){const r=this._getMainModule();r.setCanvasElement(t),r.setCssMaxDimension({width:e,height:n}),this._canvas=r.getCanvas()}_getMainModule(){return this._getModule(Fe.MAIN)}_getModule(t){return this._module.getModule(t)}getCurrentState(){return this._state}clearObjects(){const t=Le.create(Be.CLEAR_OBJECTS),e=this.fire.bind(this,Ne.CLEAR_OBJECTS);t.setExecuteCallback(e),this.execute(t)}isEdited(){return this._canvas.getObjects().length>0}endAll(){this.endCropping(),this.endTextMode(),this.endFreeDrawing(),this.endLineDrawing(),this.endArrowDrawing(),this.endMosaicDrawing(),this.endDrawingShapeMode(),this.endCropByBoundInfo(),this.endPan(),this.deactivateAll(),this._state=Ue.NORMAL}deactivateAll(){this._canvas.deactivateAll(),this._canvas.renderAll()}execute(t){this.endAll(),this._module.invoke(t)}undo(){this.endAll(),this._module.undo()}redo(){this.endAll(),this._module.redo()}loadImageFromFile(t,e){t&&this.loadImageFromURL(Xe.createObjectURL(t),e||t.name)}loadImageFromURL(t,e){if(!e||!t)return;const n=this._callbackAfterImageLoading.bind(this),r=Le.create(Be.LOAD_IMAGE,e,t);r.setExecuteCallback(n).setUndoCallback((t=>{t?n(t):this.fire(Ne.CLEAR_IMAGE)})),this.execute(r)}_callbackAfterImageLoading(t){const e=this._getMainModule(),n=e.getCanvasElement(),{width:r,height:i}=n.getBoundingClientRect();this.fire(Ne.LOAD_IMAGE,{originalWidth:t.width,originalHeight:t.height,currentWidth:r,currentHeight:i})}addImageObject(t){t&&fabric.Image.fromURL(t,this._callbackAfterLoadingImageObject.bind(this),{crossOrigin:"Anonymous"})}_callbackAfterLoadingImageObject(t){const e=this._getMainModule(),n=e.getCanvasImage().getCenterPoint();t.set(Q.fObjectOptions.SELECTION_STYLE),t.set({left:n.x,top:n.y,crossOrigin:"anonymous"}),this._canvas.add(t).setActiveObject(t)}startCropping(){if(this.getCurrentState()===Ue.CROP)return;this.endAll(),this._state=Ue.CROP;const t=this._getModule(Fe.CROPPER);t.start(),this.fire(Ne.START_CROPPING)}endCropping(t){if(this.getCurrentState()!==Ue.CROP)return;const e=this._getModule(Fe.CROPPER);this._state=Ue.NORMAL;const n=e.end(t);this.once("loadImage",(()=>{this.fire(Ne.END_CROPPING)})),n&&this.loadImageFromURL(n.url,n.imageName)}startCropByBoundInfo(){this._state=Ue.CROP}endCropByBoundInfo(t){if(!t)return;const e={imageName:this.getImageName(),url:this._canvas.toDataURL(t)};this.once("loadImage",(()=>{this.clearRedoStack(),this.clearUndoStack(),this.fire(Ne.END_CROPPING)})),e&&this.loadImageFromURL(e.url,e.imageName)}getViewPortImage(){return this._getMainModule().getViewPortImage()}_rotate(t,e){const n=this.fire.bind(this,Ne.ROTATE_IMAGE),r=Le.create(Be.ROTATE_IMAGE,t,e);r.setExecuteCallback(n).setUndoCallback(n),this.execute(r)}rotate(t){this._rotate("rotate",t)}setAngle(t){this._rotate("setAngle",t)}getAngle(){return this._getMainModule().getCanvasImage().angle}startFreeDrawing(t){this.getCurrentState()!==Ue.FREE_DRAWING&&(this.endAll(),this._getModule(Fe.FREE_DRAWING).start(t),this._state=Ue.FREE_DRAWING,this.fire(Ne.START_FREE_DRAWING))}changeFreeDrawingPathStyle(t){const e=this._canvas.getActiveObject();this.getCurrentState()===Ue.FREE_DRAWING&&e&&"freedraw"===e.customType&&this._getModule(Fe.FREE_DRAWING).setStyle(e,t)}setBrush(t){const e=this._state;let n;switch(e){case Ue.LINE:n=Fe.LINE;break;default:n=Fe.FREE_DRAWING}this._getModule(n).setBrush(t)}endFreeDrawing(){this.getCurrentState()===Ue.FREE_DRAWING&&(this._getModule(Fe.FREE_DRAWING).end(),this._state=Ue.NORMAL,this.fire(Ne.END_FREE_DRAWING))}startLineDrawing(t){this.getCurrentState()!==Ue.LINE&&(this.endAll(),this._getModule(Fe.LINE).start(t),this._state=Ue.LINE,this.fire(Ne.START_LINE_DRAWING))}endLineDrawing(){this.getCurrentState()===Ue.LINE&&(this._getModule(Fe.LINE).end(),this._state=Ue.NORMAL,this.fire(Ne.END_LINE_DRAWING))}startArrowDrawing(t){this.endAll(),this._getModule(Fe.ARROW).start(t),this._state=Ue.ARROW,this.fire(Ne.START_ARROW_DRAWING)}changeArrowStyle(t){const e=this._canvas.getActiveObject();this.getCurrentState()===Ue.ARROW&&e&&"arrow"===e.customType&&this._getModule(Fe.ARROW).setStyle(e,t)}endArrowDrawing(){this._getModule(Fe.ARROW).end(),this._state=Ue.NORMAL,this.fire(Ne.END_ARROW_DRAWING)}startMosaicDrawing(t){this.endAll(),this._getModule(Fe.MOSAIC).start(t),this._state=Ue.MOSAIC,this.fire(Ne.START_MOSAIC_DRAWING)}endMosaicDrawing(){this._getModule(Fe.MOSAIC).end(),this._state=Ue.NORMAL,this.fire(Ne.END_MOSAIC_DRAWING)}startDrawingShapeMode(){this.getCurrentState()!==Ue.SHAPE&&(this._state=Ue.SHAPE,this._getModule(Fe.SHAPE).startDrawingMode())}setDrawingShape(t,e){this._getModule(Fe.SHAPE).setStates(t,e)}addShape(t,e){e=e||{},this._setPositions(e),this._getModule(Fe.SHAPE).add(t,e)}changeShape(t){const e=this._canvas.getActiveObject(),n=this._getModule(Fe.SHAPE);e&&n.change(e,t)}endDrawingShapeMode(){this.getCurrentState()===Ue.SHAPE&&(this._getModule(Fe.SHAPE).endDrawingMode(),this._state=Ue.NORMAL)}startTextMode(){this.getCurrentState()!==Ue.TEXT&&(this._state=Ue.TEXT,this._getModule(Fe.TEXT).start({mousedown:this._onFabricMouseDown.bind(this),select:this._onFabricSelect.bind(this),selectClear:this._onFabricSelectClear.bind(this),dbclick:this._onDBClick.bind(this),remove:this._handlers.removedObject}))}addText(t,e,n=!1){this.getCurrentState()!==Ue.TEXT&&(this._state=Ue.TEXT),this._getModule(Fe.TEXT).add(t||"",e||{},n)}changeText(t){const e=this._canvas.getActiveObject();this.getCurrentState()===Ue.TEXT&&e&&this._getModule(Fe.TEXT).change(e,t)}changeTextStyle(t){const e=this._canvas.getActiveObject();this.getCurrentState()===Ue.TEXT&&e&&this._getModule(Fe.TEXT).setStyle(e,t)}endTextMode(){this.getCurrentState()===Ue.TEXT&&(this._state=Ue.NORMAL,this._getModule(Fe.TEXT).end())}_onDBClick(){this.fire(Ne.EDIT_TEXT)}_onFabricMouseDown(t){const e=t.target,n=t.e||{},r=this._canvas.getPointer(n),i=this._getModule(Fe.TEXT);let o=!e;e&&!e.isType("text")&&(o=!0),i.isPrevEditing?i.isPrevEditing=!1:this.fire(Ne.ACTIVATE_TEXT,{type:o?"new":"select",text:e?e.text:"",styles:e?{fill:e.fill,fontFamily:e.fontFamily,fontSize:e.fontSize,fontStyle:e.fontStyle,textAlign:e.textAlign,textDecoration:e.textDecoration}:{},originPosition:{x:r.x,y:r.y},clientPosition:{x:n.clientX||0,y:n.clientY||0}})}removeActiveObject(){const t=this._canvas,e=t.getActiveObject()||t.getActiveGroup(),n=Le.create(Be.REMOVE_OBJECT,e);this.execute(n)}startPan(){this.getCurrentState()!==Ue.PAN&&(this.endAll(),this._getModule(Fe.PAN).start(),this._state=Ue.PAN,this.fire(Ne.START_PAN))}endPan(){this._getModule(Fe.PAN).end(),this._state=Ue.NORMAL,this.fire(Ne.END_PAN)}setZoom(t){t=t||1;const e=Le.create(Be.ZOOM,t),n=this._callbackAfterZoom.bind(this);e.setExecuteCallback(n).setUndoCallback((t=>{n(t)})),this.execute(e)}_callbackAfterZoom(t){this.fire(Q.eventNames.CHANGE_ZOOM,t)}getZoom(){const t=this._getModule(Fe.MAIN);return t.getZoom()}toDataURL(t){return this.endAll(),this._getMainModule().toDataURL(t)}toBlobData(t){return this.endAll(),this._getMainModule().toBlob(t)}getImageName(){return this._getMainModule().getImageName()}clearUndoStack(){this._module.clearUndoStack()}clearRedoStack(){this._module.clearRedoStack()}isEmptyUndoStack(){return this._module.isEmptyUndoStack()}isEmptyRedoStack(){return this._module.isEmptyRedoStack()}resizeCanvasDimension(t){const e=this._getMainModule();t&&(e.setCssMaxDimension(t),e.adjustCanvasDimension())}destroy(){const t=this._canvas.wrapperEl;this.endAll(),this._detachDomEvents(),this._canvas.clear(),t.parentNode.removeChild(t),Ye(this,((t,e)=>{this[e]=null}),this)}_setPositions(t){const e=this._canvas.getCenter();He(t.left)&&(t.left=e.left),He(t.top)&&(t.top=e.top)}adjustCanvasDimension(){this._getMainModule().adjustCanvasDimension()}getViewPortInfo(){return this._getMainModule().getViewPortInfo()}}q.mixin(Ve);e["default"]=Ve},oYEA:function(t,e,n){"use strict";var r=n("MMxC"),i=n("Zcjx"),o=n("f1E4"),a=n("7BAe"),s=n("PPXv"),c=n("IuhT");r({target:"Map",proto:!0,real:!0,forced:i},{every:function(t){var e=o(this),n=s(e),r=a(t,arguments.length>1?arguments[1]:void 0,3);return!c(n,(function(t,n){if(!r(n,t,e))return c.stop()}),void 0,!0,!0).stopped}})},oa35:function(t,e,n){var r=n("m0kY"),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},p1ln:function(t,e,n){var r=n("MMxC"),i=n("qitQ");r({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},p5yU:function(t,e,n){var r=n("MMxC"),i=n("ukPv"),o=n("m3pO"),a=n("UwrT"),s=i.process,c="process"==a(s);r({global:!0,enumerable:!0,noTargetGet:!0},{queueMicrotask:function(t){var e=c&&s.domain;o(e?e.bind(t):t)}})},p6E5:function(t,e,n){"use strict";var r=n("MMxC"),i=n("Zcjx"),o=n("+X1D");r({target:"WeakSet",proto:!0,real:!0,forced:i},{deleteAll:function(){return o.apply(this,arguments)}})},pW3P:function(t,e,n){"use strict";var r=n("MMxC"),i=n("cT1L"),o=n("LUyE"),a=n("WJ3H"),s=n("IuhT");r({target:"Promise",stat:!0},{allSettled:function(t){var e=this,n=o.f(e),r=n.resolve,c=n.reject,l=a((function(){var n=i(e.resolve),o=[],a=0,c=1;s(t,(function(t){var i=a++,s=!1;o.push(void 0),c++,n.call(e,t).then((function(t){s||(s=!0,o[i]={status:"fulfilled",value:t},--c||r(o))}),(function(t){s||(s=!0,o[i]={status:"rejected",reason:t},--c||r(o))}))})),--c||r(o)}));return l.error&&c(l.value),n.promise}})},pb5k:function(t,e,n){var r=n("ukPv"),i=n("TMUv"),o="__core-js_shared__",a=r[o]||i(o,{});t.exports=a},q1tI:function(t,e,n){"use strict";t.exports=n("viRO")},q3YX:function(t){t.exports=JSON.parse('{"menus":{"en-US":{"*":[{"path":"/","title":"demo","meta":{}}]}},"locales":[{"name":"en-US","label":"English"}],"navs":{},"title":"fabric-photo","logo":"https://user-images.githubusercontent.com/9554297/83762004-a0761b00-a6a9-11ea-83b4-9c8ff721d4b8.png","mode":"doc","repository":{"branch":"master"},"theme":{}}')},qA1w:function(t,e,n){"use strict";t.exports=function(){var t=arguments.length,e=new Array(t);while(t--)e[t]=arguments[t];return new this(e)}},qHiR:function(t,e,n){},qT12:function(t,e,n){"use strict";var r="function"===typeof Symbol&&Symbol["for"],i=r?Symbol["for"]("react.element"):60103,o=r?Symbol["for"]("react.portal"):60106,a=r?Symbol["for"]("react.fragment"):60107,s=r?Symbol["for"]("react.strict_mode"):60108,c=r?Symbol["for"]("react.profiler"):60114,l=r?Symbol["for"]("react.provider"):60109,u=r?Symbol["for"]("react.context"):60110,h=r?Symbol["for"]("react.async_mode"):60111,f=r?Symbol["for"]("react.concurrent_mode"):60111,d=r?Symbol["for"]("react.forward_ref"):60112,p=r?Symbol["for"]("react.suspense"):60113,g=r?Symbol["for"]("react.suspense_list"):60120,m=r?Symbol["for"]("react.memo"):60115,v=r?Symbol["for"]("react.lazy"):60116,b=r?Symbol["for"]("react.block"):60121,y=r?Symbol["for"]("react.fundamental"):60117,w=r?Symbol["for"]("react.responder"):60118,_=r?Symbol["for"]("react.scope"):60119;function x(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case i:switch(t=t.type,t){case h:case f:case a:case c:case s:case p:return t;default:switch(t=t&&t.$$typeof,t){case u:case d:case v:case m:case l:return t;default:return e}}case o:return e}}}function S(t){return x(t)===f}e.AsyncMode=h,e.ConcurrentMode=f,e.ContextConsumer=u,e.ContextProvider=l,e.Element=i,e.ForwardRef=d,e.Fragment=a,e.Lazy=v,e.Memo=m,e.Portal=o,e.Profiler=c,e.StrictMode=s,e.Suspense=p,e.isAsyncMode=function(t){return S(t)||x(t)===h},e.isConcurrentMode=S,e.isContextConsumer=function(t){return x(t)===u},e.isContextProvider=function(t){return x(t)===l},e.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===i},e.isForwardRef=function(t){return x(t)===d},e.isFragment=function(t){return x(t)===a},e.isLazy=function(t){return x(t)===v},e.isMemo=function(t){return x(t)===m},e.isPortal=function(t){return x(t)===o},e.isProfiler=function(t){return x(t)===c},e.isStrictMode=function(t){return x(t)===s},e.isSuspense=function(t){return x(t)===p},e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===a||t===f||t===c||t===s||t===p||t===g||"object"===typeof t&&null!==t&&(t.$$typeof===v||t.$$typeof===m||t.$$typeof===l||t.$$typeof===u||t.$$typeof===d||t.$$typeof===y||t.$$typeof===w||t.$$typeof===_||t.$$typeof===b)},e.typeOf=x},qcmB:function(t,e,n){var r=n("f1E4"),i=n("9SZg");t.exports=function(t){var e=i(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return r(e.call(t))}},qfHW:function(t,e,n){(function(t){e.fetch=s(t.fetch)&&s(t.ReadableStream),e.writableStream=s(t.WritableStream),e.abortController=s(t.AbortController),e.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),e.blobConstructor=!0}catch(c){}var n;function r(){if(void 0!==n)return n;if(t.XMLHttpRequest){n=new t.XMLHttpRequest;try{n.open("GET",t.XDomainRequest?"/":"https://example.com")}catch(c){n=null}}else n=null;return n}function i(t){var e=r();if(!e)return!1;try{return e.responseType=t,e.responseType===t}catch(c){}return!1}var o="undefined"!==typeof t.ArrayBuffer,a=o&&s(t.ArrayBuffer.prototype.slice);function s(t){return"function"===typeof t}e.arraybuffer=e.fetch||o&&i("arraybuffer"),e.msstream=!e.fetch&&a&&i("ms-stream"),e.mozchunkedarraybuffer=!e.fetch&&o&&i("moz-chunked-arraybuffer"),e.overrideMimeType=e.fetch||!!r()&&s(r().overrideMimeType),e.vbArray=s(t.VBArray),n=null}).call(this,n("yLpj"))},qitQ:function(t,e,n){"use strict";var r=n("tny8"),i=n("MVys"),o=n("P0e2"),a=n("kyO0"),s=n("e3V2"),c=n("cTDu"),l=n("EzR6"),u=Object.assign,h=Object.defineProperty;t.exports=!u||i((function(){if(r&&1!==u({b:1},u(h({},"a",{enumerable:!0,get:function(){h(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach((function(t){e[t]=t})),7!=u({},t)[n]||o(u({},e)).join("")!=i}))?function(t,e){var n=c(t),i=arguments.length,u=1,h=a.f,f=s.f;while(i>u){var d,p=l(arguments[u++]),g=h?o(p).concat(h(p)):o(p),m=g.length,v=0;while(m>v)d=g[v++],r&&!f.call(p,d)||(n[d]=p[d])}return n}:u},qkSU:function(t,e,n){"use strict";var r=n("MMxC"),i=n("LUyE"),o=n("WJ3H");r({target:"Promise",stat:!0},{try:function(t){var e=i.f(this),n=o(t);return(n.error?e.reject:e.resolve)(n.value),e.promise}})},quHW:function(t,e,n){var r=n("MMxC"),i=n("29mP"),o=n("cT1L"),a=n("f1E4"),s=n("MVys"),c=i("Reflect","apply"),l=Function.apply,u=!s((function(){c((function(){}))}));r({target:"Reflect",stat:!0,forced:u},{apply:function(t,e,n){return o(t),a(n),c?c(t,e,n):l.call(t,e,n)}})},r1Q5:function(t,e,n){"use strict";var r=n("J4zp");function i(){var t=c(n("q1tI"));return i=function(){return t},t}function o(){var t=a(n("6xEa"));return o=function(){return t},t}function a(t){return t&&t.__esModule?t:{default:t}}function s(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function c(t){if(t&&t.__esModule)return t;if(null===t||"object"!==typeof t&&"function"!==typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}return n["default"]=t,e&&e.set(t,n),n}function l(t,e){return p(t)||d(t,e)||h(t,e)||u()}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(t,e){if(t){if("string"===typeof t)return f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(t,e):void 0}}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function d(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0)if(n.push(a.value),e&&n.length===e)break}catch(err){i=!0,o=err}finally{try{r||null==s["return"]||s["return"]()}finally{if(i)throw o}}return n}}function p(t){if(Array.isArray(t))return t}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var g="https://codesandbox.io/api/v1/sandboxes/define";function m(t){return o()["default"].compressToBase64(JSON.stringify(t)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function v(t){var e=document.createElement("span");e.innerHTML=t;var n=e.textContent;return e.remove(),n}function b(t){var e=Boolean(t.sources._.tsx),n=e?".tsx":".jsx",i={},o={},a=Object.values(t.dependencies).filter((function(t){return t.css})),s="App".concat(n),c="index".concat(n);return Object.entries(t.dependencies).forEach((function(t){var e=r(t,2),n=e[0],i=e[1].version;o[n]=i})),o["react-dom"]||(o["react-dom"]=o.react||"latest"),i["sandbox.config.json"]={content:JSON.stringify({template:e?"create-react-app-typescript":"create-react-app"},null,2)},i["package.json"]={content:JSON.stringify({name:t.title,description:v(t.description)||"An auto-generated demo by dumi",main:c,dependencies:o,devDependencies:e?{typescript:"^3"}:{}},null,2)},i["index.html"]={content:'<div style="margin: 16px;" id="root"></div>'},i[c]={content:"/**\n* This is an auto-generated demo by dumi\n* if you think it is not working as expected,\n* please report the issue at\n* https://github.com/umijs/dumi/issues\n**/\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n".concat(a.map((function(t){var e=t.css;return"import '".concat(e,"';")})).join("\n"),"\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);")},Object.entries(t.sources).forEach((function(t){var e=r(t,2),n=e[0],o=e[1],a=o.tsx,c=o.jsx,l=o.content;i["_"===n?s:n]={content:a||c||l}})),m({files:i})}var y=function(t){var e=(0,i().useState)(),n=l(e,2),r=n[0],o=n[1];return(0,i().useEffect)((function(){if(t){var e=document.createElement("form"),n=document.createElement("input"),r=b(t);return e.method="POST",e.target="_blank",e.style.display="none",e.action=g,e.appendChild(n),e.setAttribute("data-demo",t.title||""),n.name="parameters",n.value=r,document.body.appendChild(e),o((function(){return function(){return e.submit()}})),function(){return e.remove()}}}),[t]),r};e["default"]=y},rUU2:function(t,e,n){"use strict";var r=n("ENif"),i=n("f1E4"),o=n("cTDu"),a=n("oa35"),s=n("m0kY"),c=n("FCfD"),l=n("xH5X"),u=n("dagG"),h=Math.max,f=Math.min,d=Math.floor,p=/\$([$&'`]|\d\d?|<[^>]*>)/g,g=/\$([$&'`]|\d\d?)/g,m=function(t){return void 0===t?t:String(t)};r("replace",2,(function(t,e,n,r){var v=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,b=r.REPLACE_KEEPS_$0,y=v?"$":"$0";return[function(n,r){var i=c(this),o=void 0==n?void 0:n[t];return void 0!==o?o.call(n,i,r):e.call(String(i),n,r)},function(t,r){if(!v&&b||"string"===typeof r&&-1===r.indexOf(y)){var o=n(e,t,this,r);if(o.done)return o.value}var c=i(t),d=String(this),p="function"===typeof r;p||(r=String(r));var g=c.global;if(g){var _=c.unicode;c.lastIndex=0}var x=[];while(1){var S=u(c,d);if(null===S)break;if(x.push(S),!g)break;var C=String(S[0]);""===C&&(c.lastIndex=l(d,a(c.lastIndex),_))}for(var E="",O=0,k=0;k<x.length;k++){S=x[k];for(var T=String(S[0]),j=h(f(s(S.index),d.length),0),M=[],A=1;A<S.length;A++)M.push(m(S[A]));var P=S.groups;if(p){var I=[T].concat(M,j,d);void 0!==P&&I.push(P);var R=String(r.apply(void 0,I))}else R=w(T,d,j,M,P,r);j>=O&&(E+=d.slice(O,j)+R,O=j+T.length)}return E+d.slice(O)}];function w(t,n,r,i,a,s){var c=r+t.length,l=i.length,u=g;return void 0!==a&&(a=o(a),u=p),e.call(s,u,(function(e,o){var s;switch(o.charAt(0)){case"$":return"$";case"&":return t;case"`":return n.slice(0,r);case"'":return n.slice(c);case"<":s=a[o.slice(1,-1)];break;default:var u=+o;if(0===u)return e;if(u>l){var h=d(u/10);return 0===h?e:h<=l?void 0===i[h-1]?o.charAt(1):i[h-1]+o.charAt(1):e}s=i[u-1]}return void 0===s?"":s}))}}))},rVgK:function(t,e,n){"use strict";var r=n("MMxC"),i=n("eYKs").charAt;r({target:"String",proto:!0},{at:function(t){return i(this,t)}})},rjJZ:function(t,e,n){var r=n("YON3");t.exports=function(t){if(r(t))throw TypeError("The method doesn't accept regular expressions");return t}},rn5R:function(t,e,n){var r=n("ukPv"),i=n("mTKU").trim,o=n("Tfd0"),a=r.parseFloat,s=1/a(o+"-0")!==-1/0;t.exports=s?function(t){var e=i(String(t)),n=a(e);return 0===n&&"-"==e.charAt(0)?-0:n}:a},rpUR:function(t,e,n){"use strict";var r=n("MMxC"),i=n("g8rt").f,o=n("oa35"),a=n("rjJZ"),s=n("FCfD"),c=n("C7V6"),l=n("Zcjx"),u="".endsWith,h=Math.min,f=c("endsWith"),d=!l&&!f&&!!function(){var t=i(String.prototype,"endsWith");return t&&!t.writable}();r({target:"String",proto:!0,forced:!d&&!f},{endsWith:function(t){var e=String(s(this));a(t);var n=arguments.length>1?arguments[1]:void 0,r=o(e.length),i=void 0===n?r:h(o(n),r),c=String(t);return u?u.call(e,c,i):e.slice(i-c.length,i)===c}})},s00F:function(t,e,n){var r=n("I65O");r("dispose")},s1ay:function(t,e,n){"use strict";var r,i,o,a,s=n("MMxC"),c=n("Zcjx"),l=n("ukPv"),u=n("29mP"),h=n("b6st"),f=n("NMFW"),d=n("ujhg"),p=n("kiNa"),g=n("ssJt"),m=n("tSXo"),v=n("cT1L"),b=n("igoe"),y=n("UwrT"),w=n("J3Yn"),_=n("IuhT"),x=n("GPrf"),S=n("/dTS"),C=n("C3pJ").set,E=n("m3pO"),O=n("U8/t"),k=n("dnEI"),T=n("LUyE"),j=n("WJ3H"),M=n("1aI8"),A=n("kkxG"),P=n("2kyd"),I=n("hRxt"),R=P("species"),D="Promise",L=M.get,N=M.set,F=M.getterFor(D),B=h,U=l.TypeError,W=l.document,z=l.process,H=u("fetch"),Y=T.f,G=Y,X="process"==y(z),V=!!(W&&W.createEvent&&l.dispatchEvent),K="unhandledrejection",$="rejectionhandled",q=0,Z=1,J=2,Q=1,tt=2,et=A(D,(function(){var t=w(B)!==String(B);if(!t){if(66===I)return!0;if(!X&&"function"!=typeof PromiseRejectionEvent)return!0}if(c&&!B.prototype["finally"])return!0;if(I>=51&&/native code/.test(B))return!1;var e=B.resolve(1),n=function(t){t((function(){}),(function(){}))},r=e.constructor={};return r[R]=n,!(e.then((function(){}))instanceof n)})),nt=et||!x((function(t){B.all(t)["catch"]((function(){}))})),rt=function(t){var e;return!(!m(t)||"function"!=typeof(e=t.then))&&e},it=function(t,e,n){if(!e.notified){e.notified=!0;var r=e.reactions;E((function(){var i=e.value,o=e.state==Z,a=0;while(r.length>a){var s,c,l,u=r[a++],h=o?u.ok:u.fail,f=u.resolve,d=u.reject,p=u.domain;try{h?(o||(e.rejection===tt&&ct(t,e),e.rejection=Q),!0===h?s=i:(p&&p.enter(),s=h(i),p&&(p.exit(),l=!0)),s===u.promise?d(U("Promise-chain cycle")):(c=rt(s))?c.call(s,f,d):f(s)):d(i)}catch(g){p&&!l&&p.exit(),d(g)}}e.reactions=[],e.notified=!1,n&&!e.rejection&&at(t,e)}))}},ot=function(t,e,n){var r,i;V?(r=W.createEvent("Event"),r.promise=e,r.reason=n,r.initEvent(t,!1,!0),l.dispatchEvent(r)):r={promise:e,reason:n},(i=l["on"+t])?i(r):t===K&&k("Unhandled promise rejection",n)},at=function(t,e){C.call(l,(function(){var n,r=e.value,i=st(e);if(i&&(n=j((function(){X?z.emit("unhandledRejection",r,t):ot(K,t,r)})),e.rejection=X||st(e)?tt:Q,n.error))throw n.value}))},st=function(t){return t.rejection!==Q&&!t.parent},ct=function(t,e){C.call(l,(function(){X?z.emit("rejectionHandled",t):ot($,t,e.value)}))},lt=function(t,e,n,r){return function(i){t(e,n,i,r)}},ut=function(t,e,n,r){e.done||(e.done=!0,r&&(e=r),e.value=n,e.state=J,it(t,e,!0))},ht=function(t,e,n,r){if(!e.done){e.done=!0,r&&(e=r);try{if(t===n)throw U("Promise can't be resolved itself");var i=rt(n);i?E((function(){var r={done:!1};try{i.call(n,lt(ht,t,r,e),lt(ut,t,r,e))}catch(o){ut(t,r,o,e)}})):(e.value=n,e.state=Z,it(t,e,!1))}catch(o){ut(t,{done:!1},o,e)}}};et&&(B=function(t){b(this,B,D),v(t),r.call(this);var e=L(this);try{t(lt(ht,this,e),lt(ut,this,e))}catch(n){ut(this,e,n)}},r=function(t){N(this,{type:D,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:q,value:void 0})},r.prototype=d(B.prototype,{then:function(t,e){var n=F(this),r=Y(S(this,B));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=X?z.domain:void 0,n.parent=!0,n.reactions.push(r),n.state!=q&&it(this,n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new r,e=L(t);this.promise=t,this.resolve=lt(ht,t,e),this.reject=lt(ut,t,e)},T.f=Y=function(t){return t===B||t===o?new i(t):G(t)},c||"function"!=typeof h||(a=h.prototype.then,f(h.prototype,"then",(function(t,e){var n=this;return new B((function(t,e){a.call(n,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof H&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return O(B,H.apply(l,arguments))}}))),s({global:!0,wrap:!0,forced:et},{Promise:B}),p(B,D,!1,!0),g(D),o=u(D),s({target:D,stat:!0,forced:et},{reject:function(t){var e=Y(this);return e.reject.call(void 0,t),e.promise}}),s({target:D,stat:!0,forced:c||et},{resolve:function(t){return O(c&&this===o?B:this,t)}}),s({target:D,stat:!0,forced:nt},{all:function(t){var e=this,n=Y(e),r=n.resolve,i=n.reject,o=j((function(){var n=v(e.resolve),o=[],a=0,s=1;_(t,(function(t){var c=a++,l=!1;o.push(void 0),s++,n.call(e,t).then((function(t){l||(l=!0,o[c]=t,--s||r(o))}),i)})),--s||r(o)}));return o.error&&i(o.value),n.promise},race:function(t){var e=this,n=Y(e),r=n.reject,i=j((function(){var i=v(e.resolve);_(t,(function(t){i.call(e,t).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}})},s4NR:function(t,e,n){"use strict";e.decode=e.parse=n("kd2E"),e.encode=e.stringify=n("4JlD")},sdAH:function(t,e,n){var r=n("MMxC"),i=Math.hypot,o=Math.abs,a=Math.sqrt,s=!!i&&i(1/0,NaN)!==1/0;r({target:"Math",stat:!0,forced:s},{hypot:function(t,e){var n,r,i=0,s=0,c=arguments.length,l=0;while(s<c)n=o(arguments[s++]),l<n?(r=l/n,i=i*r*r+1,l=n):n>0?(r=n/l,i+=r*r):i+=n;return l===1/0?1/0:l*a(i)}})},ssJt:function(t,e,n){"use strict";var r=n("29mP"),i=n("YfKC"),o=n("2kyd"),a=n("tny8"),s=o("species");t.exports=function(t){var e=r(t),n=i.f;a&&e&&!e[s]&&n(e,s,{configurable:!0,get:function(){return this}})}},"t/kZ":function(t,e,n){"use strict";var r=n("RIqP");function i(){var t=s(n("q1tI"));return i=function(){return t},t}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=n("dEAq");function a(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return a=function(){return t},t}function s(t){if(t&&t.__esModule)return t;if(null===t||"object"!==typeof t&&"function"!==typeof t)return{default:t};var e=a();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}return n["default"]=t,e&&e.set(t,n),n}function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){u(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h(t,e){return m(t)||g(t,e)||d(t,e)||f()}function f(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(t,e){if(t){if("string"===typeof t)return p(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(t,e):void 0}}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function g(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0)if(n.push(a.value),e&&n.length===e)break}catch(err){i=!0,o=err}finally{try{r||null==s["return"]||s["return"]()}finally{if(i)throw o}}return n}}function m(t){if(Array.isArray(t))return t}var v=function(t){var e=(0,i().useContext)(o.context),n=e.locale,a=e.routes,s=e.config.locales,c=(0,i().useState)([]),l=h(c,2),u=l[0],f=l[1],d=(0,i().useState)([]),p=h(d,2),g=p[0],m=p[1];return(0,i().useEffect)((function(){f(a.filter((function(t){var e=t.title,r=t.meta,i=(null===r||void 0===r?void 0:r.locale)===n,o=(null===r||void 0===r?void 0:r.locale)===s[0].name||!(null===r||void 0===r?void 0:r.locale)&&(!s.length||n===s[0].name);return e&&(o||i)})).reduce((function(t,e){var n,i,o={title:e.title,path:e.path};return(null===(n=e.meta)||void 0===n?void 0:n.group)&&(o.parent=e.meta.group),t.push(o),t.push.apply(t,r(((null===(i=e.meta)||void 0===i?void 0:i.slugs)||[]).filter((function(t){var n=t.value;return n!==e.title})).map((function(t){return{title:t.value,path:"".concat(e.path,"#").concat(t.heading),parent:o}})))),t}),[]))}),[a.length,n]),(0,i().useEffect)((function(){var e=null===t||void 0===t?void 0:t.trim().toUpperCase();if(e){for(var n=[],r=0;r<u.length&&n.length<6;r+=1)u[r].title.toUpperCase().indexOf(e)>-1&&n.push(u[r]);m(n)}else m([])}),[t,u.length]),g},b=function(){var t=(0,i().useContext)(o.context),e=t.config.algolia,n=(0,i().useCallback)((function(t){window.docsearch(l({inputSelector:t},e))}),[e]);return n},y=function(t){var e=(0,i().useContext)(o.context),n=e.config,r=v(t),a=b();return n.algolia?a:r};e["default"]=y},t9FE:function(t,e,n){(function(e){function n(t,e){if(r("noDeprecation"))return t;var n=!1;function i(){if(!n){if(r("throwDeprecation"))throw new Error(e);r("traceDeprecation")?console.trace(e):console.warn(e),n=!0}return t.apply(this,arguments)}return i}function r(t){try{if(!e.localStorage)return!1}catch(r){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}t.exports=n}).call(this,n("yLpj"))},tB8F:function(t,e,n){"use strict";n.r(e);n("Xn8V"),n("6spV"),n("wpse"),n("KUpu"),n("8OGu"),n("n7Qr"),n("VQRL"),n("SGZ1"),n("nEGZ"),n("IC/V"),n("H8Ov"),n("aHGi"),n("0O5u"),n("NYJX"),n("mLN8"),n("YJpY"),n("dLjG"),n("fF/C"),n("CDr+"),n("FbcW"),n("wwZZ"),n("+l9e"),n("vnQr"),n("5Blz"),n("X6vt"),n("hilM"),n("u6eR"),n("v/6r"),n("fDrP"),n("1vuE"),n("Q3OH"),n("nDqD"),n("4rKd"),n("X5kU"),n("4Mzw"),n("Pp3M"),n("v0/P"),n("sdAH"),n("EgRx"),n("izsi"),n("xtlo"),n("p1ln"),n("ZahQ"),n("nZC5"),n("HjuX"),n("A9H8"),n("B/G0"),n("Dyhc"),n("WQuA"),n("Qqe/"),n("J428"),n("s1ay"),n("Rw1i"),n("quHW"),n("YjZU"),n("O9az"),n("2KAr"),n("3dhw"),n("zTPR"),n("rpUR"),n("9/ry"),n("z9fm"),n("43iI"),n("mcGr"),n("rUU2"),n("6cL7"),n("ZDb2"),n("EOz7"),n("JI6M"),n("beyn"),n("A+b4"),n("3Us1"),n("eP3D"),n("Mn2j"),n("BtTS"),n("yiTY"),n("Uc1W"),n("y36+"),n("gweS"),n("URK0"),n("1jPx"),n("8Lo7"),n("I5+W"),n("ti1D"),n("NQz/"),n("UHn5"),n("/vMi"),n("nkhd"),n("+u1y"),n("9BQv"),n("Tz1E"),n("U9fH"),n("+4le"),n("jIZW"),n("oYEA"),n("7yTQ"),n("jHRr"),n("Rka6"),n("8Ubs"),n("FK48"),n("Auwt"),n("KAxK"),n("/0sN"),n("VvX1"),n("2aV/"),n("aKtI"),n("VUky"),n("9bAj"),n("xF6R"),n("Dbv2"),n("KHCi"),n("i/DM"),n("hYqy"),n("JXee"),n("+Hw1"),n("FBts"),n("3UWB"),n("S5nV"),n("xD7I"),n("aNdP"),n("UIoa"),n("Osgv"),n("FKIO"),n("Sf9Y"),n("VuYY"),n("ue5M"),n("80Z6"),n("qkSU"),n("xaQh"),n("GPZX"),n("eCow"),n("/R3g"),n("0pSW"),n("85tw"),n("UvYY"),n("DVoG"),n("aLaE"),n("fQri"),n("RDHo"),n("9Rzw"),n("iMhB"),n("/mKc"),n("u6Ie"),n("9znl"),n("+GPJ"),n("haHa"),n("RhWa"),n("PUJJ"),n("YceZ"),n("jksQ"),n("FuvP"),n("Uq4z"),n("+2a4"),n("Gw+j"),n("CO2k"),n("rVgK"),n("ecuC"),n("HQPm"),n("IbaC"),n("s00F"),n("V0Bj"),n("hwEL"),n("d/5L"),n("oJGl"),n("6FCX"),n("OAmA"),n("p6E5"),n("Xxk+"),n("L5O0"),n("bcvT"),n("CRpX"),n("aRU8"),n("p5yU"),n("dnZx"),n("NMu4"),n("5JgN"),n("VWci");var r=n("bCY9"),i=(n("9Ihz"),n("FfOG")),o=n("LtsZ"),a=n("zlVK");function s(){var t=[{path:"/~demos/:uuid",layout:!1,wrappers:[n("KcUY").default],component:t=>{var e=n("q1tI"),r=n("F4QJ").default(t);switch(r.length){case 1:return r[0];case 2:return e.createElement(n("0zqC").default,r[0],r[1]);default:return"Demo ".concat(uuid," not found :(")}}},{path:"/_demos/:uuid",redirect:"/~demos/:uuid"},{__dumiRoot:!0,layout:!1,path:"/",wrappers:[n("KcUY").default,n("JBu9").default],routes:[{path:"/",component:n("F+kV").default,exact:!0,meta:{filePath:"docs/index.md",updatedTime:1613841877e3,title:"demo",sidemenu:!1,slugs:[{depth:1,value:"fabric-photo demo",heading:"fabric-photo-demo"}]},title:"demo"}],title:"fabric-photo",component:t=>t.children}];return r["a"].applyPlugins({key:"patchRoutes",type:o["ApplyPluginsType"].event,args:{routes:t}}),t}var c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].applyPlugins({key:"render",type:o["ApplyPluginsType"].compose,initialValue:()=>{var e=r["a"].applyPlugins({key:"modifyClientRenderOpts",type:o["ApplyPluginsType"].modify,initialValue:{routes:t.routes||s(),plugin:r["a"],history:Object(i["a"])(t.hot),isServer:Object({NODE_ENV:"production"}).__IS_SERVER,rootElement:"root",defaultTitle:"fabric-photo"}});return Object(a["renderClient"])(e)},args:t})},l=c();e["default"]=l();window.g_umi={version:"3.3.7"}},tEiQ:function(t,e,n){"use strict";(function(t){var r=n("q1tI"),i=n.n(r),o=n("dI71"),a=n("17x9"),s=n.n(a),c=1073741823,l="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof t?t:{};function u(){var t="__global_unique_id__";return l[t]=(l[t]||0)+1}function h(t,e){return t===e?0!==t||1/t===1/e:t!==t&&e!==e}function f(t){var e=[];return{on:function(t){e.push(t)},off:function(t){e=e.filter((function(e){return e!==t}))},get:function(){return t},set:function(n,r){t=n,e.forEach((function(e){return e(t,r)}))}}}function d(t){return Array.isArray(t)?t[0]:t}function p(t,e){var n,i,a="__create-react-context-"+u()+"__",l=function(t){function n(){var e;return e=t.apply(this,arguments)||this,e.emitter=f(e.props.value),e}Object(o["a"])(n,t);var r=n.prototype;return r.getChildContext=function(){var t;return t={},t[a]=this.emitter,t},r.componentWillReceiveProps=function(t){if(this.props.value!==t.value){var n,r=this.props.value,i=t.value;h(r,i)?n=0:(n="function"===typeof e?e(r,i):c,n|=0,0!==n&&this.emitter.set(t.value,n))}},r.render=function(){return this.props.children},n}(r["Component"]);l.childContextTypes=(n={},n[a]=s.a.object.isRequired,n);var p=function(e){function n(){var t;return t=e.apply(this,arguments)||this,t.state={value:t.getValue()},t.onUpdate=function(e,n){var r=0|t.observedBits;0!==(r&n)&&t.setState({value:t.getValue()})},t}Object(o["a"])(n,e);var r=n.prototype;return r.componentWillReceiveProps=function(t){var e=t.observedBits;this.observedBits=void 0===e||null===e?c:e},r.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var t=this.props.observedBits;this.observedBits=void 0===t||null===t?c:t},r.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function(){return this.context[a]?this.context[a].get():t},r.render=function(){return d(this.props.children)(this.state.value)},n}(r["Component"]);return p.contextTypes=(i={},i[a]=s.a.object,i),{Provider:l,Consumer:p}}var g=i.a.createContext||p;e["a"]=g}).call(this,n("yLpj"))},tSXo:function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},ti1D:function(t,e,n){"use strict";var r=n("ukPv"),i=n("FVwB"),o=n("MVys"),a=r.Int8Array,s=i.aTypedArray,c=i.exportTypedArrayMethod,l=[].toLocaleString,u=[].slice,h=!!a&&o((function(){l.call(new a(1))})),f=o((function(){return[1,2].toLocaleString()!=new a([1,2]).toLocaleString()}))||!o((function(){a.prototype.toLocaleString.call([1,2])}));c("toLocaleString",(function(){return l.apply(h?u.call(s(this)):s(this),arguments)}),f)},tjlA:function(t,e,n){"use strict";(function(t){var r=n("H7XF"),i=n("kVK+"),o=n("49sm");function a(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"===typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}function s(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function c(t,e){if(s()<e)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=l.prototype):(null===t&&(t=new l(e)),t.length=e),t}function l(t,e,n){if(!l.TYPED_ARRAY_SUPPORT&&!(this instanceof l))return new l(t,e,n);if("number"===typeof t){if("string"===typeof e)throw new Error("If encoding is specified then the first argument must be a string");return d(this,t)}return u(this,t,e,n)}function u(t,e,n,r){if("number"===typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer?m(t,e,n,r):"string"===typeof e?p(t,e,n):v(t,e)}function h(t){if("number"!==typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function f(t,e,n,r){return h(e),e<=0?c(t,e):void 0!==n?"string"===typeof r?c(t,e).fill(n,r):c(t,e).fill(n):c(t,e)}function d(t,e){if(h(e),t=c(t,e<0?0:0|b(e)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function p(t,e,n){if("string"===typeof n&&""!==n||(n="utf8"),!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|w(e,n);t=c(t,r);var i=t.write(e,n);return i!==r&&(t=t.slice(0,i)),t}function g(t,e){var n=e.length<0?0:0|b(e.length);t=c(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function m(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r),l.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=l.prototype):t=g(t,e),t}function v(t,e){if(l.isBuffer(e)){var n=0|b(e.length);return t=c(t,n),0===t.length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!==typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!==typeof e.length||et(e.length)?c(t,0):g(t,e);if("Buffer"===e.type&&o(e.data))return g(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function b(t){if(t>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|t}function y(t){return+t!=t&&(t=0),l.alloc(+t)}function w(t,e){if(l.isBuffer(t))return t.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!==typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return q(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Q(t).length;default:if(r)return q(t).length;e=(""+e).toLowerCase(),r=!0}}function _(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,e>>>=0,n<=e)return"";t||(t="utf8");while(1)switch(t){case"hex":return N(this,e,n);case"utf8":case"utf-8":return P(this,e,n);case"ascii":return D(this,e,n);case"latin1":case"binary":return L(this,e,n);case"base64":return A(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function x(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function S(t,e,n,r,i){if(0===t.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof e&&(e=l.from(e,r)),l.isBuffer(e))return 0===e.length?-1:C(t,e,n,r,i);if("number"===typeof e)return e&=255,l.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):C(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function C(t,e,n,r,i){var o,a=1,s=t.length,c=e.length;if(void 0!==r&&(r=String(r).toLowerCase(),"ucs2"===r||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,c/=2,n/=2}function l(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(i){var u=-1;for(o=n;o<s;o++)if(l(t,o)===l(e,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===c)return u*a}else-1!==u&&(o-=o-u),u=-1}else for(n+c>s&&(n=s-c),o=n;o>=0;o--){for(var h=!0,f=0;f<c;f++)if(l(t,o+f)!==l(e,f)){h=!1;break}if(h)return o}return-1}function E(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var o=e.length;if(o%2!==0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function O(t,e,n,r){return tt(q(e,t.length-n),t,n,r)}function k(t,e,n,r){return tt(Z(e),t,n,r)}function T(t,e,n,r){return k(t,e,n,r)}function j(t,e,n,r){return tt(Q(e),t,n,r)}function M(t,e,n,r){return tt(J(e,t.length-n),t,n,r)}function A(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function P(t,e,n){n=Math.min(t.length,n);var r=[],i=e;while(i<n){var o,a,s,c,l=t[i],u=null,h=l>239?4:l>223?3:l>191?2:1;if(i+h<=n)switch(h){case 1:l<128&&(u=l);break;case 2:o=t[i+1],128===(192&o)&&(c=(31&l)<<6|63&o,c>127&&(u=c));break;case 3:o=t[i+1],a=t[i+2],128===(192&o)&&128===(192&a)&&(c=(15&l)<<12|(63&o)<<6|63&a,c>2047&&(c<55296||c>57343)&&(u=c));break;case 4:o=t[i+1],a=t[i+2],s=t[i+3],128===(192&o)&&128===(192&a)&&128===(192&s)&&(c=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s,c>65535&&c<1114112&&(u=c))}null===u?(u=65533,h=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),i+=h}return R(r)}e.Buffer=l,e.SlowBuffer=y,e.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:a(),e.kMaxLength=s(),l.poolSize=8192,l._augment=function(t){return t.__proto__=l.prototype,t},l.from=function(t,e,n){return u(null,t,e,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(t,e,n){return f(null,t,e,n)},l.allocUnsafe=function(t){return d(null,t)},l.allocUnsafeSlow=function(t){return d(null,t)},l.isBuffer=function(t){return!(null==t||!t._isBuffer)},l.compare=function(t,e){if(!l.isBuffer(t)||!l.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},l.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return l.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=l.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var a=t[n];if(!l.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},l.byteLength=w,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)x(this,e,e+1);return this},l.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)x(this,e,e+3),x(this,e+1,e+2);return this},l.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)x(this,e,e+7),x(this,e+1,e+6),x(this,e+2,e+5),x(this,e+3,e+4);return this},l.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?P(this,0,t):_.apply(this,arguments)},l.prototype.equals=function(t){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===l.compare(this,t)},l.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},l.prototype.compare=function(t,e,n,r,i){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,r>>>=0,i>>>=0,this===t)return 0;for(var o=i-r,a=n-e,s=Math.min(o,a),c=this.slice(r,i),u=t.slice(e,n),h=0;h<s;++h)if(c[h]!==u[h]){o=c[h],a=u[h];break}return o<a?-1:a<o?1:0},l.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},l.prototype.indexOf=function(t,e,n){return S(this,t,e,n,!0)},l.prototype.lastIndexOf=function(t,e,n){return S(this,t,e,n,!1)},l.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"===typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return E(this,t,e,n);case"utf8":case"utf-8":return O(this,t,e,n);case"ascii":return k(this,t,e,n);case"latin1":case"binary":return T(this,t,e,n);case"base64":return j(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var I=4096;function R(t){var e=t.length;if(e<=I)return String.fromCharCode.apply(String,t);var n="",r=0;while(r<e)n+=String.fromCharCode.apply(String,t.slice(r,r+=I));return n}function D(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function L(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function N(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=$(t[o]);return i}function F(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function B(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function U(t,e,n,r,i,o){if(!l.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function W(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function z(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function H(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function Y(t,e,n,r,o){return o||H(t,e,n,4,34028234663852886e22,-34028234663852886e22),i.write(t,e,n,r,23,4),n+4}function G(t,e,n,r,o){return o||H(t,e,n,8,17976931348623157e292,-17976931348623157e292),i.write(t,e,n,r,52,8),n+8}l.prototype.slice=function(t,e){var n,r=this.length;if(t=~~t,e=void 0===e?r:~~e,t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),e<t&&(e=t),l.TYPED_ARRAY_SUPPORT)n=this.subarray(t,e),n.__proto__=l.prototype;else{var i=e-t;n=new l(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+t]}return n},l.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||B(t,e,this.length);var r=this[t],i=1,o=0;while(++o<e&&(i*=256))r+=this[t+o]*i;return r},l.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||B(t,e,this.length);var r=this[t+--e],i=1;while(e>0&&(i*=256))r+=this[t+--e]*i;return r},l.prototype.readUInt8=function(t,e){return e||B(t,1,this.length),this[t]},l.prototype.readUInt16LE=function(t,e){return e||B(t,2,this.length),this[t]|this[t+1]<<8},l.prototype.readUInt16BE=function(t,e){return e||B(t,2,this.length),this[t]<<8|this[t+1]},l.prototype.readUInt32LE=function(t,e){return e||B(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},l.prototype.readUInt32BE=function(t,e){return e||B(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},l.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||B(t,e,this.length);var r=this[t],i=1,o=0;while(++o<e&&(i*=256))r+=this[t+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},l.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||B(t,e,this.length);var r=e,i=1,o=this[t+--r];while(r>0&&(i*=256))o+=this[t+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},l.prototype.readInt8=function(t,e){return e||B(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},l.prototype.readInt16LE=function(t,e){e||B(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(t,e){e||B(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(t,e){return e||B(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},l.prototype.readInt32BE=function(t,e){return e||B(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},l.prototype.readFloatLE=function(t,e){return e||B(t,4,this.length),i.read(this,t,!0,23,4)},l.prototype.readFloatBE=function(t,e){return e||B(t,4,this.length),i.read(this,t,!1,23,4)},l.prototype.readDoubleLE=function(t,e){return e||B(t,8,this.length),i.read(this,t,!0,52,8)},l.prototype.readDoubleBE=function(t,e){return e||B(t,8,this.length),i.read(this,t,!1,52,8)},l.prototype.writeUIntLE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){var i=Math.pow(2,8*n)-1;U(this,t,e,n,i,0)}var o=1,a=0;this[e]=255&t;while(++a<n&&(o*=256))this[e+a]=t/o&255;return e+n},l.prototype.writeUIntBE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){var i=Math.pow(2,8*n)-1;U(this,t,e,n,i,0)}var o=n-1,a=1;this[e+o]=255&t;while(--o>=0&&(a*=256))this[e+o]=t/a&255;return e+n},l.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||U(this,t,e,1,255,0),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},l.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||U(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):W(this,t,e,!0),e+2},l.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||U(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):W(this,t,e,!1),e+2},l.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||U(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):z(this,t,e,!0),e+4},l.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||U(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):z(this,t,e,!1),e+4},l.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);U(this,t,e,n,i-1,-i)}var o=0,a=1,s=0;this[e]=255&t;while(++o<n&&(a*=256))t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},l.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);U(this,t,e,n,i-1,-i)}var o=n-1,a=1,s=0;this[e+o]=255&t;while(--o>=0&&(a*=256))t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},l.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||U(this,t,e,1,127,-128),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},l.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||U(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):W(this,t,e,!0),e+2},l.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||U(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):W(this,t,e,!1),e+2},l.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||U(this,t,e,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):z(this,t,e,!0),e+4},l.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||U(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):z(this,t,e,!1),e+4},l.prototype.writeFloatLE=function(t,e,n){return Y(this,t,e,!0,n)},l.prototype.writeFloatBE=function(t,e,n){return Y(this,t,e,!1,n)},l.prototype.writeDoubleLE=function(t,e,n){return G(this,t,e,!0,n)},l.prototype.writeDoubleBE=function(t,e,n){return G(this,t,e,!1,n)},l.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!l.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},l.prototype.fill=function(t,e,n,r){if("string"===typeof t){if("string"===typeof e?(r=e,e=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"===typeof t)for(o=e;o<n;++o)this[o]=t;else{var a=l.isBuffer(t)?t:q(new l(t,r).toString()),s=a.length;for(o=0;o<n-e;++o)this[o+e]=a[o%s]}return this};var X=/[^+\/0-9A-Za-z-_]/g;function V(t){if(t=K(t).replace(X,""),t.length<2)return"";while(t.length%4!==0)t+="=";return t}function K(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function $(t){return t<16?"0"+t.toString(16):t.toString(16)}function q(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],a=0;a<r;++a){if(n=t.charCodeAt(a),n>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function Z(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function J(t,e){for(var n,r,i,o=[],a=0;a<t.length;++a){if((e-=2)<0)break;n=t.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r)}return o}function Q(t){return r.toByteArray(V(t))}function tt(t,e,n,r){for(var i=0;i<r;++i){if(i+n>=e.length||i>=t.length)break;e[i+n]=t[i]}return i}function et(t){return t!==t}}).call(this,n("yLpj"))},tny8:function(t,e,n){var r=n("MVys");t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},"u+7+":function(t,e,n){var r,i=n("f1E4"),o=n("HctQ"),a=n("De94"),s=n("6ixQ"),c=n("yj7k"),l=n("8w+9"),u=n("CjUg"),h=">",f="<",d="prototype",p="script",g=u("IE_PROTO"),m=function(){},v=function(t){return f+p+h+t+f+"/"+p+h},b=function(t){t.write(v("")),t.close();var e=t.parentWindow.Object;return t=null,e},y=function(){var t,e=l("iframe"),n="java"+p+":";return e.style.display="none",c.appendChild(e),e.src=String(n),t=e.contentWindow.document,t.open(),t.write(v("document.F=Object")),t.close(),t.F},w=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(e){}w=r?b(r):y();var t=a.length;while(t--)delete w[d][a[t]];return w()};s[g]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(m[d]=i(t),n=new m,m[d]=null,n[g]=t):n=w(),void 0===e?n:o(n,e)}},u6Ie:function(t,e,n){"use strict";var r=n("MMxC"),i=n("Zcjx"),o=n("f1E4"),a=n("7BAe"),s=n("jbR1"),c=n("IuhT");r({target:"Set",proto:!0,real:!0,forced:i},{find:function(t){var e=o(this),n=s(e),r=a(t,arguments.length>1?arguments[1]:void 0,3);return c(n,(function(t){if(r(t,t,e))return c.stop(t)}),void 0,!1,!0).result}})},u6eR:function(t,e,n){"use strict";var r=n("MMxC"),i=n("cT1L"),o=n("cTDu"),a=n("MVys"),s=n("R8iy"),c=[],l=c.sort,u=a((function(){c.sort(void 0)})),h=a((function(){c.sort(null)})),f=s("sort"),d=u||!h||!f;r({target:"Array",proto:!0,forced:d},{sort:function(t){return void 0===t?l.call(o(this)):l.call(o(this),i(t))}})},u93E:function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},uGHk:function(t,e,n){var r=n("Srjj"),i=n("De94"),o=i.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},uMwj:function(t,e,n){"use strict";var r=n("MMxC"),i=n("uoF6"),o=n("Acmb"),a=n("g1ZG"),s=n("kiNa"),c=n("lz10"),l=n("NMFW"),u=n("2kyd"),h=n("Zcjx"),f=n("5yw/"),d=n("JXem"),p=d.IteratorPrototype,g=d.BUGGY_SAFARI_ITERATORS,m=u("iterator"),v="keys",b="values",y="entries",w=function(){return this};t.exports=function(t,e,n,u,d,_,x){i(n,e,u);var S,C,E,O=function(t){if(t===d&&A)return A;if(!g&&t in j)return j[t];switch(t){case v:return function(){return new n(this,t)};case b:return function(){return new n(this,t)};case y:return function(){return new n(this,t)}}return function(){return new n(this)}},k=e+" Iterator",T=!1,j=t.prototype,M=j[m]||j["@@iterator"]||d&&j[d],A=!g&&M||O(d),P="Array"==e&&j.entries||M;if(P&&(S=o(P.call(new t)),p!==Object.prototype&&S.next&&(h||o(S)===p||(a?a(S,p):"function"!=typeof S[m]&&c(S,m,w)),s(S,k,!0,!0),h&&(f[k]=w))),d==b&&M&&M.name!==b&&(T=!0,A=function(){return M.call(this)}),h&&!x||j[m]===A||c(j,m,A),f[e]=A,d)if(C={values:O(b),keys:_?A:O(v),entries:O(y)},x)for(E in C)(g||T||!(E in j))&&l(j,E,C[E]);else r({target:e,proto:!0,forced:g||T},C);return C}},ue5M:function(t,e,n){n("pW3P")},ujhg:function(t,e,n){var r=n("NMFW");t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},ukPv:function(t,e,n){(function(e){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||Function("return this")()}).call(this,n("yLpj"))},uoF6:function(t,e,n){"use strict";var r=n("JXem").IteratorPrototype,i=n("u+7+"),o=n("HhvW"),a=n("kiNa"),s=n("5yw/"),c=function(){return this};t.exports=function(t,e,n){var l=e+" Iterator";return t.prototype=i(r,{next:o(1,n)}),a(t,l,!1,!0),s[l]=c,t}},uz3g:function(t,e,n){"use strict";var r=n("ujhg"),i=n("a5mf").getWeakData,o=n("f1E4"),a=n("tSXo"),s=n("igoe"),c=n("IuhT"),l=n("zv1X"),u=n("jtLI"),h=n("1aI8"),f=h.set,d=h.getterFor,p=l.find,g=l.findIndex,m=0,v=function(t){return t.frozen||(t.frozen=new b)},b=function(){this.entries=[]},y=function(t,e){return p(t.entries,(function(t){return t[0]===e}))};b.prototype={get:function(t){var e=y(this,t);if(e)return e[1]},has:function(t){return!!y(this,t)},set:function(t,e){var n=y(this,t);n?n[1]=e:this.entries.push([t,e])},delete:function(t){var e=g(this.entries,(function(e){return e[0]===t}));return~e&&this.entries.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,l){var h=t((function(t,r){s(t,h,e),f(t,{type:e,id:m++,frozen:void 0}),void 0!=r&&c(r,t[l],t,n)})),p=d(e),g=function(t,e,n){var r=p(t),a=i(o(e),!0);return!0===a?v(r).set(e,n):a[r.id]=n,t};return r(h.prototype,{delete:function(t){var e=p(this);if(!a(t))return!1;var n=i(t);return!0===n?v(e)["delete"](t):n&&u(n,e.id)&&delete n[e.id]},has:function(t){var e=p(this);if(!a(t))return!1;var n=i(t);return!0===n?v(e).has(t):n&&u(n,e.id)}}),r(h.prototype,n?{get:function(t){var e=p(this);if(a(t)){var n=i(t);return!0===n?v(e).get(t):n?n[e.id]:void 0}},set:function(t,e){return g(this,t,e)}}:{add:function(t){return g(this,t,!0)}}),h}}},"v/6r":function(t,e,n){var r=n("ssJt");r("Array")},"v0/P":function(t,e,n){var r=n("MMxC"),i=n("egz/"),o=Math.acosh,a=Math.log,s=Math.sqrt,c=Math.LN2,l=!o||710!=Math.floor(o(Number.MAX_VALUE))||o(1/0)!=1/0;r({target:"Math",stat:!0,forced:l},{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?a(t)+c:i(t-1+s(t-1)*s(t+1))}})},vO0A:function(t,e,n){"use strict";var r=n("YfKC").f,i=n("u+7+"),o=n("ujhg"),a=n("7BAe"),s=n("igoe"),c=n("IuhT"),l=n("uMwj"),u=n("ssJt"),h=n("tny8"),f=n("a5mf").fastKey,d=n("1aI8"),p=d.set,g=d.getterFor;t.exports={getConstructor:function(t,e,n,l){var u=t((function(t,r){s(t,u,e),p(t,{type:e,index:i(null),first:void 0,last:void 0,size:0}),h||(t.size=0),void 0!=r&&c(r,t[l],t,n)})),d=g(e),m=function(t,e,n){var r,i,o=d(t),a=v(t,e);return a?a.value=n:(o.last=a={index:i=f(e,!0),key:e,value:n,previous:r=o.last,next:void 0,removed:!1},o.first||(o.first=a),r&&(r.next=a),h?o.size++:t.size++,"F"!==i&&(o.index[i]=a)),t},v=function(t,e){var n,r=d(t),i=f(e);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==e)return n};return o(u.prototype,{clear:function(){var t=this,e=d(t),n=e.index,r=e.first;while(r)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete n[r.index],r=r.next;e.first=e.last=void 0,h?e.size=0:t.size=0},delete:function(t){var e=this,n=d(e),r=v(e,t);if(r){var i=r.next,o=r.previous;delete n.index[r.index],r.removed=!0,o&&(o.next=i),i&&(i.previous=o),n.first==r&&(n.first=i),n.last==r&&(n.last=o),h?n.size--:e.size--}return!!r},forEach:function(t){var e,n=d(this),r=a(t,arguments.length>1?arguments[1]:void 0,3);while(e=e?e.next:n.first){r(e.value,e.key,this);while(e&&e.removed)e=e.previous}},has:function(t){return!!v(this,t)}}),o(u.prototype,n?{get:function(t){var e=v(this,t);return e&&e.value},set:function(t,e){return m(this,0===t?0:t,e)}}:{add:function(t){return m(this,t=0===t?0:t,t)}}),h&&r(u.prototype,"size",{get:function(){return d(this).size}}),u},setStrong:function(t,e,n){var r=e+" Iterator",i=g(e),o=g(r);l(t,e,(function(t,e){p(this,{type:r,target:t,state:i(t),kind:e,last:void 0})}),(function(){var t=o(this),e=t.kind,n=t.last;while(n&&n.removed)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),u(e)}}},vRGJ:function(t,e,n){var r=n("AqCL");t.exports=b,t.exports.parse=o,t.exports.compile=a,t.exports.tokensToFunction=l,t.exports.tokensToRegExp=v;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(t,e){var n,r=[],o=0,a=0,s="",c=e&&e.delimiter||"/";while(null!=(n=i.exec(t))){var l=n[0],f=n[1],d=n.index;if(s+=t.slice(a,d),a=d+l.length,f)s+=f[1];else{var p=t[a],g=n[2],m=n[3],v=n[4],b=n[5],y=n[6],w=n[7];s&&(r.push(s),s="");var _=null!=g&&null!=p&&p!==g,x="+"===y||"*"===y,S="?"===y||"*"===y,C=n[2]||c,E=v||b;r.push({name:m||o++,prefix:g||"",delimiter:C,optional:S,repeat:x,partial:_,asterisk:!!w,pattern:E?h(E):w?".*":"[^"+u(C)+"]+?"})}}return a<t.length&&(s+=t.substr(a)),s&&r.push(s),r}function a(t,e){return l(o(t,e),e)}function s(t){return encodeURI(t).replace(/[\/?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))}function c(t){return encodeURI(t).replace(/[?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))}function l(t,e){for(var n=new Array(t.length),i=0;i<t.length;i++)"object"===typeof t[i]&&(n[i]=new RegExp("^(?:"+t[i].pattern+")$",d(e)));return function(e,i){for(var o="",a=e||{},l=i||{},u=l.pretty?s:encodeURIComponent,h=0;h<t.length;h++){var f=t[h];if("string"!==typeof f){var d,p=a[f.name];if(null==p){if(f.optional){f.partial&&(o+=f.prefix);continue}throw new TypeError('Expected "'+f.name+'" to be defined')}if(r(p)){if(!f.repeat)throw new TypeError('Expected "'+f.name+'" to not repeat, but received `'+JSON.stringify(p)+"`");if(0===p.length){if(f.optional)continue;throw new TypeError('Expected "'+f.name+'" to not be empty')}for(var g=0;g<p.length;g++){if(d=u(p[g]),!n[h].test(d))throw new TypeError('Expected all "'+f.name+'" to match "'+f.pattern+'", but received `'+JSON.stringify(d)+"`");o+=(0===g?f.prefix:f.delimiter)+d}}else{if(d=f.asterisk?c(p):u(p),!n[h].test(d))throw new TypeError('Expected "'+f.name+'" to match "'+f.pattern+'", but received "'+d+'"');o+=f.prefix+d}}else o+=f}return o}}function u(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function h(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function f(t,e){return t.keys=e,t}function d(t){return t&&t.sensitive?"":"i"}function p(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return f(t,e)}function g(t,e,n){for(var r=[],i=0;i<t.length;i++)r.push(b(t[i],e,n).source);var o=new RegExp("(?:"+r.join("|")+")",d(n));return f(o,e)}function m(t,e,n){return v(o(t,n),e,n)}function v(t,e,n){r(e)||(n=e||n,e=[]),n=n||{};for(var i=n.strict,o=!1!==n.end,a="",s=0;s<t.length;s++){var c=t[s];if("string"===typeof c)a+=u(c);else{var l=u(c.prefix),h="(?:"+c.pattern+")";e.push(c),c.repeat&&(h+="(?:"+l+h+")*"),h=c.optional?c.partial?l+"("+h+")?":"(?:"+l+"("+h+"))?":l+"("+h+")",a+=h}}var p=u(n.delimiter||"/"),g=a.slice(-p.length)===p;return i||(a=(g?a.slice(0,-p.length):a)+"(?:"+p+"(?=$))?"),a+=o?"$":i&&g?"":"(?="+p+"|$)",f(new RegExp("^"+a,d(n)),e)}function b(t,e,n){return r(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?p(t,e):r(t)?g(t,e,n):m(t,e,n)}},viRO:function(t,e,n){"use strict";var r=n("MgzW"),i="function"===typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,c=i?Symbol.for("react.strict_mode"):60108,l=i?Symbol.for("react.profiler"):60114,u=i?Symbol.for("react.provider"):60109,h=i?Symbol.for("react.context"):60110,f=i?Symbol.for("react.forward_ref"):60112,d=i?Symbol.for("react.suspense"):60113,p=i?Symbol.for("react.memo"):60115,g=i?Symbol.for("react.lazy"):60116,m="function"===typeof Symbol&&Symbol.iterator;function v(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y={};function w(t,e,n){this.props=t,this.context=e,this.refs=y,this.updater=n||b}function _(){}function x(t,e,n){this.props=t,this.context=e,this.refs=y,this.updater=n||b}w.prototype.isReactComponent={},w.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error(v(85));this.updater.enqueueSetState(this,t,e,"setState")},w.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},_.prototype=w.prototype;var S=x.prototype=new _;S.constructor=x,r(S,w.prototype),S.isPureReactComponent=!0;var C={current:null},E=Object.prototype.hasOwnProperty,O={key:!0,ref:!0,__self:!0,__source:!0};function k(t,e,n){var r,i={},a=null,s=null;if(null!=e)for(r in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)E.call(e,r)&&!O.hasOwnProperty(r)&&(i[r]=e[r]);var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in c=t.defaultProps,c)void 0===i[r]&&(i[r]=c[r]);return{$$typeof:o,type:t,key:a,ref:s,props:i,_owner:C.current}}function T(t,e){return{$$typeof:o,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function j(t){return"object"===typeof t&&null!==t&&t.$$typeof===o}function M(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,(function(t){return e[t]}))}var A=/\/+/g,P=[];function I(t,e,n,r){if(P.length){var i=P.pop();return i.result=t,i.keyPrefix=e,i.func=n,i.context=r,i.count=0,i}return{result:t,keyPrefix:e,func:n,context:r,count:0}}function R(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>P.length&&P.push(t)}function D(t,e,n,r){var i=typeof t;"undefined"!==i&&"boolean"!==i||(t=null);var s=!1;if(null===t)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case o:case a:s=!0}}if(s)return n(r,t,""===e?"."+N(t,0):e),1;if(s=0,e=""===e?".":e+":",Array.isArray(t))for(var c=0;c<t.length;c++){i=t[c];var l=e+N(i,c);s+=D(i,l,n,r)}else if(null===t||"object"!==typeof t?l=null:(l=m&&t[m]||t["@@iterator"],l="function"===typeof l?l:null),"function"===typeof l)for(t=l.call(t),c=0;!(i=t.next()).done;)i=i.value,l=e+N(i,c++),s+=D(i,l,n,r);else if("object"===i)throw n=""+t,Error(v(31,"[object Object]"===n?"object with keys {"+Object.keys(t).join(", ")+"}":n,""));return s}function L(t,e,n){return null==t?0:D(t,"",e,n)}function N(t,e){return"object"===typeof t&&null!==t&&null!=t.key?M(t.key):e.toString(36)}function F(t,e){t.func.call(t.context,e,t.count++)}function B(t,e,n){var r=t.result,i=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?U(t,r,n,(function(t){return t})):null!=t&&(j(t)&&(t=T(t,i+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(A,"$&/")+"/")+n)),r.push(t))}function U(t,e,n,r,i){var o="";null!=n&&(o=(""+n).replace(A,"$&/")+"/"),e=I(e,o,r,i),L(t,B,e),R(e)}var W={current:null};function z(){var t=W.current;if(null===t)throw Error(v(321));return t}var H={ReactCurrentDispatcher:W,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:C,IsSomeRendererActing:{current:!1},assign:r};e.Children={map:function(t,e,n){if(null==t)return t;var r=[];return U(t,r,null,e,n),r},forEach:function(t,e,n){if(null==t)return t;e=I(null,null,e,n),L(t,F,e),R(e)},count:function(t){return L(t,(function(){return null}),null)},toArray:function(t){var e=[];return U(t,e,null,(function(t){return t})),e},only:function(t){if(!j(t))throw Error(v(143));return t}},e.Component=w,e.Fragment=s,e.Profiler=l,e.PureComponent=x,e.StrictMode=c,e.Suspense=d,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H,e.cloneElement=function(t,e,n){if(null===t||void 0===t)throw Error(v(267,t));var i=r({},t.props),a=t.key,s=t.ref,c=t._owner;if(null!=e){if(void 0!==e.ref&&(s=e.ref,c=C.current),void 0!==e.key&&(a=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)E.call(e,u)&&!O.hasOwnProperty(u)&&(i[u]=void 0===e[u]&&void 0!==l?l[u]:e[u])}var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){l=Array(u);for(var h=0;h<u;h++)l[h]=arguments[h+2];i.children=l}return{$$typeof:o,type:t.type,key:a,ref:s,props:i,_owner:c}},e.createContext=function(t,e){return void 0===e&&(e=null),t={$$typeof:h,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider={$$typeof:u,_context:t},t.Consumer=t},e.createElement=k,e.createFactory=function(t){var e=k.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:f,render:t}},e.isValidElement=j,e.lazy=function(t){return{$$typeof:g,_ctor:t,_status:-1,_result:null}},e.memo=function(t,e){return{$$typeof:p,type:t,compare:void 0===e?null:e}},e.useCallback=function(t,e){return z().useCallback(t,e)},e.useContext=function(t,e){return z().useContext(t,e)},e.useDebugValue=function(){},e.useEffect=function(t,e){return z().useEffect(t,e)},e.useImperativeHandle=function(t,e,n){return z().useImperativeHandle(t,e,n)},e.useLayoutEffect=function(t,e){return z().useLayoutEffect(t,e)},e.useMemo=function(t,e){return z().useMemo(t,e)},e.useReducer=function(t,e,n){return z().useReducer(t,e,n)},e.useRef=function(t){return z().useRef(t)},e.useState=function(t){return z().useState(t)},e.version="16.14.0"},vnQr:function(t,e,n){"use strict";var r=n("MMxC"),i=n("9RRT").left,o=n("R8iy"),a=n("kGMc"),s=o("reduce"),c=a("reduce",{1:0});r({target:"Array",proto:!0,forced:!s||!c},{reduce:function(t){return i(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},vuIU:function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}n.r(e),n.d(e,"default",(function(){return i}))},wTVA:function(t,e){function n(t){if(Array.isArray(t))return t}t.exports=n},wgKq:function(t,e,n){var r=n("Fs9M");t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},wkBT:function(t,e){function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}t.exports=n},wpse:function(t,e,n){var r=n("I65O");r("asyncIterator")},wwZZ:function(t,e,n){var r=n("MMxC"),i=n("QQ4S");r({target:"Array",proto:!0,forced:i!==[].lastIndexOf},{lastIndexOf:i})},wx14:function(t,e,n){"use strict";function r(){return r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r.apply(this,arguments)}n.d(e,"a",(function(){return r}))},x2v5:function(t){t.exports=JSON.parse("{}")},xD7I:function(t,e,n){var r=n("MMxC"),i=Math.PI/180;r({target:"Math",stat:!0},{radians:function(t){return t*i}})},xF6R:function(t,e,n){"use strict";var r=n("MMxC"),i=n("Zcjx"),o=n("f1E4"),a=n("7BAe"),s=n("PPXv"),c=n("IuhT");r({target:"Map",proto:!0,real:!0,forced:i},{some:function(t){var e=o(this),n=s(e),r=a(t,arguments.length>1?arguments[1]:void 0,3);return c(n,(function(t,n){if(r(n,t,e))return c.stop()}),void 0,!0,!0).stopped}})},xH5X:function(t,e,n){"use strict";var r=n("eYKs").charAt;t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},xRZI:function(t,e,n){var r=n("Qlla");t.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},xaQh:function(t,e,n){var r=n("MMxC"),i=n("ls1J"),o=n("f1E4"),a=i.toKey,s=i.set;r({target:"Reflect",stat:!0},{defineMetadata:function(t,e,n){var r=arguments.length<4?void 0:a(arguments[3]);s(t,e,o(n),r)}})},"xp+Q":function(t,e,n){"use strict";var r=n("lm0R");function i(t,e){var n=this,i=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return i||o?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||r.nextTick(a,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!e&&t?(r.nextTick(a,n,t),n._writableState&&(n._writableState.errorEmitted=!0)):e&&e(t)})),this)}function o(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function a(t,e){t.emit("error",e)}t.exports={destroy:i,undestroy:o}},xtlo:function(t,e,n){"use strict";var r=n("MMxC"),i=n("m0kY"),o=n("F52u"),a=n("+rjg"),s=n("MVys"),c=1..toFixed,l=Math.floor,u=function(t,e,n){return 0===e?n:e%2===1?u(t,e-1,n*t):u(t*t,e/2,n)},h=function(t){var e=0,n=t;while(n>=4096)e+=12,n/=4096;while(n>=2)e+=1,n/=2;return e},f=c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!s((function(){c.call({})}));r({target:"Number",proto:!0,forced:f},{toFixed:function(t){var e,n,r,s,c=o(this),f=i(t),d=[0,0,0,0,0,0],p="",g="0",m=function(t,e){var n=-1,r=e;while(++n<6)r+=t*d[n],d[n]=r%1e7,r=l(r/1e7)},v=function(t){var e=6,n=0;while(--e>=0)n+=d[e],d[e]=l(n/t),n=n%t*1e7},b=function(){var t=6,e="";while(--t>=0)if(""!==e||0===t||0!==d[t]){var n=String(d[t]);e=""===e?n:e+a.call("0",7-n.length)+n}return e};if(f<0||f>20)throw RangeError("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(p="-",c=-c),c>1e-21)if(e=h(c*u(2,69,1))-69,n=e<0?c*u(2,-e,1):c/u(2,e,1),n*=4503599627370496,e=52-e,e>0){m(0,n),r=f;while(r>=7)m(1e7,0),r-=7;m(u(10,r,1),0),r=e-1;while(r>=23)v(1<<23),r-=23;v(1<<r),m(1,1),v(2),g=b()}else m(0,n),m(1<<-e,0),g=b()+a.call("0",f);return f>0?(s=g.length,g=p+(s<=f?"0."+a.call("0",f-s)+g:g.slice(0,s-f)+"."+g.slice(s-f))):g=p+g,g}})},xxaU:function(t,e,n){var r=n("Zcjx"),i=n("pb5k");(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.5",mode:r?"pure":"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})},"y36+":function(t,e,n){var r=n("Mi8B");r("Uint8",(function(t){return function(e,n,r){return t(this,e,n,r)}}),!0)},y7lk:function(module,exports,__webpack_require__){(function(Buffer,process){var fabric=fabric||{version:"1.7.3"};exports.fabric=fabric,"undefined"!==typeof document&&"undefined"!==typeof window?(fabric.document=document,fabric.window=window,window.fabric=fabric):(fabric.document=__webpack_require__(2).jsdom(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E")),fabric.document.createWindow?fabric.window=fabric.document.createWindow():fabric.window=fabric.document.parentWindow),fabric.isTouchSupported="ontouchstart"in fabric.document.documentElement,fabric.isLikelyNode="undefined"!==typeof Buffer&&"undefined"===typeof window,fabric.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id"],fabric.DPI=96,fabric.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:e[-+]?\\d+)?)",fabric.fontPaths={},fabric.charWidthsCache={},fabric.devicePixelRatio=fabric.window.devicePixelRatio||fabric.window.webkitDevicePixelRatio||fabric.window.mozDevicePixelRatio||1,function(){function t(t,e){if(this.__eventListeners[t]){var n=this.__eventListeners[t];e?n[n.indexOf(e)]=!1:fabric.util.array.fill(n,!1)}}function e(t,e){if(this.__eventListeners||(this.__eventListeners={}),1===arguments.length)for(var n in t)this.on(n,t[n]);else this.__eventListeners[t]||(this.__eventListeners[t]=[]),this.__eventListeners[t].push(e);return this}function n(e,n){if(this.__eventListeners){if(0===arguments.length)for(e in this.__eventListeners)t.call(this,e);else if(1===arguments.length&&"object"===typeof arguments[0])for(var r in e)t.call(this,r,e[r]);else t.call(this,e,n);return this}}function r(t,e){if(this.__eventListeners){var n=this.__eventListeners[t];if(n){for(var r=0,i=n.length;r<i;r++)n[r]&&n[r].call(this,e||{});return this.__eventListeners[t]=n.filter((function(t){return!1!==t})),this}}}fabric.Observable={observe:e,stopObserving:n,fire:r,on:e,off:n,trigger:r}}(),fabric.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var t=0,e=arguments.length;t<e;t++)this._onObjectAdded(arguments[t]);return this.renderOnAddRemove&&this.renderAll(),this},insertAt:function(t,e,n){var r=this.getObjects();return n?r[e]=t:r.splice(e,0,t),this._onObjectAdded&&this._onObjectAdded(t),this.renderOnAddRemove&&this.renderAll(),this},remove:function(){for(var t,e=this.getObjects(),n=!1,r=0,i=arguments.length;r<i;r++)t=e.indexOf(arguments[r]),-1!==t&&(n=!0,e.splice(t,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[r]));return this.renderOnAddRemove&&n&&this.renderAll(),this},forEachObject:function(t,e){for(var n=this.getObjects(),r=0,i=n.length;r<i;r++)t.call(e,n[r],r,n);return this},getObjects:function(t){return"undefined"===typeof t?this._objects:this._objects.filter((function(e){return e.type===t}))},item:function(t){return this.getObjects()[t]},isEmpty:function(){return 0===this.getObjects().length},size:function(){return this.getObjects().length},contains:function(t){return this.getObjects().indexOf(t)>-1},complexity:function(){return this.getObjects().reduce((function(t,e){return t+=e.complexity?e.complexity():0,t}),0)}},fabric.CommonMethods={_setOptions:function(t){for(var e in t)this.set(e,t[e])},_initGradient:function(t,e){!t||!t.colorStops||t instanceof fabric.Gradient||this.set(e,new fabric.Gradient(t))},_initPattern:function(t,e,n){!t||!t.source||t instanceof fabric.Pattern?n&&n():this.set(e,new fabric.Pattern(t,n))},_initClipping:function(t){if(t.clipTo&&"string"===typeof t.clipTo){var e=fabric.util.getFunctionBody(t.clipTo);"undefined"!==typeof e&&(this.clipTo=new Function("ctx",e))}},_setObject:function(t){for(var e in t)this._set(e,t[e])},set:function(t,e){return"object"===typeof t?this._setObject(t):"function"===typeof e&&"clipTo"!==t?this._set(t,e(this.get(t))):this._set(t,e),this},_set:function(t,e){this[t]=e},toggle:function(t){var e=this.get(t);return"boolean"===typeof e&&this.set(t,!e),this},get:function(t){return this[t]}},function(t){var e=Math.sqrt,n=Math.atan2,r=Math.pow,i=Math.abs,o=Math.PI/180;fabric.util={removeFromArray:function(t,e){var n=t.indexOf(e);return-1!==n&&t.splice(n,1),t},getRandomInt:function(t,e){return Math.floor(Math.random()*(e-t+1))+t},degreesToRadians:function(t){return t*o},radiansToDegrees:function(t){return t/o},rotatePoint:function(t,e,n){t.subtractEquals(e);var r=fabric.util.rotateVector(t,n);return new fabric.Point(r.x,r.y).addEquals(e)},rotateVector:function(t,e){var n=Math.sin(e),r=Math.cos(e),i=t.x*r-t.y*n,o=t.x*n+t.y*r;return{x:i,y:o}},transformPoint:function(t,e,n){return n?new fabric.Point(e[0]*t.x+e[2]*t.y,e[1]*t.x+e[3]*t.y):new fabric.Point(e[0]*t.x+e[2]*t.y+e[4],e[1]*t.x+e[3]*t.y+e[5])},makeBoundingBoxFromPoints:function(t){var e=[t[0].x,t[1].x,t[2].x,t[3].x],n=fabric.util.array.min(e),r=fabric.util.array.max(e),i=Math.abs(n-r),o=[t[0].y,t[1].y,t[2].y,t[3].y],a=fabric.util.array.min(o),s=fabric.util.array.max(o),c=Math.abs(a-s);return{left:n,top:a,width:i,height:c}},invertTransform:function(t){var e=1/(t[0]*t[3]-t[1]*t[2]),n=[e*t[3],-e*t[1],-e*t[2],e*t[0]],r=fabric.util.transformPoint({x:t[4],y:t[5]},n,!0);return n[4]=-r.x,n[5]=-r.y,n},toFixed:function(t,e){return parseFloat(Number(t).toFixed(e))},parseUnit:function(t,e){var n=/\D{0,2}$/.exec(t),r=parseFloat(t);switch(e||(e=fabric.Text.DEFAULT_SVG_FONT_SIZE),n[0]){case"mm":return r*fabric.DPI/25.4;case"cm":return r*fabric.DPI/2.54;case"in":return r*fabric.DPI;case"pt":return r*fabric.DPI/72;case"pc":return r*fabric.DPI/72*12;case"em":return r*e;default:return r}},falseFunction:function(){return!1},getKlass:function(t,e){return t=fabric.util.string.camelize(t.charAt(0).toUpperCase()+t.slice(1)),fabric.util.resolveNamespace(e)[t]},resolveNamespace:function(e){if(!e)return fabric;var n,r=e.split("."),i=r.length,o=t||fabric.window;for(n=0;n<i;++n)o=o[r[n]];return o},loadImage:function(t,e,n,r){if(t){var i=fabric.util.createImage();i.onload=function(){e&&e.call(n,i),i=i.onload=i.onerror=null},i.onerror=function(){fabric.log("Error loading "+i.src),e&&e.call(n,null,!0),i=i.onload=i.onerror=null},0!==t.indexOf("data")&&r&&(i.crossOrigin=r),i.src=t}else e&&e.call(n,t)},enlivenObjects:function(t,e,n,r){function i(){++a===s&&e&&e(o)}t=t||[];var o=[],a=0,s=t.length,c=!0;s?t.forEach((function(t,e){if(t&&t.type){var a=fabric.util.getKlass(t.type,n);a.fromObject(t,(function(n,a){a||(o[e]=n),r&&r(t,n,a),i()}),c)}else i()})):e&&e(o)},enlivenPatterns:function(t,e){function n(){++i===o&&e&&e(r)}t=t||[];var r=[],i=0,o=t.length;o?t.forEach((function(t,e){t&&t.source?new fabric.Pattern(t,(function(t){r[e]=t,n()})):(r[e]=t,n())})):e&&e(r)},groupSVGElements:function(t,e,n){var r;return r=new fabric.PathGroup(t,e),"undefined"!==typeof n&&r.setSourcePath(n),r},populateWithProperties:function(t,e,n){if(n&&"[object Array]"===Object.prototype.toString.call(n))for(var r=0,i=n.length;r<i;r++)n[r]in t&&(e[n[r]]=t[n[r]])},drawDashedLine:function(t,r,i,o,a,s){var c=o-r,l=a-i,u=e(c*c+l*l),h=n(l,c),f=s.length,d=0,p=!0;t.save(),t.translate(r,i),t.moveTo(0,0),t.rotate(h),r=0;while(u>r)r+=s[d++%f],r>u&&(r=u),t[p?"lineTo":"moveTo"](r,0),p=!p;t.restore()},createCanvasElement:function(t){return t||(t=fabric.document.createElement("canvas")),t.getContext||"undefined"===typeof G_vmlCanvasManager||G_vmlCanvasManager.initElement(t),t},createImage:function(){return fabric.isLikelyNode?new(__webpack_require__(0).Image):fabric.document.createElement("img")},createAccessors:function(t){var e,n,r,i,o,a=t.prototype;for(e=a.stateProperties.length;e--;)n=a.stateProperties[e],r=n.charAt(0).toUpperCase()+n.slice(1),i="set"+r,o="get"+r,a[o]||(a[o]=function(t){return new Function('return this.get("'+t+'")')}(n)),a[i]||(a[i]=function(t){return new Function("value",'return this.set("'+t+'", value)')}(n))},clipContext:function(t,e){e.save(),e.beginPath(),t.clipTo(e),e.clip()},multiplyTransformMatrices:function(t,e,n){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],n?0:t[0]*e[4]+t[2]*e[5]+t[4],n?0:t[1]*e[4]+t[3]*e[5]+t[5]]},qrDecompose:function(t){var i=n(t[1],t[0]),a=r(t[0],2)+r(t[1],2),s=e(a),c=(t[0]*t[3]-t[2]*t[1])/s,l=n(t[0]*t[2]+t[1]*t[3],a);return{angle:i/o,scaleX:s,scaleY:c,skewX:l/o,skewY:0,translateX:t[4],translateY:t[5]}},customTransformMatrix:function(t,e,n){var r=[1,0,i(Math.tan(n*o)),1],a=[i(t),0,0,i(e)];return fabric.util.multiplyTransformMatrices(a,r,!0)},resetObjectTransform:function(t){t.scaleX=1,t.scaleY=1,t.skewX=0,t.skewY=0,t.flipX=!1,t.flipY=!1,t.setAngle(0)},getFunctionBody:function(t){return(String(t).match(/function[^{]*\{([\s\S]*)\}/)||{})[1]},isTransparent:function(t,e,n,r){r>0&&(e>r?e-=r:e=0,n>r?n-=r:n=0);var i,o,a=!0,s=t.getImageData(e,n,2*r||1,2*r||1),c=s.data.length;for(i=3;i<c;i+=4)if(o=s.data[i],a=o<=0,!1===a)break;return s=null,a},parsePreserveAspectRatioAttribute:function(t){var e,n="meet",r="Mid",i="Mid",o=t.split(" ");return o&&o.length&&(n=o.pop(),"meet"!==n&&"slice"!==n?(e=n,n="meet"):o.length&&(e=o.pop())),r="none"!==e?e.slice(1,4):"none",i="none"!==e?e.slice(5,8):"none",{meetOrSlice:n,alignX:r,alignY:i}},clearFabricFontCache:function(t){t?fabric.charWidthsCache[t]&&delete fabric.charWidthsCache[t]:fabric.charWidthsCache={}}}}(exports),function(){var t={},e={},n={},r=Array.prototype.join;function i(e,n,i,s,c,l,u){var h=r.call(arguments);if(t[h])return t[h];var f=Math.PI,d=u*f/180,p=Math.sin(d),g=Math.cos(d),m=0,v=0;i=Math.abs(i),s=Math.abs(s);var b=-g*e*.5-p*n*.5,y=-g*n*.5+p*e*.5,w=i*i,_=s*s,x=y*y,S=b*b,C=w*_-w*x-_*S,E=0;if(C<0){var O=Math.sqrt(1-C/(w*_));i*=O,s*=O}else E=(c===l?-1:1)*Math.sqrt(C/(w*x+_*S));var k=E*i*y/s,T=-E*s*b/i,j=g*k-p*T+.5*e,M=p*k+g*T+.5*n,A=a(1,0,(b-k)/i,(y-T)/s),P=a((b-k)/i,(y-T)/s,(-b-k)/i,(-y-T)/s);0===l&&P>0?P-=2*f:1===l&&P<0&&(P+=2*f);for(var I=Math.ceil(Math.abs(P/f*2)),R=[],D=P/I,L=8/3*Math.sin(D/4)*Math.sin(D/4)/Math.sin(D/2),N=A+D,F=0;F<I;F++)R[F]=o(A,N,g,p,i,s,j,M,L,m,v),m=R[F][4],v=R[F][5],A=N,N+=D;return t[h]=R,R}function o(t,n,i,o,a,s,c,l,u,h,f){var d=r.call(arguments);if(e[d])return e[d];var p=Math.cos(t),g=Math.sin(t),m=Math.cos(n),v=Math.sin(n),b=i*a*m-o*s*v+c,y=o*a*m+i*s*v+l,w=h+u*(-i*a*g-o*s*p),_=f+u*(-o*a*g+i*s*p),x=b+u*(i*a*v+o*s*m),S=y+u*(o*a*v-i*s*m);return e[d]=[w,_,x,S,b,y],e[d]}function a(t,e,n,r){var i=Math.atan2(e,t),o=Math.atan2(r,n);return o>=i?o-i:2*Math.PI-(i-o)}function s(t,e,i,o,a,s,c,l){var u=r.call(arguments);if(n[u])return n[u];var h,f,d,p,g,m,v,b,y=Math.sqrt,w=Math.min,_=Math.max,x=Math.abs,S=[],C=[[],[]];f=6*t-12*i+6*a,h=-3*t+9*i-9*a+3*c,d=3*i-3*t;for(var E=0;E<2;++E)if(E>0&&(f=6*e-12*o+6*s,h=-3*e+9*o-9*s+3*l,d=3*o-3*e),x(h)<1e-12){if(x(f)<1e-12)continue;p=-d/f,0<p&&p<1&&S.push(p)}else v=f*f-4*d*h,v<0||(b=y(v),g=(-f+b)/(2*h),0<g&&g<1&&S.push(g),m=(-f-b)/(2*h),0<m&&m<1&&S.push(m));var O,k,T,j=S.length,M=j;while(j--)p=S[j],T=1-p,O=T*T*T*t+3*T*T*p*i+3*T*p*p*a+p*p*p*c,C[0][j]=O,k=T*T*T*e+3*T*T*p*o+3*T*p*p*s+p*p*p*l,C[1][j]=k;C[0][M]=t,C[1][M]=e,C[0][M+1]=c,C[1][M+1]=l;var A=[{x:w.apply(null,C[0]),y:w.apply(null,C[1])},{x:_.apply(null,C[0]),y:_.apply(null,C[1])}];return n[u]=A,A}fabric.util.drawArc=function(t,e,n,r){for(var o=r[0],a=r[1],s=r[2],c=r[3],l=r[4],u=r[5],h=r[6],f=[[],[],[],[]],d=i(u-e,h-n,o,a,c,l,s),p=0,g=d.length;p<g;p++)f[p][0]=d[p][0]+e,f[p][1]=d[p][1]+n,f[p][2]=d[p][2]+e,f[p][3]=d[p][3]+n,f[p][4]=d[p][4]+e,f[p][5]=d[p][5]+n,t.bezierCurveTo.apply(t,f[p])},fabric.util.getBoundsOfArc=function(t,e,n,r,o,a,c,l,u){for(var h,f=0,d=0,p=[],g=i(l-t,u-e,n,r,a,c,o),m=0,v=g.length;m<v;m++)h=s(f,d,g[m][0],g[m][1],g[m][2],g[m][3],g[m][4],g[m][5]),p.push({x:h[0].x+t,y:h[0].y+e}),p.push({x:h[1].x+t,y:h[1].y+e}),f=g[m][4],d=g[m][5];return p},fabric.util.getBoundsOfCurve=s}(),function(){var t=Array.prototype.slice;function e(e,n){for(var r=t.call(arguments,2),i=[],o=0,a=e.length;o<a;o++)i[o]=r.length?e[o][n].apply(e[o],r):e[o][n].call(e[o]);return i}function n(t,e){return o(t,e,(function(t,e){return t>=e}))}function r(t,e){return o(t,e,(function(t,e){return t<e}))}function i(t,e){var n=t.length;while(n--)t[n]=e;return t}function o(t,e,n){if(t&&0!==t.length){var r=t.length-1,i=e?t[r][e]:t[r];if(e)while(r--)n(t[r][e],i)&&(i=t[r][e]);else while(r--)n(t[r],i)&&(i=t[r]);return i}}Array.prototype.indexOf||(Array.prototype.indexOf=function(t){if(void 0===this||null===this)throw new TypeError;var e=Object(this),n=e.length>>>0;if(0===n)return-1;var r=0;if(arguments.length>0&&(r=Number(arguments[1]),r!==r?r=0:0!==r&&r!==Number.POSITIVE_INFINITY&&r!==Number.NEGATIVE_INFINITY&&(r=(r>0||-1)*Math.floor(Math.abs(r)))),r>=n)return-1;for(var i=r>=0?r:Math.max(n-Math.abs(r),0);i<n;i++)if(i in e&&e[i]===t)return i;return-1}),Array.prototype.forEach||(Array.prototype.forEach=function(t,e){for(var n=0,r=this.length>>>0;n<r;n++)n in this&&t.call(e,this[n],n,this)}),Array.prototype.map||(Array.prototype.map=function(t,e){for(var n=[],r=0,i=this.length>>>0;r<i;r++)r in this&&(n[r]=t.call(e,this[r],r,this));return n}),Array.prototype.every||(Array.prototype.every=function(t,e){for(var n=0,r=this.length>>>0;n<r;n++)if(n in this&&!t.call(e,this[n],n,this))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(t,e){for(var n=0,r=this.length>>>0;n<r;n++)if(n in this&&t.call(e,this[n],n,this))return!0;return!1}),Array.prototype.filter||(Array.prototype.filter=function(t,e){for(var n,r=[],i=0,o=this.length>>>0;i<o;i++)i in this&&(n=this[i],t.call(e,n,i,this)&&r.push(n));return r}),Array.prototype.reduce||(Array.prototype.reduce=function(t){var e,n=this.length>>>0,r=0;if(arguments.length>1)e=arguments[1];else do{if(r in this){e=this[r++];break}if(++r>=n)throw new TypeError}while(1);for(;r<n;r++)r in this&&(e=t.call(null,e,this[r],r,this));return e}),fabric.util.array={fill:i,invoke:e,min:r,max:n}}(),function(){function t(e,n,r){if(r)if(!fabric.isLikelyNode&&n instanceof Element)e=n;else if(n instanceof Array){e=[];for(var i=0,o=n.length;i<o;i++)e[i]=t({},n[i],r)}else if(n&&"object"===typeof n)for(var a in n)n.hasOwnProperty(a)&&(e[a]=t({},n[a],r));else e=n;else for(var a in n)e[a]=n[a];return e}function e(e,n){return t({},e,n)}fabric.util.object={extend:t,clone:e}}(),function(){function t(t){return t.replace(/-+(.)?/g,(function(t,e){return e?e.toUpperCase():""}))}function e(t,e){return t.charAt(0).toUpperCase()+(e?t.slice(1):t.slice(1).toLowerCase())}function n(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\xA0]+/,"").replace(/[\s\xA0]+$/,"")}),fabric.util.string={camelize:t,capitalize:e,escapeXml:n}}(),function(){var t=Array.prototype.slice,e=Function.prototype.apply,n=function(){};Function.prototype.bind||(Function.prototype.bind=function(r){var i,o=this,a=t.call(arguments,1);return i=a.length?function(){return e.call(o,this instanceof n?this:r,a.concat(t.call(arguments)))}:function(){return e.call(o,this instanceof n?this:r,arguments)},n.prototype=this.prototype,i.prototype=new n,i})}(),function(){var t=Array.prototype.slice,e=function(){},n=function(){for(var t in{toString:1})if("toString"===t)return!1;return!0}(),r=function(t,e,r){for(var i in e)i in t.prototype&&"function"===typeof t.prototype[i]&&(e[i]+"").indexOf("callSuper")>-1?t.prototype[i]=function(t){return function(){var n=this.constructor.superclass;this.constructor.superclass=r;var i=e[t].apply(this,arguments);if(this.constructor.superclass=n,"initialize"!==t)return i}}(i):t.prototype[i]=e[i],n&&(e.toString!==Object.prototype.toString&&(t.prototype.toString=e.toString),e.valueOf!==Object.prototype.valueOf&&(t.prototype.valueOf=e.valueOf))};function i(){}function o(e){var n=this.constructor.superclass.prototype[e];return arguments.length>1?n.apply(this,t.call(arguments,1)):n.call(this)}function a(){var n=null,a=t.call(arguments,0);function s(){this.initialize.apply(this,arguments)}"function"===typeof a[0]&&(n=a.shift()),s.superclass=n,s.subclasses=[],n&&(i.prototype=n.prototype,s.prototype=new i,n.subclasses.push(s));for(var c=0,l=a.length;c<l;c++)r(s,a[c],n);return s.prototype.initialize||(s.prototype.initialize=e),s.prototype.constructor=s,s.prototype.callSuper=o,s}fabric.util.createClass=a}(),function(){var t="unknown";function e(t){var e,n,r=Array.prototype.slice.call(arguments,1),i=r.length;for(n=0;n<i;n++)if(e=typeof t[r[n]],!/^(?:function|object|unknown)$/.test(e))return!1;return!0}var n,r,i=function(){var t=0;return function(e){return e.__uniqueID||(e.__uniqueID="uniqueID__"+t++)}}();function o(t,e){return{handler:e,wrappedHandler:a(t,e)}}function a(t,e){return function(r){e.call(n(t),r||fabric.window.event)}}function s(t,e){return function(n){if(d[t]&&d[t][e])for(var r=d[t][e],i=0,o=r.length;i<o;i++)r[i].call(this,n||fabric.window.event)}}(function(){var t={};n=function(e){return t[e]},r=function(e,n){t[e]=n}})();var c,l,u=e(fabric.document.documentElement,"addEventListener","removeEventListener")&&e(fabric.window,"addEventListener","removeEventListener"),h=e(fabric.document.documentElement,"attachEvent","detachEvent")&&e(fabric.window,"attachEvent","detachEvent"),f={},d={};function p(e){e||(e=fabric.window.event);var n=e.target||(typeof e.srcElement!==t?e.srcElement:null),r=fabric.util.getScrollLeftTop(n);return{x:g(e)+r.left,y:m(e)+r.top}}u?(c=function(t,e,n){t.addEventListener(e,n,!1)},l=function(t,e,n){t.removeEventListener(e,n,!1)}):h?(c=function(t,e,n){var a=i(t);r(a,t),f[a]||(f[a]={}),f[a][e]||(f[a][e]=[]);var s=o(a,n);f[a][e].push(s),t.attachEvent("on"+e,s.wrappedHandler)},l=function(t,e,n){var r,o=i(t);if(f[o]&&f[o][e])for(var a=0,s=f[o][e].length;a<s;a++)r=f[o][e][a],r&&r.handler===n&&(t.detachEvent("on"+e,r.wrappedHandler),f[o][e][a]=null)}):(c=function(t,e,n){var r=i(t);if(d[r]||(d[r]={}),!d[r][e]){d[r][e]=[];var o=t["on"+e];o&&d[r][e].push(o),t["on"+e]=s(r,e)}d[r][e].push(n)},l=function(t,e,n){var r=i(t);if(d[r]&&d[r][e])for(var o=d[r][e],a=0,s=o.length;a<s;a++)o[a]===n&&o.splice(a,1)}),fabric.util.addListener=c,fabric.util.removeListener=l;var g=function(e){return typeof e.clientX!==t?e.clientX:0},m=function(e){return typeof e.clientY!==t?e.clientY:0};function v(t,e,n){var r="touchend"===t.type?"changedTouches":"touches";return t[r]&&t[r][0]&&t[r][0][e]-(t[r][0][e]-t[r][0][n])||t[n]}fabric.isTouchSupported&&(g=function(t){return v(t,"pageX","clientX")},m=function(t){return v(t,"pageY","clientY")}),fabric.util.getPointer=p,fabric.util.object.extend(fabric.util,fabric.Observable)}(),function(){function t(t,e){var n=t.style;if(!n)return t;if("string"===typeof e)return t.style.cssText+=";"+e,e.indexOf("opacity")>-1?o(t,e.match(/opacity:\s*(\d?\.?\d*)/)[1]):t;for(var r in e)if("opacity"===r)o(t,e[r]);else{var i="float"===r||"cssFloat"===r?"undefined"===typeof n.styleFloat?"cssFloat":"styleFloat":r;n[i]=e[r]}return t}var e=fabric.document.createElement("div"),n="string"===typeof e.style.opacity,r="string"===typeof e.style.filter,i=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,o=function(t){return t};n?o=function(t,e){return t.style.opacity=e,t}:r&&(o=function(t,e){var n=t.style;return t.currentStyle&&!t.currentStyle.hasLayout&&(n.zoom=1),i.test(n.filter)?(e=e>=.9999?"":"alpha(opacity="+100*e+")",n.filter=n.filter.replace(i,e)):n.filter+=" alpha(opacity="+100*e+")",t}),fabric.util.setStyle=t}(),function(){var t=Array.prototype.slice;function e(t){return"string"===typeof t?fabric.document.getElementById(t):t}var n,r,i=function(e){return t.call(e,0)};try{n=i(fabric.document.childNodes)instanceof Array}catch(err){}function o(t,e){var n=fabric.document.createElement(t);for(var r in e)"class"===r?n.className=e[r]:"for"===r?n.htmlFor=e[r]:n.setAttribute(r,e[r]);return n}function a(t,e){t&&-1===(" "+t.className+" ").indexOf(" "+e+" ")&&(t.className+=(t.className?" ":"")+e)}function s(t,e,n){return"string"===typeof e&&(e=o(e,n)),t.parentNode&&t.parentNode.replaceChild(e,t),e.appendChild(t),e}function c(t){var e=0,n=0,r=fabric.document.documentElement,i=fabric.document.body||{scrollLeft:0,scrollTop:0};while(t&&(t.parentNode||t.host))if(t=t.parentNode||t.host,t===fabric.document?(e=i.scrollLeft||r.scrollLeft||0,n=i.scrollTop||r.scrollTop||0):(e+=t.scrollLeft||0,n+=t.scrollTop||0),1===t.nodeType&&"fixed"===fabric.util.getElementStyle(t,"position"))break;return{left:e,top:n}}function l(t){var e,n,i=t&&t.ownerDocument,o={left:0,top:0},a={left:0,top:0},s={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!i)return a;for(var l in s)a[s[l]]+=parseInt(r(t,l),10)||0;return e=i.documentElement,"undefined"!==typeof t.getBoundingClientRect&&(o=t.getBoundingClientRect()),n=c(t),{left:o.left+n.left-(e.clientLeft||0)+a.left,top:o.top+n.top-(e.clientTop||0)+a.top}}n||(i=function(t){var e=new Array(t.length),n=t.length;while(n--)e[n]=t[n];return e}),r=fabric.document.defaultView&&fabric.document.defaultView.getComputedStyle?function(t,e){var n=fabric.document.defaultView.getComputedStyle(t,null);return n?n[e]:void 0}:function(t,e){var n=t.style[e];return!n&&t.currentStyle&&(n=t.currentStyle[e]),n},function(){var t=fabric.document.documentElement.style,e="userSelect"in t?"userSelect":"MozUserSelect"in t?"MozUserSelect":"WebkitUserSelect"in t?"WebkitUserSelect":"KhtmlUserSelect"in t?"KhtmlUserSelect":"";function n(t){return"undefined"!==typeof t.onselectstart&&(t.onselectstart=fabric.util.falseFunction),e?t.style[e]="none":"string"===typeof t.unselectable&&(t.unselectable="on"),t}function r(t){return"undefined"!==typeof t.onselectstart&&(t.onselectstart=null),e?t.style[e]="":"string"===typeof t.unselectable&&(t.unselectable=""),t}fabric.util.makeElementUnselectable=n,fabric.util.makeElementSelectable=r}(),function(){function t(t,e){var n=fabric.document.getElementsByTagName("head")[0],r=fabric.document.createElement("script"),i=!0;r.onload=r.onreadystatechange=function(t){if(i){if("string"===typeof this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState)return;i=!1,e(t||fabric.window.event),r=r.onload=r.onreadystatechange=null}},r.src=t,n.appendChild(r)}fabric.util.getScript=t}(),fabric.util.getById=e,fabric.util.toArray=i,fabric.util.makeElement=o,fabric.util.addClass=a,fabric.util.wrapElement=s,fabric.util.getScrollLeftTop=c,fabric.util.getElementOffset=l,fabric.util.getElementStyle=r}(),function(){function t(t,e){return t+(/\?/.test(t)?"&":"?")+e}var e=function(){for(var t=[function(){return new ActiveXObject("Microsoft.XMLHTTP")},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml2.XMLHTTP.3.0")},function(){return new XMLHttpRequest}],e=t.length;e--;)try{var n=t[e]();if(n)return t[e]}catch(err){}}();function n(){}function r(r,i){i||(i={});var o=i.method?i.method.toUpperCase():"GET",a=i.onComplete||function(){},s=e(),c=i.body||i.parameters;return s.onreadystatechange=function(){4===s.readyState&&(a(s),s.onreadystatechange=n)},"GET"===o&&(c=null,"string"===typeof i.parameters&&(r=t(r,i.parameters))),s.open(o,r,!0),"POST"!==o&&"PUT"!==o||s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.send(c),s}fabric.util.request=r}(),fabric.log=function(){},fabric.warn=function(){},"undefined"!==typeof console&&["log","warn"].forEach((function(t){"undefined"!==typeof console[t]&&"function"===typeof console[t].apply&&(fabric[t]=function(){return console[t].apply(console,arguments)})})),function(){function t(t){n((function(e){t||(t={});var r,i=e||+new Date,o=t.duration||500,a=i+o,s=t.onChange||function(){},c=t.abort||function(){return!1},l=t.easing||function(t,e,n,r){return-n*Math.cos(t/r*(Math.PI/2))+n+e},u="startValue"in t?t.startValue:0,h="endValue"in t?t.endValue:100,f=t.byValue||h-u;t.onStart&&t.onStart(),function e(h){r=h||+new Date;var d=r>a?o:r-i;c()?t.onComplete&&t.onComplete():(s(l(d,u,f,o)),r>a?t.onComplete&&t.onComplete():n(e))}(i)}))}var e=fabric.window.requestAnimationFrame||fabric.window.webkitRequestAnimationFrame||fabric.window.mozRequestAnimationFrame||fabric.window.oRequestAnimationFrame||fabric.window.msRequestAnimationFrame||function(t){fabric.window.setTimeout(t,1e3/60)};function n(){return e.apply(fabric.window,arguments)}fabric.util.animate=t,fabric.util.requestAnimFrame=n}(),function(){function t(t,e,n){var r="rgba("+parseInt(t[0]+n*(e[0]-t[0]),10)+","+parseInt(t[1]+n*(e[1]-t[1]),10)+","+parseInt(t[2]+n*(e[2]-t[2]),10);return r+=","+(t&&e?parseFloat(t[3]+n*(e[3]-t[3])):1),r+=")",r}function e(e,n,r,i){var o=new fabric.Color(e).getSource(),a=new fabric.Color(n).getSource();i=i||{},fabric.util.animate(fabric.util.object.extend(i,{duration:r||500,startValue:o,endValue:a,byValue:a,easing:function(e,n,r,o){var a=i.colorEasing?i.colorEasing(e,o):1-Math.cos(e/o*(Math.PI/2));return t(n,r,a)}}))}fabric.util.animateColor=e}(),function(){function t(t,e,n,r){return t<Math.abs(e)?(t=e,r=n/4):r=0===e&&0===t?n/(2*Math.PI)*Math.asin(1):n/(2*Math.PI)*Math.asin(e/t),{a:t,c:e,p:n,s:r}}function e(t,e,n){return t.a*Math.pow(2,10*(e-=1))*Math.sin((e*n-t.s)*(2*Math.PI)/t.p)}function n(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e}function r(t,e,n,r){return t/=r/2,t<1?n/2*t*t*t+e:n/2*((t-=2)*t*t+2)+e}function i(t,e,n,r){return n*(t/=r)*t*t*t+e}function o(t,e,n,r){return-n*((t=t/r-1)*t*t*t-1)+e}function a(t,e,n,r){return t/=r/2,t<1?n/2*t*t*t*t+e:-n/2*((t-=2)*t*t*t-2)+e}function s(t,e,n,r){return n*(t/=r)*t*t*t*t+e}function c(t,e,n,r){return n*((t=t/r-1)*t*t*t*t+1)+e}function l(t,e,n,r){return t/=r/2,t<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e}function u(t,e,n,r){return-n*Math.cos(t/r*(Math.PI/2))+n+e}function h(t,e,n,r){return n*Math.sin(t/r*(Math.PI/2))+e}function f(t,e,n,r){return-n/2*(Math.cos(Math.PI*t/r)-1)+e}function d(t,e,n,r){return 0===t?e:n*Math.pow(2,10*(t/r-1))+e}function p(t,e,n,r){return t===r?e+n:n*(1-Math.pow(2,-10*t/r))+e}function g(t,e,n,r){return 0===t?e:t===r?e+n:(t/=r/2,t<1?n/2*Math.pow(2,10*(t-1))+e:n/2*(2-Math.pow(2,-10*--t))+e)}function m(t,e,n,r){return-n*(Math.sqrt(1-(t/=r)*t)-1)+e}function v(t,e,n,r){return n*Math.sqrt(1-(t=t/r-1)*t)+e}function b(t,e,n,r){return t/=r/2,t<1?-n/2*(Math.sqrt(1-t*t)-1)+e:n/2*(Math.sqrt(1-(t-=2)*t)+1)+e}function y(n,r,i,o){var a=1.70158,s=0,c=i;if(0===n)return r;if(n/=o,1===n)return r+i;s||(s=.3*o);var l=t(c,i,s,a);return-e(l,n,o)+r}function w(e,n,r,i){var o=1.70158,a=0,s=r;if(0===e)return n;if(e/=i,1===e)return n+r;a||(a=.3*i);var c=t(s,r,a,o);return c.a*Math.pow(2,-10*e)*Math.sin((e*i-c.s)*(2*Math.PI)/c.p)+c.c+n}function _(n,r,i,o){var a=1.70158,s=0,c=i;if(0===n)return r;if(n/=o/2,2===n)return r+i;s||(s=o*(.3*1.5));var l=t(c,i,s,a);return n<1?-.5*e(l,n,o)+r:l.a*Math.pow(2,-10*(n-=1))*Math.sin((n*o-l.s)*(2*Math.PI)/l.p)*.5+l.c+r}function x(t,e,n,r,i){return void 0===i&&(i=1.70158),n*(t/=r)*t*((i+1)*t-i)+e}function S(t,e,n,r,i){return void 0===i&&(i=1.70158),n*((t=t/r-1)*t*((i+1)*t+i)+1)+e}function C(t,e,n,r,i){return void 0===i&&(i=1.70158),t/=r/2,t<1?n/2*(t*t*((1+(i*=1.525))*t-i))+e:n/2*((t-=2)*t*((1+(i*=1.525))*t+i)+2)+e}function E(t,e,n,r){return n-O(r-t,0,n,r)+e}function O(t,e,n,r){return(t/=r)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e}function k(t,e,n,r){return t<r/2?.5*E(2*t,0,n,r)+e:.5*O(2*t-r,0,n,r)+.5*n+e}fabric.util.ease={easeInQuad:function(t,e,n,r){return n*(t/=r)*t+e},easeOutQuad:function(t,e,n,r){return-n*(t/=r)*(t-2)+e},easeInOutQuad:function(t,e,n,r){return t/=r/2,t<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},easeInCubic:function(t,e,n,r){return n*(t/=r)*t*t+e},easeOutCubic:n,easeInOutCubic:r,easeInQuart:i,easeOutQuart:o,easeInOutQuart:a,easeInQuint:s,easeOutQuint:c,easeInOutQuint:l,easeInSine:u,easeOutSine:h,easeInOutSine:f,easeInExpo:d,easeOutExpo:p,easeInOutExpo:g,easeInCirc:m,easeOutCirc:v,easeInOutCirc:b,easeInElastic:y,easeOutElastic:w,easeInOutElastic:_,easeInBack:x,easeOutBack:S,easeInOutBack:C,easeInBounce:E,easeOutBounce:O,easeInOutBounce:k}}(),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend,r=e.util.object.clone,i=e.util.toFixed,o=e.util.parseUnit,a=e.util.multiplyTransformMatrices,s=/^(path|circle|polygon|polyline|ellipse|rect|line|image|text)$/i,c=/^(symbol|image|marker|pattern|view|svg)$/i,l=/^(?:pattern|defs|symbol|metadata|clipPath|mask)$/i,u=/^(symbol|g|a|svg)$/i,h={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","stroke-dasharray":"strokeDashArray","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"originX"},f={stroke:"strokeOpacity",fill:"fillOpacity"};function d(t){return t in h?h[t]:t}function p(t,n,r,i){var s,c="[object Array]"===Object.prototype.toString.call(n);return"fill"!==t&&"stroke"!==t||"none"!==n?"strokeDashArray"===t?n="none"===n?null:n.replace(/,/g," ").split(/\s+/).map((function(t){return parseFloat(t)})):"transformMatrix"===t?n=r&&r.transformMatrix?a(r.transformMatrix,e.parseTransformAttribute(n)):e.parseTransformAttribute(n):"visible"===t?(n="none"!==n&&"hidden"!==n,r&&!1===r.visible&&(n=!1)):"originX"===t?n="start"===n?"left":"end"===n?"right":"center":s=c?n.map(o):o(n,i):n="",!c&&isNaN(s)?n:s}function g(t){for(var n in f)if("undefined"!==typeof t[f[n]]&&""!==t[n]){if("undefined"===typeof t[n]){if(!e.Object.prototype[n])continue;t[n]=e.Object.prototype[n]}if(0!==t[n].indexOf("url(")){var r=new e.Color(t[n]);t[n]=r.setAlpha(i(r.getAlpha()*t[f[n]],2)).toRgba()}}return t}function m(t,e){for(var n,r,i=[],o=0;o<e.length;o++)n=e[o],r=t.getElementsByTagName(n),i=i.concat(Array.prototype.slice.call(r));return i}function v(t,e){var n,r;t.replace(/;\s*$/,"").split(";").forEach((function(t){var i=t.split(":");n=d(i[0].trim().toLowerCase()),r=p(n,i[1].trim()),e[n]=r}))}function b(t,e){var n,r;for(var i in t)"undefined"!==typeof t[i]&&(n=d(i.toLowerCase()),r=p(n,t[i]),e[n]=r)}function y(t,n){var r={};for(var i in e.cssRules[n])if(w(t,i.split(" ")))for(var o in e.cssRules[n][i])r[o]=e.cssRules[n][i][o];return r}function w(t,e){var n,r=!0;return n=x(t,e.pop()),n&&e.length&&(r=_(t,e)),n&&r&&0===e.length}function _(t,e){var n,r=!0;while(t.parentNode&&1===t.parentNode.nodeType&&e.length)r&&(n=e.pop()),t=t.parentNode,r=x(t,n);return 0===e.length}function x(t,e){var n,r=t.nodeName,i=t.getAttribute("class"),o=t.getAttribute("id");if(n=new RegExp("^"+r,"i"),e=e.replace(n,""),o&&e.length&&(n=new RegExp("#"+o+"(?![a-zA-Z\\-]+)","i"),e=e.replace(n,"")),i&&e.length){i=i.split(" ");for(var a=i.length;a--;)n=new RegExp("\\."+i[a]+"(?![a-zA-Z\\-]+)","i"),e=e.replace(n,"")}return 0===e.length}function S(t,e){var n;if(t.getElementById&&(n=t.getElementById(e)),n)return n;var r,i,o=t.getElementsByTagName("*");for(i=0;i<o.length;i++)if(r=o[i],e===r.getAttribute("id"))return r}function C(t){var e=m(t,["use","svg:use"]),n=0;while(e.length&&n<e.length){var r,i,o,a,s,c=e[n],l=c.getAttribute("xlink:href").substr(1),u=c.getAttribute("x")||0,h=c.getAttribute("y")||0,f=S(t,l).cloneNode(!0),d=(f.getAttribute("transform")||"")+" translate("+u+", "+h+")",p=e.length;if(O(f),/^svg$/i.test(f.nodeName)){var g=f.ownerDocument.createElement("g");for(o=0,a=f.attributes,s=a.length;o<s;o++)i=a.item(o),g.setAttribute(i.nodeName,i.nodeValue);while(f.firstChild)g.appendChild(f.firstChild);f=g}for(o=0,a=c.attributes,s=a.length;o<s;o++)i=a.item(o),"x"!==i.nodeName&&"y"!==i.nodeName&&"xlink:href"!==i.nodeName&&("transform"===i.nodeName?d=i.nodeValue+" "+d:f.setAttribute(i.nodeName,i.nodeValue));f.setAttribute("transform",d),f.setAttribute("instantiated_by_use","1"),f.removeAttribute("id"),r=c.parentNode,r.replaceChild(f,c),e.length===p&&n++}}e.cssRules={},e.gradientDefs={},e.parseTransformAttribute=function(){function t(t,e){var n=Math.cos(e[0]),r=Math.sin(e[0]),i=0,o=0;3===e.length&&(i=e[1],o=e[2]),t[0]=n,t[1]=r,t[2]=-r,t[3]=n,t[4]=i-(n*i-r*o),t[5]=o-(r*i+n*o)}function n(t,e){var n=e[0],r=2===e.length?e[1]:e[0];t[0]=n,t[3]=r}function r(t,n,r){t[r]=Math.tan(e.util.degreesToRadians(n[0]))}function i(t,e){t[4]=e[0],2===e.length&&(t[5]=e[1])}var o=[1,0,0,1,0,0],a=e.reNum,s="(?:\\s+,?\\s*|,\\s*)",c="(?:(skewX)\\s*\\(\\s*("+a+")\\s*\\))",l="(?:(skewY)\\s*\\(\\s*("+a+")\\s*\\))",u="(?:(rotate)\\s*\\(\\s*("+a+")(?:"+s+"("+a+")"+s+"("+a+"))?\\s*\\))",h="(?:(scale)\\s*\\(\\s*("+a+")(?:"+s+"("+a+"))?\\s*\\))",f="(?:(translate)\\s*\\(\\s*("+a+")(?:"+s+"("+a+"))?\\s*\\))",d="(?:(matrix)\\s*\\(\\s*("+a+")"+s+"("+a+")"+s+"("+a+")"+s+"("+a+")"+s+"("+a+")"+s+"("+a+")\\s*\\))",p="(?:"+d+"|"+f+"|"+h+"|"+u+"|"+c+"|"+l+")",g="(?:"+p+"(?:"+s+"*"+p+")*)",m="^\\s*(?:"+g+"?)\\s*$",v=new RegExp(m),b=new RegExp(p,"g");return function(a){var s=o.concat(),c=[];if(!a||a&&!v.test(a))return s;a.replace(b,(function(a){var l=new RegExp(p).exec(a).filter((function(t){return!!t})),u=l[1],h=l.slice(2).map(parseFloat);switch(u){case"translate":i(s,h);break;case"rotate":h[0]=e.util.degreesToRadians(h[0]),t(s,h);break;case"scale":n(s,h);break;case"skewX":r(s,h,2);break;case"skewY":r(s,h,1);break;case"matrix":s=h;break}c.push(s.concat()),s=o.concat()}));var l=c[0];while(c.length>1)c.shift(),l=e.util.multiplyTransformMatrices(l,c[0]);return l}}();var E=new RegExp("^\\s*("+e.reNum+"+)\\s*,?\\s*("+e.reNum+"+)\\s*,?\\s*("+e.reNum+"+)\\s*,?\\s*("+e.reNum+"+)\\s*$");function O(t){var n,r,i,a,s=t.getAttribute("viewBox"),l=1,u=1,h=0,f=0,d=t.getAttribute("width"),p=t.getAttribute("height"),g=t.getAttribute("x")||0,m=t.getAttribute("y")||0,v=t.getAttribute("preserveAspectRatio")||"",b=!s||!c.test(t.nodeName)||!(s=s.match(E)),y=!d||!p||"100%"===d||"100%"===p,w=b&&y,_={},x="";if(_.width=0,_.height=0,_.toBeParsed=w,w)return _;if(b)return _.width=o(d),_.height=o(p),_;if(h=-parseFloat(s[1]),f=-parseFloat(s[2]),n=parseFloat(s[3]),r=parseFloat(s[4]),y?(_.width=n,_.height=r):(_.width=o(d),_.height=o(p),l=_.width/n,u=_.height/r),v=e.util.parsePreserveAspectRatioAttribute(v),"none"!==v.alignX&&(u=l=l>u?u:l),1===l&&1===u&&0===h&&0===f&&0===g&&0===m)return _;if((g||m)&&(x=" translate("+o(g)+" "+o(m)+") "),i=x+" matrix("+l+" 0 0 "+u+" "+h*l+" "+f*u+") ","svg"===t.nodeName){a=t.ownerDocument.createElement("g");while(t.firstChild)a.appendChild(t.firstChild);t.appendChild(a)}else a=t,i=a.getAttribute("transform")+i;return a.setAttribute("transform",i),_}function k(t,e){while(t&&(t=t.parentNode))if(t.nodeName&&e.test(t.nodeName.replace("svg:",""))&&!t.getAttribute("instantiated_by_use"))return!0;return!1}e.parseSVGDocument=function(t,n,i){if(t){C(t);var o=e.Object.__uid++,a=O(t),c=e.util.toArray(t.getElementsByTagName("*"));if(a.svgUid=o,0===c.length&&e.isLikelyNode){c=t.selectNodes('//*[name(.)!="svg"]');for(var u=[],h=0,f=c.length;h<f;h++)u[h]=c[h];c=u}var d=c.filter((function(t){return O(t),s.test(t.nodeName.replace("svg:",""))&&!k(t,l)}));!d||d&&!d.length?n&&n([],{}):(e.gradientDefs[o]=e.getGradientDefs(t),e.cssRules[o]=e.getCSSRules(t),e.parseElements(d,(function(t){n&&n(t,a)}),r(a),i))}};var T=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+e.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+e.reNum+"))?\\s+(.*)");n(e,{parseFontDeclaration:function(t,e){var n=t.match(T);if(n){var r=n[1],i=n[3],a=n[4],s=n[5],c=n[6];r&&(e.fontStyle=r),i&&(e.fontWeight=isNaN(parseFloat(i))?i:parseFloat(i)),a&&(e.fontSize=o(a)),c&&(e.fontFamily=c),s&&(e.lineHeight="normal"===s?1:s)}},getGradientDefs:function(t){var e,n,r,i=["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"],o=m(t,i),a=0,s={},c={};a=o.length;while(a--)e=o[a],r=e.getAttribute("xlink:href"),n=e.getAttribute("id"),r&&(c[n]=r.substr(1)),s[n]=e;for(n in c){var l=s[c[n]].cloneNode(!0);e=s[n];while(l.firstChild)e.appendChild(l.firstChild)}return s},parseAttributes:function(t,r,i){if(t){var o,a,s={};"undefined"===typeof i&&(i=t.getAttribute("svgUid")),t.parentNode&&u.test(t.parentNode.nodeName)&&(s=e.parseAttributes(t.parentNode,r,i)),a=s&&s.fontSize||t.getAttribute("font-size")||e.Text.DEFAULT_SVG_FONT_SIZE;var c=r.reduce((function(e,n){return o=t.getAttribute(n),o&&(n=d(n),o=p(n,o,s,a),e[n]=o),e}),{});return c=n(c,n(y(t,i),e.parseStyleAttribute(t))),c.font&&e.parseFontDeclaration(c.font,c),g(n(s,c))}},parseElements:function(t,n,r,i){new e.ElementsParser(t,n,r,i).parse()},parseStyleAttribute:function(t){var e={},n=t.getAttribute("style");return n?("string"===typeof n?v(n,e):b(n,e),e):e},parsePointsAttribute:function(t){if(!t)return null;t=t.replace(/,/g," ").trim(),t=t.split(/\s+/);var e,n,r=[];for(e=0,n=t.length;e<n;e+=2)r.push({x:parseFloat(t[e]),y:parseFloat(t[e+1])});return r},getCSSRules:function(t){for(var n,r=t.getElementsByTagName("style"),i={},o=0,a=r.length;o<a;o++){var s=r[o].textContent||r[o].text;s=s.replace(/\/\*[\s\S]*?\*\//g,""),""!==s.trim()&&(n=s.match(/[^{]*\{[\s\S]*?\}/g),n=n.map((function(t){return t.trim()})),n.forEach((function(t){for(var n=t.match(/([\s\S]*?)\s*\{([^}]*)\}/),r={},o=n[2].trim(),a=o.replace(/;$/,"").split(/\s*;\s*/),s=0,c=a.length;s<c;s++){var l=a[s].split(/\s*:\s*/),u=d(l[0]),h=p(u,l[1],l[0]);r[u]=h}t=n[1],t.split(",").forEach((function(t){t=t.replace(/^svg/i,"").trim(),""!==t&&(i[t]?e.util.object.extend(i[t],r):i[t]=e.util.object.clone(r))}))})))}return i},loadSVGFromURL:function(t,n,r){function i(t){var i=t.responseXML;i&&!i.documentElement&&e.window.ActiveXObject&&t.responseText&&(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(t.responseText.replace(/<!DOCTYPE[\s\S]*?(\[[\s\S]*\])*?>/i,""))),i&&i.documentElement||n&&n(null),e.parseSVGDocument(i.documentElement,(function(t,e){n&&n(t,e)}),r)}t=t.replace(/^\n\s*/,"").trim(),new e.util.request(t,{method:"get",onComplete:i})},loadSVGFromString:function(t,n,r){var i;if(t=t.trim(),"undefined"!==typeof DOMParser){var o=new DOMParser;o&&o.parseFromString&&(i=o.parseFromString(t,"text/xml"))}else e.window.ActiveXObject&&(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(t.replace(/<!DOCTYPE[\s\S]*?(\[[\s\S]*\])*?>/i,"")));e.parseSVGDocument(i.documentElement,(function(t,e){n(t,e)}),r)}})}(exports),fabric.ElementsParser=function(t,e,n,r){this.elements=t,this.callback=e,this.options=n,this.reviver=r,this.svgUid=n&&n.svgUid||0},fabric.ElementsParser.prototype.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},fabric.ElementsParser.prototype.createObjects=function(){for(var t=0,e=this.elements.length;t<e;t++)this.elements[t].setAttribute("svgUid",this.svgUid),function(t,e){setTimeout((function(){t.createObject(t.elements[e],e)}),0)}(this,t)},fabric.ElementsParser.prototype.createObject=function(t,e){var n=fabric[fabric.util.string.capitalize(t.tagName.replace("svg:",""))];if(n&&n.fromElement)try{this._createObject(n,t,e)}catch(err){fabric.log(err)}else this.checkIfDone()},fabric.ElementsParser.prototype._createObject=function(t,e,n){if(t.async)t.fromElement(e,this.createCallback(n,e),this.options);else{var r=t.fromElement(e,this.options);this.resolveGradient(r,"fill"),this.resolveGradient(r,"stroke"),this.reviver&&this.reviver(e,r),this.instances[n]=r,this.checkIfDone()}},fabric.ElementsParser.prototype.createCallback=function(t,e){var n=this;return function(r){n.resolveGradient(r,"fill"),n.resolveGradient(r,"stroke"),n.reviver&&n.reviver(e,r),n.instances[t]=r,n.checkIfDone()}},fabric.ElementsParser.prototype.resolveGradient=function(t,e){var n=t.get(e);if(/^url\(/.test(n)){var r=n.slice(5,n.length-1);fabric.gradientDefs[this.svgUid][r]&&t.set(e,fabric.Gradient.fromElement(fabric.gradientDefs[this.svgUid][r],t))}},fabric.ElementsParser.prototype.checkIfDone=function(){0===--this.numElements&&(this.instances=this.instances.filter((function(t){return null!=t})),this.callback(this.instances))},function(t){"use strict";var e=t.fabric||(t.fabric={});function n(t,e){this.x=t,this.y=e}e.Point?e.warn("fabric.Point is already defined"):(e.Point=n,n.prototype={type:"point",constructor:n,add:function(t){return new n(this.x+t.x,this.y+t.y)},addEquals:function(t){return this.x+=t.x,this.y+=t.y,this},scalarAdd:function(t){return new n(this.x+t,this.y+t)},scalarAddEquals:function(t){return this.x+=t,this.y+=t,this},subtract:function(t){return new n(this.x-t.x,this.y-t.y)},subtractEquals:function(t){return this.x-=t.x,this.y-=t.y,this},scalarSubtract:function(t){return new n(this.x-t,this.y-t)},scalarSubtractEquals:function(t){return this.x-=t,this.y-=t,this},multiply:function(t){return new n(this.x*t,this.y*t)},multiplyEquals:function(t){return this.x*=t,this.y*=t,this},divide:function(t){return new n(this.x/t,this.y/t)},divideEquals:function(t){return this.x/=t,this.y/=t,this},eq:function(t){return this.x===t.x&&this.y===t.y},lt:function(t){return this.x<t.x&&this.y<t.y},lte:function(t){return this.x<=t.x&&this.y<=t.y},gt:function(t){return this.x>t.x&&this.y>t.y},gte:function(t){return this.x>=t.x&&this.y>=t.y},lerp:function(t,e){return"undefined"===typeof e&&(e=.5),e=Math.max(Math.min(1,e),0),new n(this.x+(t.x-this.x)*e,this.y+(t.y-this.y)*e)},distanceFrom:function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},midPointFrom:function(t){return this.lerp(t)},min:function(t){return new n(Math.min(this.x,t.x),Math.min(this.y,t.y))},max:function(t){return new n(Math.max(this.x,t.x),Math.max(this.y,t.y))},toString:function(){return this.x+","+this.y},setXY:function(t,e){return this.x=t,this.y=e,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setFromPoint:function(t){return this.x=t.x,this.y=t.y,this},swap:function(t){var e=this.x,n=this.y;this.x=t.x,this.y=t.y,t.x=e,t.y=n},clone:function(){return new n(this.x,this.y)}})}(exports),function(t){"use strict";var e=t.fabric||(t.fabric={});function n(t){this.status=t,this.points=[]}e.Intersection?e.warn("fabric.Intersection is already defined"):(e.Intersection=n,e.Intersection.prototype={constructor:n,appendPoint:function(t){return this.points.push(t),this},appendPoints:function(t){return this.points=this.points.concat(t),this}},e.Intersection.intersectLineLine=function(t,r,i,o){var a,s=(o.x-i.x)*(t.y-i.y)-(o.y-i.y)*(t.x-i.x),c=(r.x-t.x)*(t.y-i.y)-(r.y-t.y)*(t.x-i.x),l=(o.y-i.y)*(r.x-t.x)-(o.x-i.x)*(r.y-t.y);if(0!==l){var u=s/l,h=c/l;0<=u&&u<=1&&0<=h&&h<=1?(a=new n("Intersection"),a.appendPoint(new e.Point(t.x+u*(r.x-t.x),t.y+u*(r.y-t.y)))):a=new n}else a=new n(0===s||0===c?"Coincident":"Parallel");return a},e.Intersection.intersectLinePolygon=function(t,e,r){for(var i,o,a,s=new n,c=r.length,l=0;l<c;l++)i=r[l],o=r[(l+1)%c],a=n.intersectLineLine(t,e,i,o),s.appendPoints(a.points);return s.points.length>0&&(s.status="Intersection"),s},e.Intersection.intersectPolygonPolygon=function(t,e){for(var r=new n,i=t.length,o=0;o<i;o++){var a=t[o],s=t[(o+1)%i],c=n.intersectLinePolygon(a,s,e);r.appendPoints(c.points)}return r.points.length>0&&(r.status="Intersection"),r},e.Intersection.intersectPolygonRectangle=function(t,r,i){var o=r.min(i),a=r.max(i),s=new e.Point(a.x,o.y),c=new e.Point(o.x,a.y),l=n.intersectLinePolygon(o,s,t),u=n.intersectLinePolygon(s,a,t),h=n.intersectLinePolygon(a,c,t),f=n.intersectLinePolygon(c,o,t),d=new n;return d.appendPoints(l.points),d.appendPoints(u.points),d.appendPoints(h.points),d.appendPoints(f.points),d.points.length>0&&(d.status="Intersection"),d})}(exports),function(t){"use strict";var e=t.fabric||(t.fabric={});function n(t){t?this._tryParsingColor(t):this.setSource([0,0,0,1])}function r(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}e.Color?e.warn("fabric.Color is already defined."):(e.Color=n,e.Color.prototype={_tryParsingColor:function(t){var e;t in n.colorNameMap&&(t=n.colorNameMap[t]),"transparent"===t&&(e=[255,255,255,0]),e||(e=n.sourceFromHex(t)),e||(e=n.sourceFromRgb(t)),e||(e=n.sourceFromHsl(t)),e||(e=[0,0,0,1]),e&&this.setSource(e)},_rgbToHsl:function(t,n,r){t/=255,n/=255,r/=255;var i,o,a,s=e.util.array.max([t,n,r]),c=e.util.array.min([t,n,r]);if(a=(s+c)/2,s===c)i=o=0;else{var l=s-c;switch(o=a>.5?l/(2-s-c):l/(s+c),s){case t:i=(n-r)/l+(n<r?6:0);break;case n:i=(r-t)/l+2;break;case r:i=(t-n)/l+4;break}i/=6}return[Math.round(360*i),Math.round(100*o),Math.round(100*a)]},getSource:function(){return this._source},setSource:function(t){this._source=t},toRgb:function(){var t=this.getSource();return"rgb("+t[0]+","+t[1]+","+t[2]+")"},toRgba:function(){var t=this.getSource();return"rgba("+t[0]+","+t[1]+","+t[2]+","+t[3]+")"},toHsl:function(){var t=this.getSource(),e=this._rgbToHsl(t[0],t[1],t[2]);return"hsl("+e[0]+","+e[1]+"%,"+e[2]+"%)"},toHsla:function(){var t=this.getSource(),e=this._rgbToHsl(t[0],t[1],t[2]);return"hsla("+e[0]+","+e[1]+"%,"+e[2]+"%,"+t[3]+")"},toHex:function(){var t,e,n,r=this.getSource();return t=r[0].toString(16),t=1===t.length?"0"+t:t,e=r[1].toString(16),e=1===e.length?"0"+e:e,n=r[2].toString(16),n=1===n.length?"0"+n:n,t.toUpperCase()+e.toUpperCase()+n.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(t){var e=this.getSource();return e[3]=t,this.setSource(e),this},toGrayscale:function(){var t=this.getSource(),e=parseInt((.3*t[0]+.59*t[1]+.11*t[2]).toFixed(0),10),n=t[3];return this.setSource([e,e,e,n]),this},toBlackWhite:function(t){var e=this.getSource(),n=(.3*e[0]+.59*e[1]+.11*e[2]).toFixed(0),r=e[3];return t=t||127,n=Number(n)<Number(t)?0:255,this.setSource([n,n,n,r]),this},overlayWith:function(t){t instanceof n||(t=new n(t));for(var e=[],r=this.getAlpha(),i=.5,o=this.getSource(),a=t.getSource(),s=0;s<3;s++)e.push(Math.round(o[s]*(1-i)+a[s]*i));return e[3]=r,this.setSource(e),this}},e.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/,e.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/,e.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,e.Color.colorNameMap={aqua:"#00FFFF",black:"#000000",blue:"#0000FF",fuchsia:"#FF00FF",gray:"#808080",grey:"#808080",green:"#008000",lime:"#00FF00",maroon:"#800000",navy:"#000080",olive:"#808000",orange:"#FFA500",purple:"#800080",red:"#FF0000",silver:"#C0C0C0",teal:"#008080",white:"#FFFFFF",yellow:"#FFFF00"},e.Color.fromRgb=function(t){return n.fromSource(n.sourceFromRgb(t))},e.Color.sourceFromRgb=function(t){var e=t.match(n.reRGBa);if(e){var r=parseInt(e[1],10)/(/%$/.test(e[1])?100:1)*(/%$/.test(e[1])?255:1),i=parseInt(e[2],10)/(/%$/.test(e[2])?100:1)*(/%$/.test(e[2])?255:1),o=parseInt(e[3],10)/(/%$/.test(e[3])?100:1)*(/%$/.test(e[3])?255:1);return[parseInt(r,10),parseInt(i,10),parseInt(o,10),e[4]?parseFloat(e[4]):1]}},e.Color.fromRgba=n.fromRgb,e.Color.fromHsl=function(t){return n.fromSource(n.sourceFromHsl(t))},e.Color.sourceFromHsl=function(t){var e=t.match(n.reHSLa);if(e){var i,o,a,s=(parseFloat(e[1])%360+360)%360/360,c=parseFloat(e[2])/(/%$/.test(e[2])?100:1),l=parseFloat(e[3])/(/%$/.test(e[3])?100:1);if(0===c)i=o=a=l;else{var u=l<=.5?l*(c+1):l+c-l*c,h=2*l-u;i=r(h,u,s+1/3),o=r(h,u,s),a=r(h,u,s-1/3)}return[Math.round(255*i),Math.round(255*o),Math.round(255*a),e[4]?parseFloat(e[4]):1]}},e.Color.fromHsla=n.fromHsl,e.Color.fromHex=function(t){return n.fromSource(n.sourceFromHex(t))},e.Color.sourceFromHex=function(t){if(t.match(n.reHex)){var e=t.slice(t.indexOf("#")+1),r=3===e.length||4===e.length,i=8===e.length||4===e.length,o=r?e.charAt(0)+e.charAt(0):e.substring(0,2),a=r?e.charAt(1)+e.charAt(1):e.substring(2,4),s=r?e.charAt(2)+e.charAt(2):e.substring(4,6),c=i?r?e.charAt(3)+e.charAt(3):e.substring(6,8):"FF";return[parseInt(o,16),parseInt(a,16),parseInt(s,16),parseFloat((parseInt(c,16)/255).toFixed(2))]}},e.Color.fromSource=function(t){var e=new n;return e.setSource(t),e})}(exports),function(){function t(t){var e,n,r,i=t.getAttribute("style"),o=t.getAttribute("offset")||0;if(o=parseFloat(o)/(/%$/.test(o)?100:1),o=o<0?0:o>1?1:o,i){var a=i.split(/\s*;\s*/);""===a[a.length-1]&&a.pop();for(var s=a.length;s--;){var c=a[s].split(/\s*:\s*/),l=c[0].trim(),u=c[1].trim();"stop-color"===l?e=u:"stop-opacity"===l&&(r=u)}}return e||(e=t.getAttribute("stop-color")||"rgb(0,0,0)"),r||(r=t.getAttribute("stop-opacity")),e=new fabric.Color(e),n=e.getAlpha(),r=isNaN(parseFloat(r))?1:parseFloat(r),r*=n,{offset:o,color:e.toRgb(),opacity:r}}function e(t){return{x1:t.getAttribute("x1")||0,y1:t.getAttribute("y1")||0,x2:t.getAttribute("x2")||"100%",y2:t.getAttribute("y2")||0}}function n(t){return{x1:t.getAttribute("fx")||t.getAttribute("cx")||"50%",y1:t.getAttribute("fy")||t.getAttribute("cy")||"50%",r1:0,x2:t.getAttribute("cx")||"50%",y2:t.getAttribute("cy")||"50%",r2:t.getAttribute("r")||"50%"}}function r(t,e,n){var r,i=0,o=1,a="";for(var s in e)"Infinity"===e[s]?e[s]=1:"-Infinity"===e[s]&&(e[s]=0),r=parseFloat(e[s],10),o="string"===typeof e[s]&&/^\d+%$/.test(e[s])?.01:1,"x1"===s||"x2"===s||"r2"===s?(o*="objectBoundingBox"===n?t.width:1,i="objectBoundingBox"===n&&t.left||0):"y1"!==s&&"y2"!==s||(o*="objectBoundingBox"===n?t.height:1,i="objectBoundingBox"===n&&t.top||0),e[s]=r*o+i;if("ellipse"===t.type&&null!==e.r2&&"objectBoundingBox"===n&&t.rx!==t.ry){var c=t.ry/t.rx;a=" scale(1, "+c+")",e.y1&&(e.y1/=c),e.y2&&(e.y2/=c)}return a}fabric.Gradient=fabric.util.createClass({offsetX:0,offsetY:0,initialize:function(t){t||(t={});var e={};this.id=fabric.Object.__uid++,this.type=t.type||"linear",e={x1:t.coords.x1||0,y1:t.coords.y1||0,x2:t.coords.x2||0,y2:t.coords.y2||0},"radial"===this.type&&(e.r1=t.coords.r1||0,e.r2=t.coords.r2||0),this.coords=e,this.colorStops=t.colorStops.slice(),t.gradientTransform&&(this.gradientTransform=t.gradientTransform),this.offsetX=t.offsetX||this.offsetX,this.offsetY=t.offsetY||this.offsetY},addColorStop:function(t){for(var e in t){var n=new fabric.Color(t[e]);this.colorStops.push({offset:e,color:n.toRgb(),opacity:n.getAlpha()})}return this},toObject:function(t){var e={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return fabric.util.populateWithProperties(this,e,t),e},toSVG:function(t){var e,n,r=fabric.util.object.clone(this.coords);if(this.colorStops.sort((function(t,e){return t.offset-e.offset})),!t.group||"path-group"!==t.group.type)for(var i in r)"x1"===i||"x2"===i||"r2"===i?r[i]+=this.offsetX-t.width/2:"y1"!==i&&"y2"!==i||(r[i]+=this.offsetY-t.height/2);n='id="SVGID_'+this.id+'" gradientUnits="userSpaceOnUse"',this.gradientTransform&&(n+=' gradientTransform="matrix('+this.gradientTransform.join(" ")+')" '),"linear"===this.type?e=["<linearGradient ",n,' x1="',r.x1,'" y1="',r.y1,'" x2="',r.x2,'" y2="',r.y2,'">\n']:"radial"===this.type&&(e=["<radialGradient ",n,' cx="',r.x2,'" cy="',r.y2,'" r="',r.r2,'" fx="',r.x1,'" fy="',r.y1,'">\n']);for(var o=0;o<this.colorStops.length;o++)e.push("<stop ",'offset="',100*this.colorStops[o].offset+"%",'" style="stop-color:',this.colorStops[o].color,null!==this.colorStops[o].opacity?";stop-opacity: "+this.colorStops[o].opacity:";",'"/>\n');return e.push("linear"===this.type?"</linearGradient>\n":"</radialGradient>\n"),e.join("")},toLive:function(t,e){var n,r,i=fabric.util.object.clone(this.coords);if(this.type){if(e.group&&"path-group"===e.group.type)for(r in i)"x1"===r||"x2"===r?i[r]+=-this.offsetX+e.width/2:"y1"!==r&&"y2"!==r||(i[r]+=-this.offsetY+e.height/2);"linear"===this.type?n=t.createLinearGradient(i.x1,i.y1,i.x2,i.y2):"radial"===this.type&&(n=t.createRadialGradient(i.x1,i.y1,i.r1,i.x2,i.y2,i.r2));for(var o=0,a=this.colorStops.length;o<a;o++){var s=this.colorStops[o].color,c=this.colorStops[o].opacity,l=this.colorStops[o].offset;"undefined"!==typeof c&&(s=new fabric.Color(s).setAlpha(c).toRgba()),n.addColorStop(parseFloat(l),s)}return n}}}),fabric.util.object.extend(fabric.Gradient,{fromElement:function(i,o){var a,s,c,l=i.getElementsByTagName("stop"),u=i.getAttribute("gradientUnits")||"objectBoundingBox",h=i.getAttribute("gradientTransform"),f=[];a="linearGradient"===i.nodeName||"LINEARGRADIENT"===i.nodeName?"linear":"radial","linear"===a?s=e(i):"radial"===a&&(s=n(i));for(var d=l.length;d--;)f.push(t(l[d]));c=r(o,s,u);var p=new fabric.Gradient({type:a,coords:s,colorStops:f,offsetX:-o.left,offsetY:-o.top});return(h||""!==c)&&(p.gradientTransform=fabric.parseTransformAttribute((h||"")+c)),p},forObject:function(t,e){return e||(e={}),r(t,e.coords,"userSpaceOnUse"),new fabric.Gradient(e)}})}(),function(){"use strict";var t=fabric.util.toFixed;fabric.Pattern=fabric.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,initialize:function(t,e){if(t||(t={}),this.id=fabric.Object.__uid++,this.setOptions(t),!t.source||t.source&&"string"!==typeof t.source)e&&e(this);else if("undefined"!==typeof fabric.util.getFunctionBody(t.source))this.source=new Function(fabric.util.getFunctionBody(t.source)),e&&e(this);else{var n=this;this.source=fabric.util.createImage(),fabric.util.loadImage(t.source,(function(t){n.source=t,e&&e(n)}))}},toObject:function(e){var n,r,i=fabric.Object.NUM_FRACTION_DIGITS;return"function"===typeof this.source?n=String(this.source):"string"===typeof this.source.src?n=this.source.src:"object"===typeof this.source&&this.source.toDataURL&&(n=this.source.toDataURL()),r={type:"pattern",source:n,repeat:this.repeat,offsetX:t(this.offsetX,i),offsetY:t(this.offsetY,i)},fabric.util.populateWithProperties(this,r,e),r},toSVG:function(t){var e="function"===typeof this.source?this.source():this.source,n=e.width/t.width,r=e.height/t.height,i=this.offsetX/t.width,o=this.offsetY/t.height,a="";return"repeat-x"!==this.repeat&&"no-repeat"!==this.repeat||(r=1),"repeat-y"!==this.repeat&&"no-repeat"!==this.repeat||(n=1),e.src?a=e.src:e.toDataURL&&(a=e.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+i+'" y="'+o+'" width="'+n+'" height="'+r+'">\n<image x="0" y="0" width="'+e.width+'" height="'+e.height+'" xlink:href="'+a+'"></image>\n</pattern>\n'},setOptions:function(t){for(var e in t)this[e]=t[e]},toLive:function(t){var e="function"===typeof this.source?this.source():this.source;if(!e)return"";if("undefined"!==typeof e.src){if(!e.complete)return"";if(0===e.naturalWidth||0===e.naturalHeight)return""}return t.createPattern(e,this.repeat)}})}(),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.toFixed;e.Shadow?e.warn("fabric.Shadow is already defined."):(e.Shadow=e.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,initialize:function(t){for(var n in"string"===typeof t&&(t=this._parseShadow(t)),t)this[n]=t[n];this.id=e.Object.__uid++},_parseShadow:function(t){var n=t.trim(),r=e.Shadow.reOffsetsAndBlur.exec(n)||[],i=n.replace(e.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)";return{color:i.trim(),offsetX:parseInt(r[1],10)||0,offsetY:parseInt(r[2],10)||0,blur:parseInt(r[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(t){var r=40,i=40,o=e.Object.NUM_FRACTION_DIGITS,a=e.util.rotateVector({x:this.offsetX,y:this.offsetY},e.util.degreesToRadians(-t.angle)),s=20;return t.width&&t.height&&(r=100*n((Math.abs(a.x)+this.blur)/t.width,o)+s,i=100*n((Math.abs(a.y)+this.blur)/t.height,o)+s),t.flipX&&(a.x*=-1),t.flipY&&(a.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+i+'%" height="'+(100+2*i)+'%" x="-'+r+'%" width="'+(100+2*r)+'%" >\n\t<feGaussianBlur in="SourceAlpha" stdDeviation="'+n(this.blur?this.blur/2:0,o)+'"></feGaussianBlur>\n\t<feOffset dx="'+n(a.x,o)+'" dy="'+n(a.y,o)+'" result="oBlur" ></feOffset>\n\t<feFlood flood-color="'+this.color+'"/>\n\t<feComposite in2="oBlur" operator="in" />\n\t<feMerge>\n\t\t<feMergeNode></feMergeNode>\n\t\t<feMergeNode in="SourceGraphic"></feMergeNode>\n\t</feMerge>\n</filter>\n'},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke};var t={},n=e.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke"].forEach((function(e){this[e]!==n[e]&&(t[e]=this[e])}),this),t}}),e.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:px)?(?:\s?|$))?(-?\d+(?:px)?(?:\s?|$))?(\d+(?:px)?)?(?:\s?|$)(?:$|\s)/)}(exports),function(){"use strict";if(fabric.StaticCanvas)fabric.warn("fabric.StaticCanvas is already defined.");else{var t=fabric.util.object.extend,e=fabric.util.getElementOffset,n=fabric.util.removeFromArray,r=fabric.util.toFixed,i=new Error("Could not initialize `canvas` element");fabric.StaticCanvas=fabric.util.createClass(fabric.CommonMethods,{initialize:function(t,e){e||(e={}),this._initStatic(t,e)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,clipTo:null,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:[1,0,0,1,0,0],backgroundVpt:!0,overlayVpt:!0,onBeforeScaleRotate:function(){},enableRetinaScaling:!0,_initStatic:function(t,e){var n=fabric.StaticCanvas.prototype.renderAll.bind(this);this._objects=[],this._createLowerCanvas(t),this._initOptions(e),this._setImageSmoothing(),this.interactive||this._initRetinaScaling(),e.overlayImage&&this.setOverlayImage(e.overlayImage,n),e.backgroundImage&&this.setBackgroundImage(e.backgroundImage,n),e.backgroundColor&&this.setBackgroundColor(e.backgroundColor,n),e.overlayColor&&this.setOverlayColor(e.overlayColor,n),this.calcOffset()},_isRetinaScaling:function(){return 1!==fabric.devicePixelRatio&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?fabric.devicePixelRatio:1},_initRetinaScaling:function(){this._isRetinaScaling()&&(this.lowerCanvasEl.setAttribute("width",this.width*fabric.devicePixelRatio),this.lowerCanvasEl.setAttribute("height",this.height*fabric.devicePixelRatio),this.contextContainer.scale(fabric.devicePixelRatio,fabric.devicePixelRatio))},calcOffset:function(){return this._offset=e(this.lowerCanvasEl),this},setOverlayImage:function(t,e,n){return this.__setBgOverlayImage("overlayImage",t,e,n)},setBackgroundImage:function(t,e,n){return this.__setBgOverlayImage("backgroundImage",t,e,n)},setOverlayColor:function(t,e){return this.__setBgOverlayColor("overlayColor",t,e)},setBackgroundColor:function(t,e){return this.__setBgOverlayColor("backgroundColor",t,e)},_setImageSmoothing:function(){var t=this.getContext();t.imageSmoothingEnabled=t.imageSmoothingEnabled||t.webkitImageSmoothingEnabled||t.mozImageSmoothingEnabled||t.msImageSmoothingEnabled||t.oImageSmoothingEnabled,t.imageSmoothingEnabled=this.imageSmoothingEnabled},__setBgOverlayImage:function(t,e,n,r){return"string"===typeof e?fabric.util.loadImage(e,(function(e){e&&(this[t]=new fabric.Image(e,r)),n&&n(e)}),this,r&&r.crossOrigin):(r&&e.setOptions(r),this[t]=e,n&&n(e)),this},__setBgOverlayColor:function(t,e,n){return this[t]=e,this._initGradient(e,t),this._initPattern(e,t,n),this},_createCanvasElement:function(t){var e=fabric.util.createCanvasElement(t);if(e.style||(e.style={}),!e)throw i;if("undefined"===typeof e.getContext)throw i;return e},_initOptions:function(t){this._setOptions(t),this.width=this.width||parseInt(this.lowerCanvasEl.width,10)||0,this.height=this.height||parseInt(this.lowerCanvasEl.height,10)||0,this.lowerCanvasEl.style&&(this.lowerCanvasEl.width=this.width,this.lowerCanvasEl.height=this.height,this.lowerCanvasEl.style.width=this.width+"px",this.lowerCanvasEl.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(t){this.lowerCanvasEl=fabric.util.getById(t)||this._createCanvasElement(t),fabric.util.addClass(this.lowerCanvasEl,"lower-canvas"),this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(t,e){return this.setDimensions({width:t},e)},setHeight:function(t,e){return this.setDimensions({height:t},e)},setDimensions:function(t,e){var n;for(var r in e=e||{},t)n=t[r],e.cssOnly||(this._setBackstoreDimension(r,t[r]),n+="px"),e.backstoreOnly||this._setCssDimension(r,n);return this._initRetinaScaling(),this._setImageSmoothing(),this.calcOffset(),e.cssOnly||this.renderAll(),this},_setBackstoreDimension:function(t,e){return this.lowerCanvasEl[t]=e,this.upperCanvasEl&&(this.upperCanvasEl[t]=e),this.cacheCanvasEl&&(this.cacheCanvasEl[t]=e),this[t]=e,this},_setCssDimension:function(t,e){return this.lowerCanvasEl.style[t]=e,this.upperCanvasEl&&(this.upperCanvasEl.style[t]=e),this.wrapperEl&&(this.wrapperEl.style[t]=e),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(t){var e,n=this._activeGroup,r=!1,i=!0;this.viewportTransform=t;for(var o=0,a=this._objects.length;o<a;o++)e=this._objects[o],e.group||e.setCoords(r,i);return n&&n.setCoords(r,i),this.renderAll(),this},zoomToPoint:function(t,e){var n=t,r=this.viewportTransform.slice(0);t=fabric.util.transformPoint(t,fabric.util.invertTransform(this.viewportTransform)),r[0]=e,r[3]=e;var i=fabric.util.transformPoint(t,r);return r[4]+=n.x-i.x,r[5]+=n.y-i.y,this.setViewportTransform(r)},setZoom:function(t){return this.zoomToPoint(new fabric.Point(0,0),t),this},absolutePan:function(t){var e=this.viewportTransform.slice(0);return e[4]=-t.x,e[5]=-t.y,this.setViewportTransform(e)},relativePan:function(t){return this.absolutePan(new fabric.Point(-t.x-this.viewportTransform[4],-t.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(t){this.stateful&&t.setupState(),t._set("canvas",this),t.setCoords(),this.fire("object:added",{target:t}),t.fire("added")},_onObjectRemoved:function(t){this.fire("object:removed",{target:t}),t.fire("removed"),delete t.canvas},clearContext:function(t){return t.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this._objects.length=0,this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("selection:cleared",this._canvasITextSelectionClearedHanlder),this.off("object:selected",this._canvasITextSelectionClearedHanlder),this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderAll(),this},renderAll:function(){var t=this.contextContainer;return this.renderCanvas(t,this._objects),this},renderCanvas:function(t,e){this.clearContext(t),this.fire("before:render"),this.clipTo&&fabric.util.clipContext(this,t),this._renderBackground(t),t.save(),t.transform.apply(t,this.viewportTransform),this._renderObjects(t,e),t.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(t),this.clipTo&&t.restore(),this._renderOverlay(t),this.controlsAboveOverlay&&this.interactive&&this.drawControls(t),this.fire("after:render")},_renderObjects:function(t,e){for(var n=0,r=e.length;n<r;++n)e[n]&&e[n].render(t)},_renderBackgroundOrOverlay:function(t,e){var n=this[e+"Color"];n&&(t.fillStyle=n.toLive?n.toLive(t,this):n,t.fillRect(n.offsetX||0,n.offsetY||0,this.width,this.height)),n=this[e+"Image"],n&&(this[e+"Vpt"]&&(t.save(),t.transform.apply(t,this.viewportTransform)),n.render(t),this[e+"Vpt"]&&t.restore())},_renderBackground:function(t){this._renderBackgroundOrOverlay(t,"background")},_renderOverlay:function(t){this._renderBackgroundOrOverlay(t,"overlay")},getCenter:function(){return{top:this.getHeight()/2,left:this.getWidth()/2}},centerObjectH:function(t){return this._centerObject(t,new fabric.Point(this.getCenter().left,t.getCenterPoint().y))},centerObjectV:function(t){return this._centerObject(t,new fabric.Point(t.getCenterPoint().x,this.getCenter().top))},centerObject:function(t){var e=this.getCenter();return this._centerObject(t,new fabric.Point(e.left,e.top))},viewportCenterObject:function(t){var e=this.getVpCenter();return this._centerObject(t,e)},viewportCenterObjectH:function(t){var e=this.getVpCenter();return this._centerObject(t,new fabric.Point(e.x,t.getCenterPoint().y)),this},viewportCenterObjectV:function(t){var e=this.getVpCenter();return this._centerObject(t,new fabric.Point(t.getCenterPoint().x,e.y))},getVpCenter:function(){var t=this.getCenter(),e=fabric.util.invertTransform(this.viewportTransform);return fabric.util.transformPoint({x:t.left,y:t.top},e)},_centerObject:function(t,e){return t.setPositionByOrigin(e,"center","center"),this.renderAll(),this},toDatalessJSON:function(t){return this.toDatalessObject(t)},toObject:function(t){return this._toObjectMethod("toObject",t)},toDatalessObject:function(t){return this._toObjectMethod("toDatalessObject",t)},_toObjectMethod:function(e,n){var r={objects:this._toObjects(e,n)};return t(r,this.__serializeBgOverlay(e,n)),fabric.util.populateWithProperties(this,r,n),r},_toObjects:function(t,e){return this.getObjects().filter((function(t){return!t.excludeFromExport})).map((function(n){return this._toObject(n,t,e)}),this)},_toObject:function(t,e,n){var r;this.includeDefaultValues||(r=t.includeDefaultValues,t.includeDefaultValues=!1);var i=t[e](n);return this.includeDefaultValues||(t.includeDefaultValues=r),i},__serializeBgOverlay:function(t,e){var n={};return this.backgroundColor&&(n.background=this.backgroundColor.toObject?this.backgroundColor.toObject(e):this.backgroundColor),this.overlayColor&&(n.overlay=this.overlayColor.toObject?this.overlayColor.toObject(e):this.overlayColor),this.backgroundImage&&(n.backgroundImage=this._toObject(this.backgroundImage,t,e)),this.overlayImage&&(n.overlayImage=this._toObject(this.overlayImage,t,e)),n},svgViewportTransformation:!0,toSVG:function(t,e){t||(t={});var n=[];return this._setSVGPreamble(n,t),this._setSVGHeader(n,t),this._setSVGBgOverlayColor(n,"backgroundColor"),this._setSVGBgOverlayImage(n,"backgroundImage",e),this._setSVGObjects(n,e),this._setSVGBgOverlayColor(n,"overlayColor"),this._setSVGBgOverlayImage(n,"overlayImage",e),n.push("</svg>"),n.join("")},_setSVGPreamble:function(t,e){e.suppressPreamble||t.push('<?xml version="1.0" encoding="',e.encoding||"UTF-8",'" standalone="no" ?>\n','<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ','"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n')},_setSVGHeader:function(t,e){var n,i=e.width||this.width,o=e.height||this.height,a='viewBox="0 0 '+this.width+" "+this.height+'" ',s=fabric.Object.NUM_FRACTION_DIGITS;e.viewBox?a='viewBox="'+e.viewBox.x+" "+e.viewBox.y+" "+e.viewBox.width+" "+e.viewBox.height+'" ':this.svgViewportTransformation&&(n=this.viewportTransform,a='viewBox="'+r(-n[4]/n[0],s)+" "+r(-n[5]/n[3],s)+" "+r(this.width/n[0],s)+" "+r(this.height/n[3],s)+'" '),t.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',i,'" ','height="',o,'" ',a,'xml:space="preserve">\n',"<desc>Created with Fabric.js ",fabric.version,"</desc>\n","<defs>\n",this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),"</defs>\n")},createSVGRefElementsMarkup:function(){var t=this,e=["backgroundColor","overlayColor"].map((function(e){var n=t[e];if(n&&n.toLive)return n.toSVG(t,!1)}));return e.join("")},createSVGFontFacesMarkup:function(){for(var t,e,n,r,i,o,a,s="",c={},l=fabric.fontPaths,u=this.getObjects(),h=0,f=u.length;h<f;h++)if(t=u[h],e=t.fontFamily,-1!==t.type.indexOf("text")&&!c[e]&&l[e]&&(c[e]=!0,t.styles))for(i in n=t.styles,n)for(a in r=n[i],r)o=r[a],e=o.fontFamily,!c[e]&&l[e]&&(c[e]=!0);for(var d in c)s+=["\t\t@font-face {\n","\t\t\tfont-family: '",d,"';\n","\t\t\tsrc: url('",l[d],"');\n","\t\t}\n"].join("");return s&&(s=['\t<style type="text/css">',"<![CDATA[\n",s,"]]>","</style>\n"].join("")),s},_setSVGObjects:function(t,e){for(var n,r=0,i=this.getObjects(),o=i.length;r<o;r++)n=i[r],n.excludeFromExport||this._setSVGObject(t,n,e)},_setSVGObject:function(t,e,n){t.push(e.toSVG(n))},_setSVGBgOverlayImage:function(t,e,n){this[e]&&this[e].toSVG&&t.push(this[e].toSVG(n))},_setSVGBgOverlayColor:function(t,e){var n=this[e];if(n)if(n.toLive){var r=n.repeat;t.push('<rect transform="translate(',this.width/2,",",this.height/2,')"',' x="',n.offsetX-this.width/2,'" y="',n.offsetY-this.height/2,'" ','width="',"repeat-y"===r||"no-repeat"===r?n.source.width:this.width,'" height="',"repeat-x"===r||"no-repeat"===r?n.source.height:this.height,'" fill="url(#SVGID_'+n.id+')"',"></rect>\n")}else t.push('<rect x="0" y="0" ','width="',this.width,'" height="',this.height,'" fill="',this[e],'"',"></rect>\n")},sendToBack:function(t){if(!t)return this;var e,r,i,o=this._activeGroup;if(t===o)for(i=o._objects,e=i.length;e--;)r=i[e],n(this._objects,r),this._objects.unshift(r);else n(this._objects,t),this._objects.unshift(t);return this.renderAll&&this.renderAll()},bringToFront:function(t){if(!t)return this;var e,r,i,o=this._activeGroup;if(t===o)for(i=o._objects,e=0;e<i.length;e++)r=i[e],n(this._objects,r),this._objects.push(r);else n(this._objects,t),this._objects.push(t);return this.renderAll&&this.renderAll()},sendBackwards:function(t,e){if(!t)return this;var r,i,o,a,s,c=this._activeGroup;if(t===c)for(s=c._objects,r=0;r<s.length;r++)i=s[r],o=this._objects.indexOf(i),0!==o&&(a=o-1,n(this._objects,i),this._objects.splice(a,0,i));else o=this._objects.indexOf(t),0!==o&&(a=this._findNewLowerIndex(t,o,e),n(this._objects,t),this._objects.splice(a,0,t));return this.renderAll&&this.renderAll(),this},_findNewLowerIndex:function(t,e,n){var r;if(n){r=e;for(var i=e-1;i>=0;--i){var o=t.intersectsWithObject(this._objects[i])||t.isContainedWithinObject(this._objects[i])||this._objects[i].isContainedWithinObject(t);if(o){r=i;break}}}else r=e-1;return r},bringForward:function(t,e){if(!t)return this;var r,i,o,a,s,c=this._activeGroup;if(t===c)for(s=c._objects,r=s.length;r--;)i=s[r],o=this._objects.indexOf(i),o!==this._objects.length-1&&(a=o+1,n(this._objects,i),this._objects.splice(a,0,i));else o=this._objects.indexOf(t),o!==this._objects.length-1&&(a=this._findNewUpperIndex(t,o,e),n(this._objects,t),this._objects.splice(a,0,t));return this.renderAll&&this.renderAll(),this},_findNewUpperIndex:function(t,e,n){var r;if(n){r=e;for(var i=e+1;i<this._objects.length;++i){var o=t.intersectsWithObject(this._objects[i])||t.isContainedWithinObject(this._objects[i])||this._objects[i].isContainedWithinObject(t);if(o){r=i;break}}}else r=e+1;return r},moveTo:function(t,e){return n(this._objects,t),this._objects.splice(e,0,t),this.renderAll&&this.renderAll()},dispose:function(){return this.clear(),this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this.getObjects().length+" }>"}}),t(fabric.StaticCanvas.prototype,fabric.Observable),t(fabric.StaticCanvas.prototype,fabric.Collection),t(fabric.StaticCanvas.prototype,fabric.DataURLExporter),t(fabric.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(t){var e=fabric.util.createCanvasElement();if(!e||!e.getContext)return null;var n=e.getContext("2d");if(!n)return null;switch(t){case"getImageData":return"undefined"!==typeof n.getImageData;case"setLineDash":return"undefined"!==typeof n.setLineDash;case"toDataURL":return"undefined"!==typeof e.toDataURL;case"toDataURLWithQuality":try{return e.toDataURL("image/jpeg",0),!0}catch(r){}return!1;default:return null}}}),fabric.StaticCanvas.prototype.toJSON=fabric.StaticCanvas.prototype.toObject}}(),fabric.BaseBrush=fabric.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeDashArray:null,setShadow:function(t){return this.shadow=new fabric.Shadow(t),this},_setBrushStyles:function(){var t=this.canvas.contextTop;t.strokeStyle=this.color,t.lineWidth=this.width,t.lineCap=this.strokeLineCap,t.lineJoin=this.strokeLineJoin,this.strokeDashArray&&fabric.StaticCanvas.supports("setLineDash")&&t.setLineDash(this.strokeDashArray)},_setShadow:function(){if(this.shadow){var t=this.canvas.contextTop,e=this.canvas.getZoom();t.shadowColor=this.shadow.color,t.shadowBlur=this.shadow.blur*e,t.shadowOffsetX=this.shadow.offsetX*e,t.shadowOffsetY=this.shadow.offsetY*e}},_resetShadow:function(){var t=this.canvas.contextTop;t.shadowColor="",t.shadowBlur=t.shadowOffsetX=t.shadowOffsetY=0}}),function(){fabric.PencilBrush=fabric.util.createClass(fabric.BaseBrush,{initialize:function(t){this.canvas=t,this._points=[]},onMouseDown:function(t){this._prepareForDrawing(t),this._captureDrawingPath(t),this._render()},onMouseMove:function(t){this._captureDrawingPath(t),this.canvas.clearContext(this.canvas.contextTop),this._render()},onMouseUp:function(){this._finalizeAndAddPath()},_prepareForDrawing:function(t){var e=new fabric.Point(t.x,t.y);this._reset(),this._addPoint(e),this.canvas.contextTop.moveTo(e.x,e.y)},_addPoint:function(t){this._points.push(t)},_reset:function(){this._points.length=0,this._setBrushStyles(),this._setShadow()},_captureDrawingPath:function(t){var e=new fabric.Point(t.x,t.y);this._addPoint(e)},_render:function(){var t=this.canvas.contextTop,e=this.canvas.viewportTransform,n=this._points[0],r=this._points[1];t.save(),t.transform(e[0],e[1],e[2],e[3],e[4],e[5]),t.beginPath(),2===this._points.length&&n.x===r.x&&n.y===r.y&&(n.x-=.5,r.x+=.5),t.moveTo(n.x,n.y);for(var i=1,o=this._points.length;i<o;i++){var a=n.midPointFrom(r);t.quadraticCurveTo(n.x,n.y,a.x,a.y),n=this._points[i],r=this._points[i+1]}t.lineTo(n.x,n.y),t.stroke(),t.restore()},convertPointsToSVGPath:function(t){var e=[],n=new fabric.Point(t[0].x,t[0].y),r=new fabric.Point(t[1].x,t[1].y);e.push("M ",t[0].x," ",t[0].y," ");for(var i=1,o=t.length;i<o;i++){var a=n.midPointFrom(r);e.push("Q ",n.x," ",n.y," ",a.x," ",a.y," "),n=new fabric.Point(t[i].x,t[i].y),i+1<t.length&&(r=new fabric.Point(t[i+1].x,t[i+1].y))}return e.push("L ",n.x," ",n.y," "),e},createPath:function(t){var e=new fabric.Path(t,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray,originX:"center",originY:"center"});return this.shadow&&(this.shadow.affectStroke=!0,e.setShadow(this.shadow)),e},_finalizeAndAddPath:function(){var t=this.canvas.contextTop;t.closePath();var e=this.convertPointsToSVGPath(this._points).join("");if("M 0 0 Q 0 0 0 0 L 0 0"!==e){var n=this.createPath(e);this.canvas.add(n),n.setCoords(),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderAll(),this.canvas.fire("path:created",{path:n})}else this.canvas.renderAll()}})}(),fabric.CircleBrush=fabric.util.createClass(fabric.BaseBrush,{width:10,initialize:function(t){this.canvas=t,this.points=[]},drawDot:function(t){var e=this.addPoint(t),n=this.canvas.contextTop,r=this.canvas.viewportTransform;n.save(),n.transform(r[0],r[1],r[2],r[3],r[4],r[5]),n.fillStyle=e.fill,n.beginPath(),n.arc(e.x,e.y,e.radius,0,2*Math.PI,!1),n.closePath(),n.fill(),n.restore()},onMouseDown:function(t){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(t)},onMouseMove:function(t){this.drawDot(t)},onMouseUp:function(){var t=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var e=[],n=0,r=this.points.length;n<r;n++){var i=this.points[n],o=new fabric.Circle({radius:i.radius,left:i.x,top:i.y,originX:"center",originY:"center",fill:i.fill});this.shadow&&o.setShadow(this.shadow),e.push(o)}var a=new fabric.Group(e,{originX:"center",originY:"center"});a.canvas=this.canvas,this.canvas.add(a),this.canvas.fire("path:created",{path:a}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=t,this.canvas.renderAll()},addPoint:function(t){var e=new fabric.Point(t.x,t.y),n=fabric.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,r=new fabric.Color(this.color).setAlpha(fabric.util.getRandomInt(0,100)/100).toRgba();return e.radius=n,e.fill=r,this.points.push(e),e}}),fabric.SprayBrush=fabric.util.createClass(fabric.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(t){this.canvas=t,this.sprayChunks=[]},onMouseDown:function(t){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(t),this.render()},onMouseMove:function(t){this.addSprayChunk(t),this.render()},onMouseUp:function(){var t=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var e=[],n=0,r=this.sprayChunks.length;n<r;n++)for(var i=this.sprayChunks[n],o=0,a=i.length;o<a;o++){var s=new fabric.Rect({width:i[o].width,height:i[o].width,left:i[o].x+1,top:i[o].y+1,originX:"center",originY:"center",fill:this.color});this.shadow&&s.setShadow(this.shadow),e.push(s)}this.optimizeOverlapping&&(e=this._getOptimizedRects(e));var c=new fabric.Group(e,{originX:"center",originY:"center"});c.canvas=this.canvas,this.canvas.add(c),this.canvas.fire("path:created",{path:c}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=t,this.canvas.renderAll()},_getOptimizedRects:function(t){for(var e,n={},r=0,i=t.length;r<i;r++)e=t[r].left+""+t[r].top,n[e]||(n[e]=t[r]);var o=[];for(e in n)o.push(n[e]);return o},render:function(){var t=this.canvas.contextTop;t.fillStyle=this.color;var e=this.canvas.viewportTransform;t.save(),t.transform(e[0],e[1],e[2],e[3],e[4],e[5]);for(var n=0,r=this.sprayChunkPoints.length;n<r;n++){var i=this.sprayChunkPoints[n];"undefined"!==typeof i.opacity&&(t.globalAlpha=i.opacity),t.fillRect(i.x,i.y,i.width,i.width)}t.restore()},addSprayChunk:function(t){this.sprayChunkPoints=[];for(var e,n,r,i=this.width/2,o=0;o<this.density;o++){e=fabric.util.getRandomInt(t.x-i,t.x+i),n=fabric.util.getRandomInt(t.y-i,t.y+i),r=this.dotWidthVariance?fabric.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):this.dotWidth;var a=new fabric.Point(e,n);a.width=r,this.randomOpacity&&(a.opacity=fabric.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(a)}this.sprayChunks.push(this.sprayChunkPoints)}}),fabric.PatternBrush=fabric.util.createClass(fabric.PencilBrush,{getPatternSrc:function(){var t=20,e=5,n=fabric.document.createElement("canvas"),r=n.getContext("2d");return n.width=n.height=t+e,r.fillStyle=this.color,r.beginPath(),r.arc(t/2,t/2,t/2,0,2*Math.PI,!1),r.closePath(),r.fill(),n},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(){return this.canvas.contextTop.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(){this.callSuper("_setBrushStyles"),this.canvas.contextTop.strokeStyle=this.getPattern()},createPath:function(t){var e=this.callSuper("createPath",t),n=e._getLeftTopCoords().scalarAdd(e.strokeWidth/2);return e.stroke=new fabric.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-n.x,offsetY:-n.y}),e}}),function(){var t=fabric.util.getPointer,e=fabric.util.degreesToRadians,n=fabric.util.radiansToDegrees,r=Math.atan2,i=Math.abs,o=fabric.StaticCanvas.supports("setLineDash"),a=.5;for(var s in fabric.Canvas=fabric.util.createClass(fabric.StaticCanvas,{initialize:function(t,e){e||(e={}),this._initStatic(t,e),this._initInteractive(),this._createCacheCanvas()},uniScaleTransform:!1,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",rotationCursor:"crosshair",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=fabric.PencilBrush&&new fabric.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var t,e=this.getActiveGroup(),n=this.getActiveObject(),r=[],i=[];if(!e&&!n||this.preserveObjectStacking)r=this._objects;else{for(var o=0,a=this._objects.length;o<a;o++)t=this._objects[o],e&&e.contains(t)||t===n?i.push(t):r.push(t);e&&(e._set("_objects",i),r.push(e)),n&&r.push(n)}return r},renderAll:function(){!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1);var t=this.contextContainer;return this.renderCanvas(t,this._chooseObjectsToRender()),this},renderTop:function(){var t=this.contextTop;return this.clearContext(t),this.selection&&this._groupSelector&&this._drawSelection(t),this.fire("after:render"),this.contextTopDirty=!0,this},_resetCurrentTransform:function(){var t=this._currentTransform;t.target.set({scaleX:t.original.scaleX,scaleY:t.original.scaleY,skewX:t.original.skewX,skewY:t.original.skewY,left:t.original.left,top:t.original.top}),this._shouldCenterTransform(t.target)?"rotate"===t.action?this._setOriginToCenter(t.target):("center"!==t.originX&&("right"===t.originX?t.mouseXSign=-1:t.mouseXSign=1),"center"!==t.originY&&("bottom"===t.originY?t.mouseYSign=-1:t.mouseYSign=1),t.originX="center",t.originY="center"):(t.originX=t.original.originX,t.originY=t.original.originY)},containsPoint:function(t,e,n){var r,i=!0,o=n||this.getPointer(t,i);return r=e.group&&e.group===this.getActiveGroup()?this._normalizePointer(e.group,o):{x:o.x,y:o.y},e.containsPoint(r)||e._findTargetCorner(o)},_normalizePointer:function(t,e){var n=t.calcTransformMatrix(),r=fabric.util.invertTransform(n),i=this.restorePointerVpt(e);return fabric.util.transformPoint(i,r)},isTargetTransparent:function(t,e,n){var r=t.hasBorders,i=t.transparentCorners,o=this.contextCache,a=t.selectionBackgroundColor;t.hasBorders=t.transparentCorners=!1,t.selectionBackgroundColor="",o.save(),o.transform.apply(o,this.viewportTransform),t.render(o),o.restore(),t.active&&t._renderControls(o),t.hasBorders=r,t.transparentCorners=i,t.selectionBackgroundColor=a;var s=fabric.util.isTransparent(o,e,n,this.targetFindTolerance);return this.clearContext(o),s},_shouldClearSelection:function(t,e){var n=this.getActiveGroup(),r=this.getActiveObject();return!e||e&&n&&!n.contains(e)&&n!==e&&!t[this.selectionKey]||e&&!e.evented||e&&!e.selectable&&r&&r!==e},_shouldCenterTransform:function(t){if(t){var e,n=this._currentTransform;return"scale"===n.action||"scaleX"===n.action||"scaleY"===n.action?e=this.centeredScaling||t.centeredScaling:"rotate"===n.action&&(e=this.centeredRotation||t.centeredRotation),e?!n.altKey:n.altKey}},_getOriginFromCorner:function(t,e){var n={x:t.originX,y:t.originY};return"ml"===e||"tl"===e||"bl"===e?n.x="right":"mr"!==e&&"tr"!==e&&"br"!==e||(n.x="left"),"tl"===e||"mt"===e||"tr"===e?n.y="bottom":"bl"!==e&&"mb"!==e&&"br"!==e||(n.y="top"),n},_getActionFromCorner:function(t,e,n){if(!e)return"drag";switch(e){case"mtr":return"rotate";case"ml":case"mr":return n[this.altActionKey]?"skewY":"scaleX";case"mt":case"mb":return n[this.altActionKey]?"skewX":"scaleY";default:return"scale"}},_setupCurrentTransform:function(t,n){if(n){var r=this.getPointer(t),i=n._findTargetCorner(this.getPointer(t,!0)),o=this._getActionFromCorner(n,i,t),a=this._getOriginFromCorner(n,i);this._currentTransform={target:n,action:o,corner:i,scaleX:n.scaleX,scaleY:n.scaleY,skewX:n.skewX,skewY:n.skewY,offsetX:r.x-n.left,offsetY:r.y-n.top,originX:a.x,originY:a.y,ex:r.x,ey:r.y,lastX:r.x,lastY:r.y,left:n.left,top:n.top,theta:e(n.angle),width:n.width*n.scaleX,mouseXSign:1,mouseYSign:1,shiftKey:t.shiftKey,altKey:t[this.centeredKey]},this._currentTransform.original={left:n.left,top:n.top,scaleX:n.scaleX,scaleY:n.scaleY,skewX:n.skewX,skewY:n.skewY,originX:a.x,originY:a.y},this._resetCurrentTransform()}},_translateObject:function(t,e){var n=this._currentTransform,r=n.target,i=t-n.offsetX,o=e-n.offsetY,a=!r.get("lockMovementX")&&r.left!==i,s=!r.get("lockMovementY")&&r.top!==o;return a&&r.set("left",i),s&&r.set("top",o),a||s},_changeSkewTransformOrigin:function(t,e,n){var r="originX",i={0:"center"},o=e.target.skewX,a="left",s="right",c="mt"===e.corner||"ml"===e.corner?1:-1,l=1;t=t>0?1:-1,"y"===n&&(o=e.target.skewY,a="top",s="bottom",r="originY"),i[-1]=a,i[1]=s,e.target.flipX&&(l*=-1),e.target.flipY&&(l*=-1),0===o?(e.skewSign=-c*t*l,e[r]=i[-t]):(o=o>0?1:-1,e.skewSign=o,e[r]=i[o*c*l])},_skewObject:function(t,e,n){var r=this._currentTransform,i=r.target,o=!1,a=i.get("lockSkewingX"),s=i.get("lockSkewingY");if(a&&"x"===n||s&&"y"===n)return!1;var c,l,u=i.getCenterPoint(),h=i.toLocalPoint(new fabric.Point(t,e),"center","center")[n],f=i.toLocalPoint(new fabric.Point(r.lastX,r.lastY),"center","center")[n],d=i._getTransformedDimensions();return this._changeSkewTransformOrigin(h-f,r,n),c=i.toLocalPoint(new fabric.Point(t,e),r.originX,r.originY)[n],l=i.translateToOriginPoint(u,r.originX,r.originY),o=this._setObjectSkew(c,r,n,d),r.lastX=t,r.lastY=e,i.setPositionByOrigin(l,r.originX,r.originY),o},_setObjectSkew:function(t,e,n,r){var i,o,a,s,c,l,u,h,f,d=e.target,p=!1,g=e.skewSign;return"x"===n?(s="y",c="Y",l="X",h=0,f=d.skewY):(s="x",c="X",l="Y",h=d.skewX,f=0),a=d._getTransformedDimensions(h,f),u=2*Math.abs(t)-a[n],u<=2?i=0:(i=g*Math.atan(u/d["scale"+l]/(a[s]/d["scale"+c])),i=fabric.util.radiansToDegrees(i)),p=d["skew"+l]!==i,d.set("skew"+l,i),0!==d["skew"+c]&&(o=d._getTransformedDimensions(),i=r[s]/o[s]*d["scale"+c],d.set("scale"+c,i)),p},_scaleObject:function(t,e,n){var r=this._currentTransform,i=r.target,o=i.get("lockScalingX"),a=i.get("lockScalingY"),s=i.get("lockScalingFlip");if(o&&a)return!1;var c=i.translateToOriginPoint(i.getCenterPoint(),r.originX,r.originY),l=i.toLocalPoint(new fabric.Point(t,e),r.originX,r.originY),u=i._getTransformedDimensions(),h=!1;return this._setLocalMouse(l,r),h=this._setObjectScale(l,r,o,a,n,s,u),i.setPositionByOrigin(c,r.originX,r.originY),h},_setObjectScale:function(t,e,n,r,i,o,a){var s,c,l,u,h=e.target,f=!1,d=!1,p=!1;return l=t.x*h.scaleX/a.x,u=t.y*h.scaleY/a.y,s=h.scaleX!==l,c=h.scaleY!==u,o&&l<=0&&l<h.scaleX&&(f=!0),o&&u<=0&&u<h.scaleY&&(d=!0),"equally"!==i||n||r?i?"x"!==i||h.get("lockUniScaling")?"y"!==i||h.get("lockUniScaling")||d||r||h.set("scaleY",u)&&(p=p||c):f||n||h.set("scaleX",l)&&(p=p||s):(f||n||h.set("scaleX",l)&&(p=p||s),d||r||h.set("scaleY",u)&&(p=p||c)):f||d||(p=this._scaleObjectEqually(t,h,e,a)),e.newScaleX=l,e.newScaleY=u,f||d||this._flipObject(e,i),p},_scaleObjectEqually:function(t,e,n,r){var i,o=t.y+t.x,a=r.y*n.original.scaleY/e.scaleY+r.x*n.original.scaleX/e.scaleX;return n.newScaleX=n.original.scaleX*o/a,n.newScaleY=n.original.scaleY*o/a,i=n.newScaleX!==e.scaleX||n.newScaleY!==e.scaleY,e.set("scaleX",n.newScaleX),e.set("scaleY",n.newScaleY),i},_flipObject:function(t,e){t.newScaleX<0&&"y"!==e&&("left"===t.originX?t.originX="right":"right"===t.originX&&(t.originX="left")),t.newScaleY<0&&"x"!==e&&("top"===t.originY?t.originY="bottom":"bottom"===t.originY&&(t.originY="top"))},_setLocalMouse:function(t,e){var n=e.target;"right"===e.originX?t.x*=-1:"center"===e.originX&&(t.x*=2*e.mouseXSign,t.x<0&&(e.mouseXSign=-e.mouseXSign)),"bottom"===e.originY?t.y*=-1:"center"===e.originY&&(t.y*=2*e.mouseYSign,t.y<0&&(e.mouseYSign=-e.mouseYSign)),i(t.x)>n.padding?t.x<0?t.x+=n.padding:t.x-=n.padding:t.x=0,i(t.y)>n.padding?t.y<0?t.y+=n.padding:t.y-=n.padding:t.y=0},_rotateObject:function(t,e){var i=this._currentTransform;if(i.target.get("lockRotation"))return!1;var o=r(i.ey-i.top,i.ex-i.left),a=r(e-i.top,t-i.left),s=n(a-o+i.theta),c=!0;if(s<0&&(s=360+s),s%=360,i.target.snapAngle>0){var l=i.target.snapAngle,u=i.target.snapThreshold||l,h=Math.ceil(s/l)*l,f=Math.floor(s/l)*l;Math.abs(s-f)<u?s=f:Math.abs(s-h)<u&&(s=h),i.target.angle===s&&(c=!1)}return i.target.angle=s,c},setCursor:function(t){this.upperCanvasEl.style.cursor=t},_resetObjectTransform:function(t){t.scaleX=1,t.scaleY=1,t.skewX=0,t.skewY=0,t.setAngle(0)},_drawSelection:function(t){var e=this._groupSelector,n=e.left,r=e.top,s=i(n),c=i(r);if(this.selectionColor&&(t.fillStyle=this.selectionColor,t.fillRect(e.ex-(n>0?0:-n),e.ey-(r>0?0:-r),s,c)),this.selectionLineWidth&&this.selectionBorderColor)if(t.lineWidth=this.selectionLineWidth,t.strokeStyle=this.selectionBorderColor,this.selectionDashArray.length>1&&!o){var l=e.ex+a-(n>0?0:s),u=e.ey+a-(r>0?0:c);t.beginPath(),fabric.util.drawDashedLine(t,l,u,l+s,u,this.selectionDashArray),fabric.util.drawDashedLine(t,l,u+c-1,l+s,u+c-1,this.selectionDashArray),fabric.util.drawDashedLine(t,l,u,l,u+c,this.selectionDashArray),fabric.util.drawDashedLine(t,l+s-1,u,l+s-1,u+c,this.selectionDashArray),t.closePath(),t.stroke()}else fabric.Object.prototype._setLineDash.call(this,t,this.selectionDashArray),t.strokeRect(e.ex+a-(n>0?0:s),e.ey+a-(r>0?0:c),s,c)},findTarget:function(t,e){if(!this.skipTargetFind){var n,r=!0,i=this.getPointer(t,r),o=this.getActiveGroup(),a=this.getActiveObject();if(o&&!e&&this._checkTarget(i,o))return this._fireOverOutEvents(o,t),o;if(a&&a._findTargetCorner(i))return this._fireOverOutEvents(a,t),a;if(a&&this._checkTarget(i,a)){if(!this.preserveObjectStacking)return this._fireOverOutEvents(a,t),a;n=a}this.targets=[];var s=this._searchPossibleTargets(this._objects,i);return t[this.altSelectionKey]&&s&&n&&s!==n&&(s=n),this._fireOverOutEvents(s,t),s}},_fireOverOutEvents:function(t,e){t?this._hoveredTarget!==t&&(this._hoveredTarget&&(this.fire("mouse:out",{target:this._hoveredTarget,e:e}),this._hoveredTarget.fire("mouseout")),this.fire("mouse:over",{target:t,e:e}),t.fire("mouseover"),this._hoveredTarget=t):this._hoveredTarget&&(this.fire("mouse:out",{target:this._hoveredTarget,e:e}),this._hoveredTarget.fire("mouseout"),this._hoveredTarget=null)},_checkTarget:function(t,e){if(e&&e.visible&&e.evented&&this.containsPoint(null,e,t)){if(!this.perPixelTargetFind&&!e.perPixelTargetFind||e.isEditing)return!0;var n=this.isTargetTransparent(e,t.x,t.y);if(!n)return!0}},_searchPossibleTargets:function(t,e){var n,r,i,o=t.length;while(o--)if(this._checkTarget(e,t[o])){n=t[o],"group"===n.type&&n.subTargetCheck&&(r=this._normalizePointer(n,e),i=this._searchPossibleTargets(n._objects,r),i&&this.targets.push(i));break}return n},restorePointerVpt:function(t){return fabric.util.transformPoint(t,fabric.util.invertTransform(this.viewportTransform))},getPointer:function(e,n,r){r||(r=this.upperCanvasEl);var i,o=t(e),a=r.getBoundingClientRect(),s=a.width||0,c=a.height||0;return s&&c||("top"in a&&"bottom"in a&&(c=Math.abs(a.top-a.bottom)),"right"in a&&"left"in a&&(s=Math.abs(a.right-a.left))),this.calcOffset(),o.x=o.x-this._offset.left,o.y=o.y-this._offset.top,n||(o=this.restorePointerVpt(o)),i=0===s||0===c?{width:1,height:1}:{width:r.width/s,height:r.height/c},{x:o.x*i.width,y:o.y*i.height}},_createUpperCanvas:function(){var t=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,"");this.upperCanvasEl=this._createCanvasElement(),fabric.util.addClass(this.upperCanvasEl,"upper-canvas "+t),this.wrapperEl.appendChild(this.upperCanvasEl),this._copyCanvasStyle(this.lowerCanvasEl,this.upperCanvasEl),this._applyCanvasStyle(this.upperCanvasEl),this.contextTop=this.upperCanvasEl.getContext("2d")},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=fabric.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),fabric.util.setStyle(this.wrapperEl,{width:this.getWidth()+"px",height:this.getHeight()+"px",position:"relative"}),fabric.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(t){var e=this.getWidth()||t.width,n=this.getHeight()||t.height;fabric.util.setStyle(t,{position:"absolute",width:e+"px",height:n+"px",left:0,top:0}),t.width=e,t.height=n,fabric.util.makeElementUnselectable(t)},_copyCanvasStyle:function(t,e){e.style.cssText=t.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},_setActiveObject:function(t){this._activeObject&&this._activeObject.set("active",!1),this._activeObject=t,t.set("active",!0)},setActiveObject:function(t,e){return this._setActiveObject(t),this.renderAll(),this.fire("object:selected",{target:t,e:e}),t.fire("selected",{e:e}),this},getActiveObject:function(){return this._activeObject},_onObjectRemoved:function(t){this.getActiveObject()===t&&(this.fire("before:selection:cleared",{target:t}),this._discardActiveObject(),this.fire("selection:cleared",{target:t}),t.fire("deselected")),this.callSuper("_onObjectRemoved",t)},_discardActiveObject:function(){this._activeObject&&this._activeObject.set("active",!1),this._activeObject=null},discardActiveObject:function(t){var e=this._activeObject;return this.fire("before:selection:cleared",{target:e,e:t}),this._discardActiveObject(),this.fire("selection:cleared",{e:t}),e&&e.fire("deselected",{e:t}),this},_setActiveGroup:function(t){this._activeGroup=t,t&&t.set("active",!0)},setActiveGroup:function(t,e){return this._setActiveGroup(t),t&&(this.fire("object:selected",{target:t,e:e}),t.fire("selected",{e:e})),this},getActiveGroup:function(){return this._activeGroup},_discardActiveGroup:function(){var t=this.getActiveGroup();t&&t.destroy(),this.setActiveGroup(null)},discardActiveGroup:function(t){var e=this.getActiveGroup();return this.fire("before:selection:cleared",{e:t,target:e}),this._discardActiveGroup(),this.fire("selection:cleared",{e:t}),this},deactivateAll:function(){for(var t,e=this.getObjects(),n=0,r=e.length;n<r;n++)t=e[n],t&&t.set("active",!1);return this._discardActiveGroup(),this._discardActiveObject(),this},deactivateAllWithDispatch:function(t){var e=this.getActiveGroup(),n=this.getActiveObject();return(n||e)&&this.fire("before:selection:cleared",{target:n||e,e:t}),this.deactivateAll(),(n||e)&&(this.fire("selection:cleared",{e:t,target:n}),n&&n.fire("deselected")),this},dispose:function(){this.callSuper("dispose");var t=this.wrapperEl;return this.removeListeners(),t.removeChild(this.upperCanvasEl),t.removeChild(this.lowerCanvasEl),delete this.upperCanvasEl,t.parentNode&&t.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,this},clear:function(){return this.discardActiveGroup(),this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(t){var e=this.getActiveGroup();e?e._renderControls(t):this._drawObjectsControls(t)},_drawObjectsControls:function(t){for(var e=0,n=this._objects.length;e<n;++e)this._objects[e]&&this._objects[e].active&&this._objects[e]._renderControls(t)},_toObject:function(t,e,n){var r=this._realizeGroupTransformOnObject(t),i=this.callSuper("_toObject",t,e,n);return this._unwindGroupTransformOnObject(t,r),i},_realizeGroupTransformOnObject:function(t){var e=["angle","flipX","flipY","height","left","scaleX","scaleY","top","width"];if(t.group&&t.group===this.getActiveGroup()){var n={};return e.forEach((function(e){n[e]=t[e]})),this.getActiveGroup().realizeTransform(t),n}return null},_unwindGroupTransformOnObject:function(t,e){e&&t.set(e)},_setSVGObject:function(t,e,n){var r;r=this._realizeGroupTransformOnObject(e),this.callSuper("_setSVGObject",t,e,n),this._unwindGroupTransformOnObject(e,r)}}),fabric.StaticCanvas)"prototype"!==s&&(fabric.Canvas[s]=fabric.StaticCanvas[s]);fabric.isTouchSupported&&(fabric.Canvas.prototype._setCursorFromEvent=function(){}),fabric.Element=fabric.Canvas}(),function(){var t={mt:0,tr:1,mr:2,br:3,mb:4,bl:5,ml:6,tl:7},e=fabric.util.addListener,n=fabric.util.removeListener;fabric.util.object.extend(fabric.Canvas.prototype,{cursorMap:["n-resize","ne-resize","e-resize","se-resize","s-resize","sw-resize","w-resize","nw-resize"],_initEventListeners:function(){this._bindEvents(),e(fabric.window,"resize",this._onResize),e(this.upperCanvasEl,"mousedown",this._onMouseDown),e(this.upperCanvasEl,"mousemove",this._onMouseMove),e(this.upperCanvasEl,"mouseout",this._onMouseOut),e(this.upperCanvasEl,"mouseenter",this._onMouseEnter),e(this.upperCanvasEl,"wheel",this._onMouseWheel),e(this.upperCanvasEl,"contextmenu",this._onContextMenu),e(this.upperCanvasEl,"touchstart",this._onMouseDown),e(this.upperCanvasEl,"touchmove",this._onMouseMove),"undefined"!==typeof eventjs&&"add"in eventjs&&(eventjs.add(this.upperCanvasEl,"gesture",this._onGesture),eventjs.add(this.upperCanvasEl,"drag",this._onDrag),eventjs.add(this.upperCanvasEl,"orientation",this._onOrientationChange),eventjs.add(this.upperCanvasEl,"shake",this._onShake),eventjs.add(this.upperCanvasEl,"longpress",this._onLongPress))},_bindEvents:function(){this._onMouseDown=this._onMouseDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this)},removeListeners:function(){n(fabric.window,"resize",this._onResize),n(this.upperCanvasEl,"mousedown",this._onMouseDown),n(this.upperCanvasEl,"mousemove",this._onMouseMove),n(this.upperCanvasEl,"mouseout",this._onMouseOut),n(this.upperCanvasEl,"mouseenter",this._onMouseEnter),n(this.upperCanvasEl,"wheel",this._onMouseWheel),n(this.upperCanvasEl,"contextmenu",this._onContextMenu),n(this.upperCanvasEl,"touchstart",this._onMouseDown),n(this.upperCanvasEl,"touchmove",this._onMouseMove),"undefined"!==typeof eventjs&&"remove"in eventjs&&(eventjs.remove(this.upperCanvasEl,"gesture",this._onGesture),eventjs.remove(this.upperCanvasEl,"drag",this._onDrag),eventjs.remove(this.upperCanvasEl,"orientation",this._onOrientationChange),eventjs.remove(this.upperCanvasEl,"shake",this._onShake),eventjs.remove(this.upperCanvasEl,"longpress",this._onLongPress))},_onGesture:function(t,e){this.__onTransformGesture&&this.__onTransformGesture(t,e)},_onDrag:function(t,e){this.__onDrag&&this.__onDrag(t,e)},_onMouseWheel:function(t){this.__onMouseWheel(t)},_onMouseOut:function(t){var e=this._hoveredTarget;this.fire("mouse:out",{target:e,e:t}),this._hoveredTarget=null,e&&e.fire("mouseout",{e:t})},_onMouseEnter:function(t){this.findTarget(t)||(this.fire("mouse:over",{target:null,e:t}),this._hoveredTarget=null)},_onOrientationChange:function(t,e){this.__onOrientationChange&&this.__onOrientationChange(t,e)},_onShake:function(t,e){this.__onShake&&this.__onShake(t,e)},_onLongPress:function(t,e){this.__onLongPress&&this.__onLongPress(t,e)},_onContextMenu:function(t){return this.stopContextMenu&&(t.stopPropagation(),t.preventDefault()),!1},_onMouseDown:function(t){this.__onMouseDown(t),e(fabric.document,"touchend",this._onMouseUp),e(fabric.document,"touchmove",this._onMouseMove),n(this.upperCanvasEl,"mousemove",this._onMouseMove),n(this.upperCanvasEl,"touchmove",this._onMouseMove),"touchstart"===t.type?n(this.upperCanvasEl,"mousedown",this._onMouseDown):(e(fabric.document,"mouseup",this._onMouseUp),e(fabric.document,"mousemove",this._onMouseMove))},_onMouseUp:function(t){if(this.__onMouseUp(t),n(fabric.document,"mouseup",this._onMouseUp),n(fabric.document,"touchend",this._onMouseUp),n(fabric.document,"mousemove",this._onMouseMove),n(fabric.document,"touchmove",this._onMouseMove),e(this.upperCanvasEl,"mousemove",this._onMouseMove),e(this.upperCanvasEl,"touchmove",this._onMouseMove),"touchend"===t.type){var r=this;setTimeout((function(){e(r.upperCanvasEl,"mousedown",r._onMouseDown)}),400)}},_onMouseMove:function(t){!this.allowTouchScrolling&&t.preventDefault&&t.preventDefault(),this.__onMouseMove(t)},_onResize:function(){this.calcOffset()},_shouldRender:function(t,e){var n=this.getActiveGroup()||this.getActiveObject();return(!n||!n.isEditing||t!==n)&&!!(t&&(t.isMoving||t!==n)||!t&&n||!t&&!n&&!this._groupSelector||e&&this._previousPointer&&this.selection&&(e.x!==this._previousPointer.x||e.y!==this._previousPointer.y))},__onMouseUp:function(t){var e,n=!0,r=this._currentTransform,i=this._groupSelector,o=!i||0===i.left&&0===i.top;if(this.isDrawingMode&&this._isCurrentlyDrawing)this._onMouseUpInDrawingMode(t);else{r&&(this._finalizeCurrentTransform(),n=!r.actionPerformed),e=n?this.findTarget(t,!0):r.target;var a=this._shouldRender(e,this.getPointer(t));e||!o?this._maybeGroupObjects(t):(this._groupSelector=null,this._currentTransform=null),e&&(e.isMoving=!1),this._handleCursorAndEvent(t,e,"up"),e&&(e.__corner=0),a&&this.renderAll()}},_handleCursorAndEvent:function(t,e,n){this._setCursorFromEvent(t,e),this._handleEvent(t,n,e||null)},_handleEvent:function(t,e,n){var r="undefined"===typeof n?this.findTarget(t):n,i=this.targets||[],o={e:t,target:r,subTargets:i};this.fire("mouse:"+e,o),r&&r.fire("mouse"+e,o);for(var a=0;a<i.length;a++)i[a].fire("mouse"+e,o)},_finalizeCurrentTransform:function(){var t=this._currentTransform,e=t.target;e._scaling&&(e._scaling=!1),e.setCoords(),this._restoreOriginXY(e),(t.actionPerformed||this.stateful&&e.hasStateChanged())&&(this.fire("object:modified",{target:e}),e.fire("modified"))},_restoreOriginXY:function(t){if(this._previousOriginX&&this._previousOriginY){var e=t.translateToOriginPoint(t.getCenterPoint(),this._previousOriginX,this._previousOriginY);t.originX=this._previousOriginX,t.originY=this._previousOriginY,t.left=e.x,t.top=e.y,this._previousOriginX=null,this._previousOriginY=null}},_onMouseDownInDrawingMode:function(t){this._isCurrentlyDrawing=!0,this.discardActiveObject(t).renderAll(),this.clipTo&&fabric.util.clipContext(this,this.contextTop);var e=this.getPointer(t);this.freeDrawingBrush.onMouseDown(e),this._handleEvent(t,"down")},_onMouseMoveInDrawingMode:function(t){if(this._isCurrentlyDrawing){var e=this.getPointer(t);this.freeDrawingBrush.onMouseMove(e)}this.setCursor(this.freeDrawingCursor),this._handleEvent(t,"move")},_onMouseUpInDrawingMode:function(t){this._isCurrentlyDrawing=!1,this.clipTo&&this.contextTop.restore(),this.freeDrawingBrush.onMouseUp(),this._handleEvent(t,"up")},__onMouseDown:function(t){var e=this.findTarget(t),n="which"in t?3===t.which:2===t.button;if(n)this.fireRightClick&&this._handleEvent(t,"down",e||null);else if(this.isDrawingMode)this._onMouseDownInDrawingMode(t);else if(!this._currentTransform){var r=this.getPointer(t,!0);this._previousPointer=r;var i=this._shouldRender(e,r),o=this._shouldGroup(t,e);this._shouldClearSelection(t,e)?this._clearSelection(t,e,r):o&&(this._handleGrouping(t,e),e=this.getActiveGroup()),e&&(!e.selectable||!e.__corner&&o||(this._beforeTransform(t,e),this._setupCurrentTransform(t,e)),e!==this.getActiveGroup()&&e!==this.getActiveObject()&&(this.deactivateAll(),e.selectable&&this.setActiveObject(e,t))),this._handleEvent(t,"down",e||null),i&&this.renderAll()}},_beforeTransform:function(t,e){this.stateful&&e.saveState(),e._findTargetCorner(this.getPointer(t))&&this.onBeforeScaleRotate(e)},_clearSelection:function(t,e,n){this.deactivateAllWithDispatch(t),e&&e.selectable?this.setActiveObject(e,t):this.selection&&(this._groupSelector={ex:n.x,ey:n.y,top:0,left:0})},_setOriginToCenter:function(t){this._previousOriginX=this._currentTransform.target.originX,this._previousOriginY=this._currentTransform.target.originY;var e=t.getCenterPoint();t.originX="center",t.originY="center",t.left=e.x,t.top=e.y,this._currentTransform.left=t.left,this._currentTransform.top=t.top},_setCenterToOrigin:function(t){var e=t.translateToOriginPoint(t.getCenterPoint(),this._previousOriginX,this._previousOriginY);t.originX=this._previousOriginX,t.originY=this._previousOriginY,t.left=e.x,t.top=e.y,this._previousOriginX=null,this._previousOriginY=null},__onMouseMove:function(t){var e,n;if(this.isDrawingMode)this._onMouseMoveInDrawingMode(t);else if(!("undefined"!==typeof t.touches&&t.touches.length>1)){var r=this._groupSelector;r?(n=this.getPointer(t,!0),r.left=n.x-r.ex,r.top=n.y-r.ey,this.renderTop()):this._currentTransform?this._transformObject(t):(e=this.findTarget(t),this._setCursorFromEvent(t,e)),this._handleEvent(t,"move",e||null)}},__onMouseWheel:function(t){this._handleEvent(t,"wheel")},_transformObject:function(t){var e=this.getPointer(t),n=this._currentTransform;n.reset=!1,n.target.isMoving=!0,n.shiftKey=t.shiftKey,n.altKey=t[this.centeredKey],this._beforeScaleTransform(t,n),this._performTransformAction(t,n,e),n.actionPerformed&&this.renderAll()},_performTransformAction:function(t,e,n){var r=n.x,i=n.y,o=e.target,a=e.action,s=!1;"rotate"===a?(s=this._rotateObject(r,i))&&this._fire("rotating",o,t):"scale"===a?(s=this._onScale(t,e,r,i))&&this._fire("scaling",o,t):"scaleX"===a?(s=this._scaleObject(r,i,"x"))&&this._fire("scaling",o,t):"scaleY"===a?(s=this._scaleObject(r,i,"y"))&&this._fire("scaling",o,t):"skewX"===a?(s=this._skewObject(r,i,"x"))&&this._fire("skewing",o,t):"skewY"===a?(s=this._skewObject(r,i,"y"))&&this._fire("skewing",o,t):(s=this._translateObject(r,i),s&&(this._fire("moving",o,t),this.setCursor(o.moveCursor||this.moveCursor))),e.actionPerformed=e.actionPerformed||s},_fire:function(t,e,n){this.fire("object:"+t,{target:e,e:n}),e.fire(t,{e:n})},_beforeScaleTransform:function(t,e){if("scale"===e.action||"scaleX"===e.action||"scaleY"===e.action){var n=this._shouldCenterTransform(e.target);(n&&("center"!==e.originX||"center"!==e.originY)||!n&&"center"===e.originX&&"center"===e.originY)&&(this._resetCurrentTransform(),e.reset=!0)}},_onScale:function(t,e,n,r){return!t[this.uniScaleKey]&&!this.uniScaleTransform||e.target.get("lockUniScaling")?(e.reset||"scale"!==e.currentAction||this._resetCurrentTransform(),e.currentAction="scaleEqually",this._scaleObject(n,r,"equally")):(e.currentAction="scale",this._scaleObject(n,r))},_setCursorFromEvent:function(t,e){if(!e)return this.setCursor(this.defaultCursor),!1;var n=e.hoverCursor||this.hoverCursor;if(e.selectable){var r=this.getActiveGroup(),i=e._findTargetCorner&&(!r||!r.contains(e))&&e._findTargetCorner(this.getPointer(t,!0));i?this._setCornerCursor(i,e,t):this.setCursor(n)}else this.setCursor(n);return!0},_setCornerCursor:function(e,n,r){if(e in t)this.setCursor(this._getRotatedCornerCursor(e,n,r));else{if("mtr"!==e||!n.hasRotatingPoint)return this.setCursor(this.defaultCursor),!1;this.setCursor(this.rotationCursor)}},_getRotatedCornerCursor:function(e,n,r){var i=Math.round(n.getAngle()%360/45);return i<0&&(i+=8),i+=t[e],r[this.altActionKey]&&t[e]%2===0&&(i+=2),i%=8,this.cursorMap[i]}})}(),function(){var t=Math.min,e=Math.max;fabric.util.object.extend(fabric.Canvas.prototype,{_shouldGroup:function(t,e){var n=this.getActiveObject();return t[this.selectionKey]&&e&&e.selectable&&(this.getActiveGroup()||n&&n!==e)&&this.selection},_handleGrouping:function(t,e){var n=this.getActiveGroup();(e!==n||(e=this.findTarget(t,!0),e))&&(n?this._updateActiveGroup(e,t):this._createActiveGroup(e,t),this._activeGroup&&this._activeGroup.saveCoords())},_updateActiveGroup:function(t,e){var n=this.getActiveGroup();if(n.contains(t)){if(n.removeWithUpdate(t),t.set("active",!1),1===n.size())return this.discardActiveGroup(e),void this.setActiveObject(n.item(0))}else n.addWithUpdate(t);this.fire("selection:created",{target:n,e:e}),n.set("active",!0)},_createActiveGroup:function(t,e){if(this._activeObject&&t!==this._activeObject){var n=this._createGroup(t);n.addWithUpdate(),this.setActiveGroup(n),this._activeObject=null,this.fire("selection:created",{target:n,e:e})}t.set("active",!0)},_createGroup:function(t){var e=this.getObjects(),n=e.indexOf(this._activeObject)<e.indexOf(t),r=n?[this._activeObject,t]:[t,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new fabric.Group(r,{canvas:this})},_groupSelectedObjects:function(t){var e=this._collectObjects();1===e.length?this.setActiveObject(e[0],t):e.length>1&&(e=new fabric.Group(e.reverse(),{canvas:this}),e.addWithUpdate(),this.setActiveGroup(e,t),e.saveCoords(),this.fire("selection:created",{target:e}),this.renderAll())},_collectObjects:function(){for(var n,r=[],i=this._groupSelector.ex,o=this._groupSelector.ey,a=i+this._groupSelector.left,s=o+this._groupSelector.top,c=new fabric.Point(t(i,a),t(o,s)),l=new fabric.Point(e(i,a),e(o,s)),u=i===a&&o===s,h=this._objects.length;h--;)if(n=this._objects[h],n&&n.selectable&&n.visible&&(n.intersectsWithRect(c,l)||n.isContainedWithinRect(c,l)||n.containsPoint(c)||n.containsPoint(l))&&(n.set("active",!0),r.push(n),u))break;return r},_maybeGroupObjects:function(t){this.selection&&this._groupSelector&&this._groupSelectedObjects(t);var e=this.getActiveGroup();e&&(e.setObjectsCoords().setCoords(),e.isMoving=!1,this.setCursor(this.defaultCursor)),this._groupSelector=null,this._currentTransform=null}})}(),function(){var t=fabric.StaticCanvas.supports("toDataURLWithQuality");fabric.util.object.extend(fabric.StaticCanvas.prototype,{toDataURL:function(t){t||(t={});var e=t.format||"png",n=t.quality||1,r=t.multiplier||1,i={left:t.left||0,top:t.top||0,width:t.width||0,height:t.height||0};return this.__toDataURLWithMultiplier(e,n,i,r)},__toDataURLWithMultiplier:function(t,e,n,r){var i=this.getWidth(),o=this.getHeight(),a=(n.width||this.getWidth())*r,s=(n.height||this.getHeight())*r,c=this.getZoom(),l=c*r,u=this.viewportTransform,h=(u[4]-n.left)*r,f=(u[5]-n.top)*r,d=[l,0,0,l,h,f],p=this.interactive;this.viewportTransform=d,this.interactive&&(this.interactive=!1),i!==a||o!==s?this.setDimensions({width:a,height:s}):this.renderAll();var g=this.__toDataURL(t,e,n);return p&&(this.interactive=p),this.viewportTransform=u,this.setDimensions({width:i,height:o}),g},__toDataURL:function(e,n){var r=this.contextContainer.canvas;"jpg"===e&&(e="jpeg");var i=t?r.toDataURL("image/"+e,n):r.toDataURL("image/"+e);return i},toDataURLWithMultiplier:function(t,e,n){return this.toDataURL({format:t,multiplier:e,quality:n})}})}(),fabric.util.object.extend(fabric.StaticCanvas.prototype,{loadFromDatalessJSON:function(t,e,n){return this.loadFromJSON(t,e,n)},loadFromJSON:function(t,e,n){if(t){var r="string"===typeof t?JSON.parse(t):fabric.util.object.clone(t);this.clear();var i=this;return this._enlivenObjects(r.objects,(function(){i._setBgOverlay(r,(function(){delete r.objects,delete r.backgroundImage,delete r.overlayImage,delete r.background,delete r.overlay,i._setOptions(r),e&&e()}))}),n),this}},_setBgOverlay:function(t,e){var n=this,r={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(t.backgroundImage||t.overlayImage||t.background||t.overlay){var i=function(){r.backgroundImage&&r.overlayImage&&r.backgroundColor&&r.overlayColor&&(n.renderAll(),e&&e())};this.__setBgOverlay("backgroundImage",t.backgroundImage,r,i),this.__setBgOverlay("overlayImage",t.overlayImage,r,i),this.__setBgOverlay("backgroundColor",t.background,r,i),this.__setBgOverlay("overlayColor",t.overlay,r,i)}else e&&e()},__setBgOverlay:function(t,e,n,r){var i=this;if(!e)return n[t]=!0,void(r&&r());"backgroundImage"===t||"overlayImage"===t?fabric.util.enlivenObjects([e],(function(e){i[t]=e[0],n[t]=!0,r&&r()})):this["set"+fabric.util.string.capitalize(t,!0)](e,(function(){n[t]=!0,r&&r()}))},_enlivenObjects:function(t,e,n){var r=this;if(t&&0!==t.length){var i=this.renderOnAddRemove;this.renderOnAddRemove=!1,fabric.util.enlivenObjects(t,(function(t){t.forEach((function(t,e){r.insertAt(t,e)})),r.renderOnAddRemove=i,e&&e()}),null,n)}else e&&e()},_toDataURL:function(t,e){this.clone((function(n){e(n.toDataURL(t))}))},_toDataURLWithMultiplier:function(t,e,n){this.clone((function(r){n(r.toDataURLWithMultiplier(t,e))}))},clone:function(t,e){var n=JSON.stringify(this.toJSON(e));this.cloneWithoutData((function(e){e.loadFromJSON(n,(function(){t&&t(e)}))}))},cloneWithoutData:function(t){var e=fabric.document.createElement("canvas");e.width=this.getWidth(),e.height=this.getHeight();var n=new fabric.Canvas(e);n.clipTo=this.clipTo,this.backgroundImage?(n.setBackgroundImage(this.backgroundImage.src,(function(){n.renderAll(),t&&t(n)})),n.backgroundImageOpacity=this.backgroundImageOpacity,n.backgroundImageStretch=this.backgroundImageStretch):t&&t(n)}}),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend,r=e.util.object.clone,i=e.util.toFixed,o=e.util.string.capitalize,a=e.util.degreesToRadians,s=e.StaticCanvas.supports("setLineDash"),c=!e.isLikelyNode;e.Object||(e.Object=e.util.createClass(e.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgba(102,153,255,0.75)",borderDashArray:null,cornerColor:"rgba(102,153,255,0.5)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:10,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,transformMatrix:null,minScaleLimit:.01,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,hasRotatingPoint:!0,rotatingPointOffset:40,perPixelTargetFind:!1,includeDefaultValues:!0,clipTo:null,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockUniScaling:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:c,statefullCache:!1,noScaleCache:!0,dirty:!1,stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeLineJoin strokeMiterLimit angle opacity fill fillRule globalCompositeOperation shadow clipTo visible backgroundColor skewX skewY".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height stroke strokeWidth strokeDashArray strokeLineCap strokeLineJoin strokeMiterLimit fillRule backgroundColor".split(" "),initialize:function(t){t=t||{},t&&this.setOptions(t),this.objectCaching&&(this._createCacheCanvas(),this.setupState({propertySet:"cacheProperties"}))},_createCacheCanvas:function(){this._cacheCanvas=e.document.createElement("canvas"),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas()},_getCacheCanvasDimensions:function(){var t=this.canvas&&this.canvas.getZoom()||1,n=this.getObjectScaling(),r=this._getNonTransformedDimensions(),i=this.canvas&&this.canvas._isRetinaScaling()?e.devicePixelRatio:1,o=n.scaleX*t*i,a=n.scaleY*t*i,s=r.x*o,c=r.y*a;return{width:Math.ceil(s)+2,height:Math.ceil(c)+2,zoomX:o,zoomY:a}},_updateCacheCanvas:function(){if(this.noScaleCache&&this.canvas&&this.canvas._currentTransform){var t=this.canvas._currentTransform.action;if("scale"===t.slice(0,5))return!1}var e=this._getCacheCanvasDimensions(),n=e.width,r=e.height,i=e.zoomX,o=e.zoomY;return(n!==this.cacheWidth||r!==this.cacheHeight)&&(this._cacheCanvas.width=n,this._cacheCanvas.height=r,this._cacheContext.translate(n/2,r/2),this._cacheContext.scale(i,o),this.cacheWidth=n,this.cacheHeight=r,this.zoomX=i,this.zoomY=o,!0)},setOptions:function(t){this._setOptions(t),this._initGradient(t.fill,"fill"),this._initGradient(t.stroke,"stroke"),this._initClipping(t),this._initPattern(t.fill,"fill"),this._initPattern(t.stroke,"stroke")},transform:function(t,e){this.group&&!this.group._transformDone&&this.group===this.canvas._activeGroup&&this.group.transform(t);var n=e?this._getLeftTopCoords():this.getCenterPoint();t.translate(n.x,n.y),t.rotate(a(this.angle)),t.scale(this.scaleX*(this.flipX?-1:1),this.scaleY*(this.flipY?-1:1)),t.transform(1,0,Math.tan(a(this.skewX)),1,0,0),t.transform(1,Math.tan(a(this.skewY)),0,1,0,0)},toObject:function(t){var n=e.Object.NUM_FRACTION_DIGITS,r={type:this.type,originX:this.originX,originY:this.originY,left:i(this.left,n),top:i(this.top,n),width:i(this.width,n),height:i(this.height,n),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:i(this.strokeWidth,n),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin,strokeMiterLimit:i(this.strokeMiterLimit,n),scaleX:i(this.scaleX,n),scaleY:i(this.scaleY,n),angle:i(this.getAngle(),n),flipX:this.flipX,flipY:this.flipY,opacity:i(this.opacity,n),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,clipTo:this.clipTo&&String(this.clipTo),backgroundColor:this.backgroundColor,fillRule:this.fillRule,globalCompositeOperation:this.globalCompositeOperation,transformMatrix:this.transformMatrix?this.transformMatrix.concat():null,skewX:i(this.skewX,n),skewY:i(this.skewY,n)};return e.util.populateWithProperties(this,r,t),this.includeDefaultValues||(r=this._removeDefaultValues(r)),r},toDatalessObject:function(t){return this.toObject(t)},_removeDefaultValues:function(t){var n=e.util.getKlass(t.type).prototype,r=n.stateProperties;return r.forEach((function(e){t[e]===n[e]&&delete t[e];var r="[object Array]"===Object.prototype.toString.call(t[e])&&"[object Array]"===Object.prototype.toString.call(n[e]);r&&0===t[e].length&&0===n[e].length&&delete t[e]})),t},toString:function(){return"#<fabric."+o(this.type)+">"},getObjectScaling:function(){var t=this.scaleX,e=this.scaleY;if(this.group){var n=this.group.getObjectScaling();t*=n.scaleX,e*=n.scaleY}return{scaleX:t,scaleY:e}},_set:function(t,n){var r="scaleX"===t||"scaleY"===t;return r&&(n=this._constrainScale(n)),"scaleX"===t&&n<0?(this.flipX=!this.flipX,n*=-1):"scaleY"===t&&n<0?(this.flipY=!this.flipY,n*=-1):"shadow"!==t||!n||n instanceof e.Shadow?"dirty"===t&&this.group&&this.group.set("dirty",n):n=new e.Shadow(n),this[t]=n,this.cacheProperties.indexOf(t)>-1&&(this.group&&this.group.set("dirty",!0),this.dirty=!0),"width"!==t&&"height"!==t||(this.minScaleLimit=Math.min(.1,1/Math.max(this.width,this.height))),this},setOnGroup:function(){},setSourcePath:function(t){return this.sourcePath=t,this},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:[1,0,0,1,0,0]},render:function(t,n){0===this.width&&0===this.height||!this.visible||(t.save(),this._setupCompositeOperation(t),this.drawSelectionBackground(t),n||this.transform(t),this._setOpacity(t),this._setShadow(t),this.transformMatrix&&t.transform.apply(t,this.transformMatrix),this.clipTo&&e.util.clipContext(this,t),this.objectCaching&&!this.group?(this.isCacheDirty(n)&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,n),this.dirty=!1),this.drawCacheOnCanvas(t)):(this.drawObject(t,n),n&&this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),this.clipTo&&t.restore(),t.restore())},drawObject:function(t,e){this._renderBackground(t),this._setStrokeStyles(t),this._setFillStyles(t),this._render(t,e)},drawCacheOnCanvas:function(t){t.scale(1/this.zoomX,1/this.zoomY),t.drawImage(this._cacheCanvas,-this.cacheWidth/2,-this.cacheHeight/2)},isCacheDirty:function(t){if(!t&&this._updateCacheCanvas())return!0;if(this.dirty||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(!t){var e=this._getNonTransformedDimensions();this._cacheContext.clearRect(-e.x/2,-e.y/2,e.x,e.y)}return!0}return!1},_renderBackground:function(t){if(this.backgroundColor){var e=this._getNonTransformedDimensions();t.fillStyle=this.backgroundColor,t.fillRect(-e.x/2,-e.y/2,e.x,e.y),this._removeShadow(t)}},_setOpacity:function(t){t.globalAlpha*=this.opacity},_setStrokeStyles:function(t){this.stroke&&(t.lineWidth=this.strokeWidth,t.lineCap=this.strokeLineCap,t.lineJoin=this.strokeLineJoin,t.miterLimit=this.strokeMiterLimit,t.strokeStyle=this.stroke.toLive?this.stroke.toLive(t,this):this.stroke)},_setFillStyles:function(t){this.fill&&(t.fillStyle=this.fill.toLive?this.fill.toLive(t,this):this.fill)},_setLineDash:function(t,e,n){e&&(1&e.length&&e.push.apply(e,e),s?t.setLineDash(e):n&&n(t))},_renderControls:function(t,n){if(!(!this.active||n||this.group&&this.group!==this.canvas.getActiveGroup())){var r,i=this.getViewportTransform(),o=this.calcTransformMatrix();o=e.util.multiplyTransformMatrices(i,o),r=e.util.qrDecompose(o),t.save(),t.translate(r.translateX,r.translateY),t.lineWidth=1*this.borderScaleFactor,this.group||(t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.group&&this.group===this.canvas.getActiveGroup()?(t.rotate(a(r.angle)),this.drawBordersInGroup(t,r)):(t.rotate(a(this.angle)),this.drawBorders(t)),this.drawControls(t),t.restore()}},_setShadow:function(t){if(this.shadow){var n=this.canvas&&this.canvas.viewportTransform[0]||1,r=this.canvas&&this.canvas.viewportTransform[3]||1,i=this.getObjectScaling();this.canvas&&this.canvas._isRetinaScaling()&&(n*=e.devicePixelRatio,r*=e.devicePixelRatio),t.shadowColor=this.shadow.color,t.shadowBlur=this.shadow.blur*(n+r)*(i.scaleX+i.scaleY)/4,t.shadowOffsetX=this.shadow.offsetX*n*i.scaleX,t.shadowOffsetY=this.shadow.offsetY*r*i.scaleY}},_removeShadow:function(t){this.shadow&&(t.shadowColor="",t.shadowBlur=t.shadowOffsetX=t.shadowOffsetY=0)},_applyPatternGradientTransform:function(t,e){if(e.toLive){var n=e.gradientTransform||e.patternTransform;n&&t.transform.apply(t,n);var r=-this.width/2+e.offsetX||0,i=-this.height/2+e.offsetY||0;t.translate(r,i)}},_renderFill:function(t){this.fill&&(t.save(),this._applyPatternGradientTransform(t,this.fill),"evenodd"===this.fillRule?t.fill("evenodd"):t.fill(),t.restore())},_renderStroke:function(t){this.stroke&&0!==this.strokeWidth&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(t),t.save(),this._setLineDash(t,this.strokeDashArray,this._renderDashedStroke),this._applyPatternGradientTransform(t,this.stroke),t.stroke(),t.restore())},clone:function(t,n){return this.constructor.fromObject?this.constructor.fromObject(this.toObject(n),t):new e.Object(this.toObject(n))},cloneAsImage:function(t,n){var r=this.toDataURL(n);return e.util.loadImage(r,(function(n){t&&t(new e.Image(n))})),this},toDataURL:function(t){t||(t={});var n=e.util.createCanvasElement(),r=this.getBoundingRect();n.width=r.width,n.height=r.height,e.util.wrapElement(n,"div");var i=new e.StaticCanvas(n,{enableRetinaScaling:t.enableRetinaScaling});"jpg"===t.format&&(t.format="jpeg"),"jpeg"===t.format&&(i.backgroundColor="#fff");var o={active:this.get("active"),left:this.getLeft(),top:this.getTop()};this.set("active",!1),this.setPositionByOrigin(new e.Point(i.getWidth()/2,i.getHeight()/2),"center","center");var a=this.canvas;i.add(this);var s=i.toDataURL(t);return this.set(o).setCoords(),this.canvas=a,i.dispose(),i=null,s},isType:function(t){return this.type===t},complexity:function(){return 0},toJSON:function(t){return this.toObject(t)},setGradient:function(t,n){n||(n={});var r={colorStops:[]};return r.type=n.type||(n.r1||n.r2?"radial":"linear"),r.coords={x1:n.x1,y1:n.y1,x2:n.x2,y2:n.y2},(n.r1||n.r2)&&(r.coords.r1=n.r1,r.coords.r2=n.r2),r.gradientTransform=n.gradientTransform,e.Gradient.prototype.addColorStop.call(r,n.colorStops),this.set(t,e.Gradient.forObject(this,r))},setPatternFill:function(t){return this.set("fill",new e.Pattern(t))},setShadow:function(t){return this.set("shadow",t?new e.Shadow(t):null)},setColor:function(t){return this.set("fill",t),this},setAngle:function(t){var e=("center"!==this.originX||"center"!==this.originY)&&this.centeredRotation;return e&&this._setOriginToCenter(),this.set("angle",t),e&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},remove:function(){return this.canvas&&this.canvas.remove(this),this},getLocalPointer:function(t,n){n=n||this.canvas.getPointer(t);var r=new e.Point(n.x,n.y),i=this._getLeftTopCoords();return this.angle&&(r=e.util.rotatePoint(r,i,a(-this.angle))),{x:r.x-i.x,y:r.y-i.y}},_setupCompositeOperation:function(t){this.globalCompositeOperation&&(t.globalCompositeOperation=this.globalCompositeOperation)}}),e.util.createAccessors(e.Object),e.Object.prototype.rotate=e.Object.prototype.setAngle,n(e.Object.prototype,e.Observable),e.Object.NUM_FRACTION_DIGITS=2,e.Object._fromObject=function(t,n,i,o,a){var s=e[t];if(n=r(n,!0),!o){var c=a?new s(n[a],n):new s(n);return i&&i(c),c}e.util.enlivenPatterns([n.fill,n.stroke],(function(t){n.fill=t[0],n.stroke=t[1];var e=a?new s(n[a],n):new s(n);i&&i(e)}))},e.Object.__uid=0)}(exports),function(){var t=fabric.util.degreesToRadians,e={left:-.5,center:0,right:.5},n={top:-.5,center:0,bottom:.5};fabric.util.object.extend(fabric.Object.prototype,{translateToGivenOrigin:function(t,r,i,o,a){var s,c,l,u=t.x,h=t.y;return"string"===typeof r?r=e[r]:r-=.5,"string"===typeof o?o=e[o]:o-=.5,s=o-r,"string"===typeof i?i=n[i]:i-=.5,"string"===typeof a?a=n[a]:a-=.5,c=a-i,(s||c)&&(l=this._getTransformedDimensions(),u=t.x+s*l.x,h=t.y+c*l.y),new fabric.Point(u,h)},translateToCenterPoint:function(e,n,r){var i=this.translateToGivenOrigin(e,n,r,"center","center");return this.angle?fabric.util.rotatePoint(i,e,t(this.angle)):i},translateToOriginPoint:function(e,n,r){var i=this.translateToGivenOrigin(e,"center","center",n,r);return this.angle?fabric.util.rotatePoint(i,e,t(this.angle)):i},getCenterPoint:function(){var t=new fabric.Point(this.left,this.top);return this.translateToCenterPoint(t,this.originX,this.originY)},getPointByOrigin:function(t,e){var n=this.getCenterPoint();return this.translateToOriginPoint(n,t,e)},toLocalPoint:function(e,n,r){var i,o,a=this.getCenterPoint();return i="undefined"!==typeof n&&"undefined"!==typeof r?this.translateToGivenOrigin(a,"center","center",n,r):new fabric.Point(this.left,this.top),o=new fabric.Point(e.x,e.y),this.angle&&(o=fabric.util.rotatePoint(o,a,-t(this.angle))),o.subtractEquals(i)},setPositionByOrigin:function(t,e,n){var r=this.translateToCenterPoint(t,e,n),i=this.translateToOriginPoint(r,this.originX,this.originY);this.set("left",i.x),this.set("top",i.y)},adjustPosition:function(n){var r,i,o=t(this.angle),a=this.getWidth(),s=Math.cos(o)*a,c=Math.sin(o)*a;r="string"===typeof this.originX?e[this.originX]:this.originX-.5,i="string"===typeof n?e[n]:n-.5,this.left+=s*(i-r),this.top+=c*(i-r),this.setCoords(),this.originX=n},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var t=this.getCenterPoint();this.originX="center",this.originY="center",this.left=t.x,this.top=t.y},_resetOrigin:function(){var t=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=t.x,this.top=t.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){function t(t){return[new fabric.Point(t.tl.x,t.tl.y),new fabric.Point(t.tr.x,t.tr.y),new fabric.Point(t.br.x,t.br.y),new fabric.Point(t.bl.x,t.bl.y)]}var e=fabric.util.degreesToRadians,n=fabric.util.multiplyTransformMatrices;fabric.util.object.extend(fabric.Object.prototype,{oCoords:null,intersectsWithRect:function(e,n){var r=t(this.oCoords),i=fabric.Intersection.intersectPolygonRectangle(r,e,n);return"Intersection"===i.status},intersectsWithObject:function(e){var n=fabric.Intersection.intersectPolygonPolygon(t(this.oCoords),t(e.oCoords));return"Intersection"===n.status||e.isContainedWithinObject(this)||this.isContainedWithinObject(e)},isContainedWithinObject:function(e){for(var n=t(this.oCoords),r=0;r<4;r++)if(!e.containsPoint(n[r]))return!1;return!0},isContainedWithinRect:function(t,e){var n=this.getBoundingRect();return n.left>=t.x&&n.left+n.width<=e.x&&n.top>=t.y&&n.top+n.height<=e.y},containsPoint:function(t){this.oCoords||this.setCoords();var e=this._getImageLines(this.oCoords),n=this._findCrossPoints(t,e);return 0!==n&&n%2===1},_getImageLines:function(t){return{topline:{o:t.tl,d:t.tr},rightline:{o:t.tr,d:t.br},bottomline:{o:t.br,d:t.bl},leftline:{o:t.bl,d:t.tl}}},_findCrossPoints:function(t,e){var n,r,i,o,a,s,c=0;for(var l in e)if(s=e[l],!(s.o.y<t.y&&s.d.y<t.y)&&!(s.o.y>=t.y&&s.d.y>=t.y)&&(s.o.x===s.d.x&&s.o.x>=t.x?a=s.o.x:(n=0,r=(s.d.y-s.o.y)/(s.d.x-s.o.x),i=t.y-n*t.x,o=s.o.y-r*s.o.x,a=-(i-o)/(n-r)),a>=t.x&&(c+=1),2===c))break;return c},getBoundingRectWidth:function(){return this.getBoundingRect().width},getBoundingRectHeight:function(){return this.getBoundingRect().height},getBoundingRect:function(t){var e=this.calcCoords(t);return fabric.util.makeBoundingBoxFromPoints([e.tl,e.tr,e.br,e.bl])},getWidth:function(){return this._getTransformedDimensions().x},getHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(t){return Math.abs(t)<this.minScaleLimit?t<0?-this.minScaleLimit:this.minScaleLimit:t},scale:function(t){return t=this._constrainScale(t),t<0&&(this.flipX=!this.flipX,this.flipY=!this.flipY,t*=-1),this.scaleX=t,this.scaleY=t,this.setCoords()},scaleToWidth:function(t){var e=this.getBoundingRect().width/this.getWidth();return this.scale(t/this.width/e)},scaleToHeight:function(t){var e=this.getBoundingRect().height/this.getHeight();return this.scale(t/this.height/e)},calcCoords:function(t){var n=e(this.angle),r=this.getViewportTransform(),i=t?this._getTransformedDimensions():this._calculateCurrentDimensions(),o=i.x,a=i.y,s=Math.sin(n),c=Math.cos(n),l=o>0?Math.atan(a/o):0,u=o/Math.cos(l)/2,h=Math.cos(l+n)*u,f=Math.sin(l+n)*u,d=this.getCenterPoint(),p=t?d:fabric.util.transformPoint(d,r),g=new fabric.Point(p.x-h,p.y-f),m=new fabric.Point(g.x+o*c,g.y+o*s),v=new fabric.Point(g.x-a*s,g.y+a*c),b=new fabric.Point(p.x+h,p.y+f);if(!t)var y=new fabric.Point((g.x+v.x)/2,(g.y+v.y)/2),w=new fabric.Point((m.x+g.x)/2,(m.y+g.y)/2),_=new fabric.Point((b.x+m.x)/2,(b.y+m.y)/2),x=new fabric.Point((b.x+v.x)/2,(b.y+v.y)/2),S=new fabric.Point(w.x+s*this.rotatingPointOffset,w.y-c*this.rotatingPointOffset);p={tl:g,tr:m,br:b,bl:v};return t||(p.ml=y,p.mt=w,p.mr=_,p.mb=x,p.mtr=S),p},setCoords:function(t,e){return this.oCoords=this.calcCoords(t),e||t||(this.absoluteCoords=this.calcCoords(!0)),t||this._setCornerCoords&&this._setCornerCoords(),this},_calcRotateMatrix:function(){if(this.angle){var t=e(this.angle),n=Math.cos(t),r=Math.sin(t);return[n,r,-r,n,0,0]}return[1,0,0,1,0,0]},calcTransformMatrix:function(){var t=this.getCenterPoint(),e=[1,0,0,1,t.x,t.y],r=this._calcRotateMatrix(),i=this._calcDimensionsTransformMatrix(this.skewX,this.skewY,!0),o=this.group?this.group.calcTransformMatrix():[1,0,0,1,0,0];return o=n(o,e),o=n(o,r),o=n(o,i),o},_calcDimensionsTransformMatrix:function(t,r,i){var o=[1,0,Math.tan(e(t)),1],a=[1,Math.tan(e(r)),0,1],s=this.scaleX*(i&&this.flipX?-1:1),c=this.scaleY*(i&&this.flipY?-1:1),l=[s,0,0,c],u=n(l,o,!0);return n(u,a,!0)}})}(),fabric.util.object.extend(fabric.Object.prototype,{sendToBack:function(){return this.group?fabric.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?fabric.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas.bringToFront(this),this},sendBackwards:function(t){return this.group?fabric.StaticCanvas.prototype.sendBackwards.call(this.group,this,t):this.canvas.sendBackwards(this,t),this},bringForward:function(t){return this.group?fabric.StaticCanvas.prototype.bringForward.call(this.group,this,t):this.canvas.bringForward(this,t),this},moveTo:function(t){return this.group?fabric.StaticCanvas.prototype.moveTo.call(this.group,this,t):this.canvas.moveTo(this,t),this}}),function(){function t(t,e){if(e){if(e.toLive)return t+": url(#SVGID_"+e.id+"); ";var n=new fabric.Color(e),r=t+": "+n.toRgb()+"; ",i=n.getAlpha();return 1!==i&&(r+=t+"-opacity: "+i.toString()+"; "),r}return t+": none; "}fabric.util.object.extend(fabric.Object.prototype,{getSvgStyles:function(e){var n=this.fillRule,r=this.strokeWidth?this.strokeWidth:"0",i=this.strokeDashArray?this.strokeDashArray.join(" "):"none",o=this.strokeLineCap?this.strokeLineCap:"butt",a=this.strokeLineJoin?this.strokeLineJoin:"miter",s=this.strokeMiterLimit?this.strokeMiterLimit:"4",c="undefined"!==typeof this.opacity?this.opacity:"1",l=this.visible?"":" visibility: hidden;",u=e?"":this.getSvgFilter(),h=t("fill",this.fill),f=t("stroke",this.stroke);return[f,"stroke-width: ",r,"; ","stroke-dasharray: ",i,"; ","stroke-linecap: ",o,"; ","stroke-linejoin: ",a,"; ","stroke-miterlimit: ",s,"; ",h,"fill-rule: ",n,"; ","opacity: ",c,";",u,l].join("")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgId:function(){return this.id?'id="'+this.id+'" ':""},getSvgTransform:function(){if(this.group&&"path-group"===this.group.type)return"";var t=fabric.util.toFixed,e=this.getAngle(),n=this.getSkewX()%360,r=this.getSkewY()%360,i=this.getCenterPoint(),o=fabric.Object.NUM_FRACTION_DIGITS,a="path-group"===this.type?"":"translate("+t(i.x,o)+" "+t(i.y,o)+")",s=0!==e?" rotate("+t(e,o)+")":"",c=1===this.scaleX&&1===this.scaleY?"":" scale("+t(this.scaleX,o)+" "+t(this.scaleY,o)+")",l=0!==n?" skewX("+t(n,o)+")":"",u=0!==r?" skewY("+t(r,o)+")":"",h="path-group"===this.type?this.width:0,f=this.flipX?" matrix(-1 0 0 1 "+h+" 0) ":"",d="path-group"===this.type?this.height:0,p=this.flipY?" matrix(1 0 0 -1 0 "+d+")":"";return[a,s,c,f,p,l,u].join("")},getSvgTransformMatrix:function(){return this.transformMatrix?" matrix("+this.transformMatrix.join(" ")+") ":""},_createBaseSVGMarkup:function(){var t=[];return this.fill&&this.fill.toLive&&t.push(this.fill.toSVG(this,!1)),this.stroke&&this.stroke.toLive&&t.push(this.stroke.toSVG(this,!1)),this.shadow&&t.push(this.shadow.toSVG(this)),t}})}(),function(){var t=fabric.util.object.extend,e="stateProperties";function n(e,n,r){var i={},o=!0;r.forEach((function(t){i[t]=e[t]})),t(e[n],i,o)}function r(t,e,n){if(!fabric.isLikelyNode&&t instanceof Element)return t===e;if(t instanceof Array){if(t.length!==e.length)return!1;for(var i=0,o=t.length;i<o;i++)if(t[i]!==e[i])return!1;return!0}if(t&&"object"===typeof t){if(!n&&Object.keys(t).length!==Object.keys(e).length)return!1;for(var a in t)if(!r(t[a],e[a]))return!1;return!0}return t===e}fabric.util.object.extend(fabric.Object.prototype,{hasStateChanged:function(t){return t=t||e,t="_"+t,!r(this[t],this,!0)},saveState:function(t){var r=t&&t.propertySet||e,i="_"+r;return this[i]?(n(this,i,this[r]),t&&t.stateProperties&&n(this,i,t.stateProperties),this):this.setupState(t)},setupState:function(t){t=t||{};var n=t.propertySet||e;return t.propertySet=n,this["_"+n]={},this.saveState(t),this}})}(),function(){var t=fabric.util.degreesToRadians,e=function(){return"undefined"!==typeof G_vmlCanvasManager};fabric.util.object.extend(fabric.Object.prototype,{_controlsVisibility:null,_findTargetCorner:function(t){if(!this.hasControls||!this.active)return!1;var e,n,r=t.x,i=t.y;for(var o in this.__corner=0,this.oCoords)if(this.isControlVisible(o)&&("mtr"!==o||this.hasRotatingPoint)&&(!this.get("lockUniScaling")||"mt"!==o&&"mr"!==o&&"mb"!==o&&"ml"!==o)&&(n=this._getImageLines(this.oCoords[o].corner),e=this._findCrossPoints({x:r,y:i},n),0!==e&&e%2===1))return this.__corner=o,o;return!1},_setCornerCoords:function(){var e,n,r=this.oCoords,i=t(45-this.angle),o=.707106*this.cornerSize,a=o*Math.cos(i),s=o*Math.sin(i);for(var c in r)e=r[c].x,n=r[c].y,r[c].corner={tl:{x:e-s,y:n-a},tr:{x:e+a,y:n-s},bl:{x:e-a,y:n+s},br:{x:e+s,y:n+a}}},_getNonTransformedDimensions:function(){var t=this.strokeWidth,e=this.width+t,n=this.height+t;return{x:e,y:n}},_getTransformedDimensions:function(t,e){"undefined"===typeof t&&(t=this.skewX),"undefined"===typeof e&&(e=this.skewY);var n,r,i=this._getNonTransformedDimensions(),o=i.x/2,a=i.y/2,s=[{x:-o,y:-a},{x:o,y:-a},{x:-o,y:a},{x:o,y:a}],c=this._calcDimensionsTransformMatrix(t,e,!1);for(n=0;n<s.length;n++)s[n]=fabric.util.transformPoint(s[n],c);return r=fabric.util.makeBoundingBoxFromPoints(s),{x:r.width,y:r.height}},_calculateCurrentDimensions:function(){var t=this.getViewportTransform(),e=this._getTransformedDimensions(),n=fabric.util.transformPoint(e,t,!0);return n.scalarAdd(2*this.padding)},drawSelectionBackground:function(e){if(!this.selectionBackgroundColor||this.group||!this.active)return this;e.save();var n=this.getCenterPoint(),r=this._calculateCurrentDimensions(),i=this.canvas.viewportTransform;return e.translate(n.x,n.y),e.scale(1/i[0],1/i[3]),e.rotate(t(this.angle)),e.fillStyle=this.selectionBackgroundColor,e.fillRect(-r.x/2,-r.y/2,r.x,r.y),e.restore(),this},drawBorders:function(t){if(!this.hasBorders)return this;var e=this._calculateCurrentDimensions(),n=1/this.borderScaleFactor,r=e.x+n,i=e.y+n;if(t.save(),t.strokeStyle=this.borderColor,this._setLineDash(t,this.borderDashArray,null),t.strokeRect(-r/2,-i/2,r,i),this.hasRotatingPoint&&this.isControlVisible("mtr")&&!this.get("lockRotation")&&this.hasControls){var o=-i/2;t.beginPath(),t.moveTo(0,o),t.lineTo(0,o-this.rotatingPointOffset),t.closePath(),t.stroke()}return t.restore(),this},drawBordersInGroup:function(t,e){if(!this.hasBorders)return this;var n=this._getNonTransformedDimensions(),r=fabric.util.customTransformMatrix(e.scaleX,e.scaleY,e.skewX),i=fabric.util.transformPoint(n,r),o=1/this.borderScaleFactor,a=i.x+o,s=i.y+o;return t.save(),this._setLineDash(t,this.borderDashArray,null),t.strokeStyle=this.borderColor,t.strokeRect(-a/2,-s/2,a,s),t.restore(),this},drawControls:function(t){if(!this.hasControls)return this;var e=this._calculateCurrentDimensions(),n=e.x,r=e.y,i=this.cornerSize,o=-(n+i)/2,a=-(r+i)/2,s=this.transparentCorners?"stroke":"fill";return t.save(),t.strokeStyle=t.fillStyle=this.cornerColor,this.transparentCorners||(t.strokeStyle=this.cornerStrokeColor),this._setLineDash(t,this.cornerDashArray,null),this._drawControl("tl",t,s,o,a),this._drawControl("tr",t,s,o+n,a),this._drawControl("bl",t,s,o,a+r),this._drawControl("br",t,s,o+n,a+r),this.get("lockUniScaling")||(this._drawControl("mt",t,s,o+n/2,a),this._drawControl("mb",t,s,o+n/2,a+r),this._drawControl("mr",t,s,o+n,a+r/2),this._drawControl("ml",t,s,o,a+r/2)),this.hasRotatingPoint&&this._drawControl("mtr",t,s,o+n/2,a-this.rotatingPointOffset),t.restore(),this},_drawControl:function(t,n,r,i,o){if(this.isControlVisible(t)){var a=this.cornerSize,s=!this.transparentCorners&&this.cornerStrokeColor;switch(this.cornerStyle){case"circle":n.beginPath(),n.arc(i+a/2,o+a/2,a/2,0,2*Math.PI,!1),n[r](),s&&n.stroke();break;default:e()||this.transparentCorners||n.clearRect(i,o,a,a),n[r+"Rect"](i,o,a,a),s&&n.strokeRect(i,o,a,a)}}},isControlVisible:function(t){return this._getControlsVisibility()[t]},setControlVisible:function(t,e){return this._getControlsVisibility()[t]=e,this},setControlsVisibility:function(t){for(var e in t||(t={}),t)this.setControlVisible(e,t[e]);return this},_getControlsVisibility:function(){return this._controlsVisibility||(this._controlsVisibility={tl:!0,tr:!0,br:!0,bl:!0,ml:!0,mt:!0,mr:!0,mb:!0,mtr:!0}),this._controlsVisibility}})}(),fabric.util.object.extend(fabric.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(t,e){e=e||{};var n=function(){},r=e.onComplete||n,i=e.onChange||n,o=this;return fabric.util.animate({startValue:t.get("left"),endValue:this.getCenter().left,duration:this.FX_DURATION,onChange:function(e){t.set("left",e),o.renderAll(),i()},onComplete:function(){t.setCoords(),r()}}),this},fxCenterObjectV:function(t,e){e=e||{};var n=function(){},r=e.onComplete||n,i=e.onChange||n,o=this;return fabric.util.animate({startValue:t.get("top"),endValue:this.getCenter().top,duration:this.FX_DURATION,onChange:function(e){t.set("top",e),o.renderAll(),i()},onComplete:function(){t.setCoords(),r()}}),this},fxRemove:function(t,e){e=e||{};var n=function(){},r=e.onComplete||n,i=e.onChange||n,o=this;return fabric.util.animate({startValue:t.get("opacity"),endValue:0,duration:this.FX_DURATION,onStart:function(){t.set("active",!1)},onChange:function(e){t.set("opacity",e),o.renderAll(),i()},onComplete:function(){o.remove(t),r()}}),this}}),fabric.util.object.extend(fabric.Object.prototype,{animate:function(){if(arguments[0]&&"object"===typeof arguments[0]){var t,e,n=[];for(t in arguments[0])n.push(t);for(var r=0,i=n.length;r<i;r++)t=n[r],e=r!==i-1,this._animate(t,arguments[0][t],arguments[1],e)}else this._animate.apply(this,arguments);return this},_animate:function(t,e,n,r){var i,o=this;e=e.toString(),n=n?fabric.util.object.clone(n):{},~t.indexOf(".")&&(i=t.split("."));var a=i?this.get(i[0])[i[1]]:this.get(t);"from"in n||(n.from=a),e=~e.indexOf("=")?a+parseFloat(e.replace("=","")):parseFloat(e),fabric.util.animate({startValue:n.from,endValue:e,byValue:n.by,easing:n.easing,duration:n.duration,abort:n.abort&&function(){return n.abort.call(o)},onChange:function(e){i?o[i[0]][i[1]]=e:o.set(t,e),r||n.onChange&&n.onChange()},onComplete:function(){r||(o.setCoords(),n.onComplete&&n.onComplete())}})}}),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend,r=e.util.object.clone,i={x1:1,x2:1,y1:1,y2:1},o=e.StaticCanvas.supports("setLineDash");if(e.Line)e.warn("fabric.Line is already defined");else{var a=e.Object.prototype.cacheProperties.concat();a.push("x1","x2","y1","y2"),e.Line=e.util.createClass(e.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:a,initialize:function(t,e){t||(t=[0,0,0,0]),this.callSuper("initialize",e),this.set("x1",t[0]),this.set("y1",t[1]),this.set("x2",t[2]),this.set("y2",t[3]),this._setWidthHeight(e)},_setWidthHeight:function(t){t||(t={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in t?t.left:this._getLeftToOriginX(),this.top="top"in t?t.top:this._getTopToOriginY()},_set:function(t,e){return this.callSuper("_set",t,e),"undefined"!==typeof i[t]&&this._setWidthHeight(),this},_getLeftToOriginX:s({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:s({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(t,e){if(t.beginPath(),e){var n=this.getCenterPoint();t.translate(n.x-this.strokeWidth/2,n.y-this.strokeWidth/2)}if(!this.strokeDashArray||this.strokeDashArray&&o){var r=this.calcLinePoints();t.moveTo(r.x1,r.y1),t.lineTo(r.x2,r.y2)}t.lineWidth=this.strokeWidth;var i=t.strokeStyle;t.strokeStyle=this.stroke||t.fillStyle,this.stroke&&this._renderStroke(t),t.strokeStyle=i},_renderDashedStroke:function(t){var n=this.calcLinePoints();t.beginPath(),e.util.drawDashedLine(t,n.x1,n.y1,n.x2,n.y2,this.strokeDashArray),t.closePath()},toObject:function(t){return n(this.callSuper("toObject",t),this.calcLinePoints())},_getNonTransformedDimensions:function(){var t=this.callSuper("_getNonTransformedDimensions");return"butt"===this.strokeLineCap&&(0===t.x&&(t.y-=this.strokeWidth),0===t.y&&(t.x-=this.strokeWidth)),t},calcLinePoints:function(){var t=this.x1<=this.x2?-1:1,e=this.y1<=this.y2?-1:1,n=t*this.width*.5,r=e*this.height*.5,i=t*this.width*-.5,o=e*this.height*-.5;return{x1:n,x2:i,y1:r,y2:o}},toSVG:function(t){var e=this._createBaseSVGMarkup(),n={x1:this.x1,x2:this.x2,y1:this.y1,y2:this.y2};return this.group&&"path-group"===this.group.type||(n=this.calcLinePoints()),e.push("<line ",this.getSvgId(),'x1="',n.x1,'" y1="',n.y1,'" x2="',n.x2,'" y2="',n.y2,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform(),this.getSvgTransformMatrix(),'"/>\n'),t?t(e.join("")):e.join("")},complexity:function(){return 1}}),e.Line.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),e.Line.fromElement=function(t,r){r=r||{};var i=e.parseAttributes(t,e.Line.ATTRIBUTE_NAMES),o=[i.x1||0,i.y1||0,i.x2||0,i.y2||0];return r.originX="left",r.originY="top",new e.Line(o,n(i,r))},e.Line.fromObject=function(t,n,i){function o(t){delete t.points,n&&n(t)}var a=r(t,!0);a.points=[t.x1,t.y1,t.x2,t.y2];var s=e.Object._fromObject("Line",a,o,i,"points");return s&&delete s.points,s}}function s(t,e){var n=t.origin,r=t.axis1,i=t.axis2,o=t.dimension,a=e.nearest,s=e.center,c=e.farthest;return function(){switch(this.get(n)){case a:return Math.min(this.get(r),this.get(i));case s:return Math.min(this.get(r),this.get(i))+.5*this.get(o);case c:return Math.max(this.get(r),this.get(i))}}}}(exports),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=Math.PI,r=e.util.object.extend;if(e.Circle)e.warn("fabric.Circle is already defined.");else{var i=e.Object.prototype.cacheProperties.concat();i.push("radius"),e.Circle=e.util.createClass(e.Object,{type:"circle",radius:0,startAngle:0,endAngle:2*n,cacheProperties:i,initialize:function(t){this.callSuper("initialize",t),this.set("radius",t&&t.radius||0)},_set:function(t,e){return this.callSuper("_set",t,e),"radius"===t&&this.setRadius(e),this},toObject:function(t){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(t))},toSVG:function(t){var e=this._createBaseSVGMarkup(),r=0,i=0,o=(this.endAngle-this.startAngle)%(2*n);if(0===o)this.group&&"path-group"===this.group.type&&(r=this.left+this.radius,i=this.top+this.radius),e.push("<circle ",this.getSvgId(),'cx="'+r+'" cy="'+i+'" ','r="',this.radius,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform()," ",this.getSvgTransformMatrix(),'"/>\n');else{var a=Math.cos(this.startAngle)*this.radius,s=Math.sin(this.startAngle)*this.radius,c=Math.cos(this.endAngle)*this.radius,l=Math.sin(this.endAngle)*this.radius,u=o>n?"1":"0";e.push('<path d="M '+a+" "+s," A "+this.radius+" "+this.radius," 0 ",+u+" 1"," "+c+" "+l,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform()," ",this.getSvgTransformMatrix(),'"/>\n')}return t?t(e.join("")):e.join("")},_render:function(t,e){t.beginPath(),t.arc(e?this.left+this.radius:0,e?this.top+this.radius:0,this.radius,this.startAngle,this.endAngle,!1),this._renderFill(t),this._renderStroke(t)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(t){return this.radius=t,this.set("width",2*t).set("height",2*t)},complexity:function(){return 1}}),e.Circle.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),e.Circle.fromElement=function(t,n){n||(n={});var i=e.parseAttributes(t,e.Circle.ATTRIBUTE_NAMES);if(!o(i))throw new Error("value of `r` attribute is required and can not be negative");i.left=i.left||0,i.top=i.top||0;var a=new e.Circle(r(i,n));return a.left-=a.radius,a.top-=a.radius,a},e.Circle.fromObject=function(t,n,r){return e.Object._fromObject("Circle",t,n,r)}}function o(t){return"radius"in t&&t.radius>=0}}(exports),function(t){"use strict";var e=t.fabric||(t.fabric={});e.Triangle?e.warn("fabric.Triangle is already defined"):(e.Triangle=e.util.createClass(e.Object,{type:"triangle",initialize:function(t){this.callSuper("initialize",t),this.set("width",t&&t.width||100).set("height",t&&t.height||100)},_render:function(t){var e=this.width/2,n=this.height/2;t.beginPath(),t.moveTo(-e,n),t.lineTo(0,-n),t.lineTo(e,n),t.closePath(),this._renderFill(t),this._renderStroke(t)},_renderDashedStroke:function(t){var n=this.width/2,r=this.height/2;t.beginPath(),e.util.drawDashedLine(t,-n,r,0,-r,this.strokeDashArray),e.util.drawDashedLine(t,0,-r,n,r,this.strokeDashArray),e.util.drawDashedLine(t,n,r,-n,r,this.strokeDashArray),t.closePath()},toSVG:function(t){var e=this._createBaseSVGMarkup(),n=this.width/2,r=this.height/2,i=[-n+" "+r,"0 "+-r,n+" "+r].join(",");return e.push("<polygon ",this.getSvgId(),'points="',i,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform(),'"/>'),t?t(e.join("")):e.join("")},complexity:function(){return 1}}),e.Triangle.fromObject=function(t,n,r){return e.Object._fromObject("Triangle",t,n,r)})}(exports),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=2*Math.PI,r=e.util.object.extend;if(e.Ellipse)e.warn("fabric.Ellipse is already defined.");else{var i=e.Object.prototype.cacheProperties.concat();i.push("rx","ry"),e.Ellipse=e.util.createClass(e.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:i,initialize:function(t){this.callSuper("initialize",t),this.set("rx",t&&t.rx||0),this.set("ry",t&&t.ry||0)},_set:function(t,e){switch(this.callSuper("_set",t,e),t){case"rx":this.rx=e,this.set("width",2*e);break;case"ry":this.ry=e,this.set("height",2*e);break}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(t){return this.callSuper("toObject",["rx","ry"].concat(t))},toSVG:function(t){var e=this._createBaseSVGMarkup(),n=0,r=0;return this.group&&"path-group"===this.group.type&&(n=this.left+this.rx,r=this.top+this.ry),e.push("<ellipse ",this.getSvgId(),'cx="',n,'" cy="',r,'" ','rx="',this.rx,'" ry="',this.ry,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform(),this.getSvgTransformMatrix(),'"/>\n'),t?t(e.join("")):e.join("")},_render:function(t,e){t.beginPath(),t.save(),t.transform(1,0,0,this.ry/this.rx,0,0),t.arc(e?this.left+this.rx:0,e?(this.top+this.ry)*this.rx/this.ry:0,this.rx,0,n,!1),t.restore(),this._renderFill(t),this._renderStroke(t)},complexity:function(){return 1}}),e.Ellipse.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),e.Ellipse.fromElement=function(t,n){n||(n={});var i=e.parseAttributes(t,e.Ellipse.ATTRIBUTE_NAMES);i.left=i.left||0,i.top=i.top||0;var o=new e.Ellipse(r(i,n));return o.top-=o.ry,o.left-=o.rx,o},e.Ellipse.fromObject=function(t,n,r){return e.Object._fromObject("Ellipse",t,n,r)}}}(exports),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend;if(e.Rect)e.warn("fabric.Rect is already defined");else{var r=e.Object.prototype.stateProperties.concat();r.push("rx","ry"),e.Rect=e.util.createClass(e.Object,{stateProperties:r,type:"rect",rx:0,ry:0,strokeDashArray:null,initialize:function(t){this.callSuper("initialize",t),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(t,e){if(1!==this.width||1!==this.height){var n=this.rx?Math.min(this.rx,this.width/2):0,r=this.ry?Math.min(this.ry,this.height/2):0,i=this.width,o=this.height,a=e?this.left:-this.width/2,s=e?this.top:-this.height/2,c=0!==n||0!==r,l=.4477152502;t.beginPath(),t.moveTo(a+n,s),t.lineTo(a+i-n,s),c&&t.bezierCurveTo(a+i-l*n,s,a+i,s+l*r,a+i,s+r),t.lineTo(a+i,s+o-r),c&&t.bezierCurveTo(a+i,s+o-l*r,a+i-l*n,s+o,a+i-n,s+o),t.lineTo(a+n,s+o),c&&t.bezierCurveTo(a+l*n,s+o,a,s+o-l*r,a,s+o-r),t.lineTo(a,s+r),c&&t.bezierCurveTo(a,s+l*r,a+l*n,s,a+n,s),t.closePath(),this._renderFill(t),this._renderStroke(t)}else t.fillRect(-.5,-.5,1,1)},_renderDashedStroke:function(t){var n=-this.width/2,r=-this.height/2,i=this.width,o=this.height;t.beginPath(),e.util.drawDashedLine(t,n,r,n+i,r,this.strokeDashArray),e.util.drawDashedLine(t,n+i,r,n+i,r+o,this.strokeDashArray),e.util.drawDashedLine(t,n+i,r+o,n,r+o,this.strokeDashArray),e.util.drawDashedLine(t,n,r+o,n,r,this.strokeDashArray),t.closePath()},toObject:function(t){return this.callSuper("toObject",["rx","ry"].concat(t))},toSVG:function(t){var e=this._createBaseSVGMarkup(),n=this.left,r=this.top;return this.group&&"path-group"===this.group.type||(n=-this.width/2,r=-this.height/2),e.push("<rect ",this.getSvgId(),'x="',n,'" y="',r,'" rx="',this.get("rx"),'" ry="',this.get("ry"),'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform(),this.getSvgTransformMatrix(),'"/>\n'),t?t(e.join("")):e.join("")},complexity:function(){return 1}}),e.Rect.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),e.Rect.fromElement=function(t,r){if(!t)return null;r=r||{};var i=e.parseAttributes(t,e.Rect.ATTRIBUTE_NAMES);i.left=i.left||0,i.top=i.top||0;var o=new e.Rect(n(r?e.util.object.clone(r):{},i));return o.visible=o.visible&&o.width>0&&o.height>0,o},e.Rect.fromObject=function(t,n,r){return e.Object._fromObject("Rect",t,n,r)}}}(exports),function(t){"use strict";var e=t.fabric||(t.fabric={});if(e.Polyline)e.warn("fabric.Polyline is already defined");else{var n=e.Object.prototype.cacheProperties.concat();n.push("points"),e.Polyline=e.util.createClass(e.Object,{type:"polyline",points:null,minX:0,minY:0,cacheProperties:n,initialize:function(t,n){return e.Polygon.prototype.initialize.call(this,t,n)},_calcDimensions:function(){return e.Polygon.prototype._calcDimensions.call(this)},toObject:function(t){return e.Polygon.prototype.toObject.call(this,t)},toSVG:function(t){return e.Polygon.prototype.toSVG.call(this,t)},_render:function(t,n){e.Polygon.prototype.commonRender.call(this,t,n)&&(this._renderFill(t),this._renderStroke(t))},_renderDashedStroke:function(t){var n,r;t.beginPath();for(var i=0,o=this.points.length;i<o;i++)n=this.points[i],r=this.points[i+1]||n,e.util.drawDashedLine(t,n.x,n.y,r.x,r.y,this.strokeDashArray)},complexity:function(){return this.get("points").length}}),e.Polyline.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat(),e.Polyline.fromElement=function(t,n){if(!t)return null;n||(n={});var r=e.parsePointsAttribute(t.getAttribute("points")),i=e.parseAttributes(t,e.Polyline.ATTRIBUTE_NAMES);return new e.Polyline(r,e.util.object.extend(i,n))},e.Polyline.fromObject=function(t,n,r){return e.Object._fromObject("Polyline",t,n,r,"points")}}}(exports),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend,r=e.util.array.min,i=e.util.array.max,o=e.util.toFixed;if(e.Polygon)e.warn("fabric.Polygon is already defined");else{var a=e.Object.prototype.cacheProperties.concat();a.push("points"),e.Polygon=e.util.createClass(e.Object,{type:"polygon",points:null,minX:0,minY:0,cacheProperties:a,initialize:function(t,e){e=e||{},this.points=t||[],this.callSuper("initialize",e),this._calcDimensions(),"top"in e||(this.top=this.minY),"left"in e||(this.left=this.minX),this.pathOffset={x:this.minX+this.width/2,y:this.minY+this.height/2}},_calcDimensions:function(){var t=this.points,e=r(t,"x"),n=r(t,"y"),o=i(t,"x"),a=i(t,"y");this.width=o-e||0,this.height=a-n||0,this.minX=e||0,this.minY=n||0},toObject:function(t){return n(this.callSuper("toObject",t),{points:this.points.concat()})},toSVG:function(t){for(var e,n=[],r=this._createBaseSVGMarkup(),i=0,a=this.points.length;i<a;i++)n.push(o(this.points[i].x,2),",",o(this.points[i].y,2)," ");return this.group&&"path-group"===this.group.type||(e=" translate("+-this.pathOffset.x+", "+-this.pathOffset.y+") "),r.push("<",this.type," ",this.getSvgId(),'points="',n.join(""),'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform(),e," ",this.getSvgTransformMatrix(),'"/>\n'),t?t(r.join("")):r.join("")},_render:function(t,e){this.commonRender(t,e)&&(this._renderFill(t),(this.stroke||this.strokeDashArray)&&(t.closePath(),this._renderStroke(t)))},commonRender:function(t,e){var n,r=this.points.length,i=e?0:this.pathOffset.x,o=e?0:this.pathOffset.y;if(!r||isNaN(this.points[r-1].y))return!1;t.beginPath(),t.moveTo(this.points[0].x-i,this.points[0].y-o);for(var a=0;a<r;a++)n=this.points[a],t.lineTo(n.x-i,n.y-o);return!0},_renderDashedStroke:function(t){e.Polyline.prototype._renderDashedStroke.call(this,t),t.closePath()},complexity:function(){return this.points.length}}),e.Polygon.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat(),e.Polygon.fromElement=function(t,r){if(!t)return null;r||(r={});var i=e.parsePointsAttribute(t.getAttribute("points")),o=e.parseAttributes(t,e.Polygon.ATTRIBUTE_NAMES);return new e.Polygon(i,n(o,r))},e.Polygon.fromObject=function(t,n,r){return e.Object._fromObject("Polygon",t,n,r,"points")}}}(exports),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.array.min,r=e.util.array.max,i=e.util.object.extend,o=Object.prototype.toString,a=e.util.drawArc,s={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},c={m:"l",M:"L"};if(e.Path)e.warn("fabric.Path is already defined");else{var l=e.Object.prototype.cacheProperties.concat();l.push("path"),e.Path=e.util.createClass(e.Object,{type:"path",path:null,minX:0,minY:0,cacheProperties:l,initialize:function(t,e){e=e||{},e&&this.setOptions(e),t||(t=[]);var n="[object Array]"===o.call(t);this.path=n?t:t.match&&t.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi),this.path&&(n||(this.path=this._parsePath()),this._setPositionDimensions(e),e.sourcePath&&this.setSourcePath(e.sourcePath),this.objectCaching&&(this._createCacheCanvas(),this.setupState({propertySet:"cacheProperties"})))},_setPositionDimensions:function(t){var e=this._parseDimensions();this.minX=e.left,this.minY=e.top,this.width=e.width,this.height=e.height,"undefined"===typeof t.left&&(this.left=e.left+("center"===this.originX?this.width/2:"right"===this.originX?this.width:0)),"undefined"===typeof t.top&&(this.top=e.top+("center"===this.originY?this.height/2:"bottom"===this.originY?this.height:0)),this.pathOffset=this.pathOffset||{x:this.minX+this.width/2,y:this.minY+this.height/2}},_renderPathCommands:function(t){var e,n,r,i=null,o=0,s=0,c=0,l=0,u=0,h=0,f=-this.pathOffset.x,d=-this.pathOffset.y;this.group&&"path-group"===this.group.type&&(f=0,d=0),t.beginPath();for(var p=0,g=this.path.length;p<g;++p){switch(e=this.path[p],e[0]){case"l":c+=e[1],l+=e[2],t.lineTo(c+f,l+d);break;case"L":c=e[1],l=e[2],t.lineTo(c+f,l+d);break;case"h":c+=e[1],t.lineTo(c+f,l+d);break;case"H":c=e[1],t.lineTo(c+f,l+d);break;case"v":l+=e[1],t.lineTo(c+f,l+d);break;case"V":l=e[1],t.lineTo(c+f,l+d);break;case"m":c+=e[1],l+=e[2],o=c,s=l,t.moveTo(c+f,l+d);break;case"M":c=e[1],l=e[2],o=c,s=l,t.moveTo(c+f,l+d);break;case"c":n=c+e[5],r=l+e[6],u=c+e[3],h=l+e[4],t.bezierCurveTo(c+e[1]+f,l+e[2]+d,u+f,h+d,n+f,r+d),c=n,l=r;break;case"C":c=e[5],l=e[6],u=e[3],h=e[4],t.bezierCurveTo(e[1]+f,e[2]+d,u+f,h+d,c+f,l+d);break;case"s":n=c+e[3],r=l+e[4],null===i[0].match(/[CcSs]/)?(u=c,h=l):(u=2*c-u,h=2*l-h),t.bezierCurveTo(u+f,h+d,c+e[1]+f,l+e[2]+d,n+f,r+d),u=c+e[1],h=l+e[2],c=n,l=r;break;case"S":n=e[3],r=e[4],null===i[0].match(/[CcSs]/)?(u=c,h=l):(u=2*c-u,h=2*l-h),t.bezierCurveTo(u+f,h+d,e[1]+f,e[2]+d,n+f,r+d),c=n,l=r,u=e[1],h=e[2];break;case"q":n=c+e[3],r=l+e[4],u=c+e[1],h=l+e[2],t.quadraticCurveTo(u+f,h+d,n+f,r+d),c=n,l=r;break;case"Q":n=e[3],r=e[4],t.quadraticCurveTo(e[1]+f,e[2]+d,n+f,r+d),c=n,l=r,u=e[1],h=e[2];break;case"t":n=c+e[1],r=l+e[2],null===i[0].match(/[QqTt]/)?(u=c,h=l):(u=2*c-u,h=2*l-h),t.quadraticCurveTo(u+f,h+d,n+f,r+d),c=n,l=r;break;case"T":n=e[1],r=e[2],null===i[0].match(/[QqTt]/)?(u=c,h=l):(u=2*c-u,h=2*l-h),t.quadraticCurveTo(u+f,h+d,n+f,r+d),c=n,l=r;break;case"a":a(t,c+f,l+d,[e[1],e[2],e[3],e[4],e[5],e[6]+c+f,e[7]+l+d]),c+=e[6],l+=e[7];break;case"A":a(t,c+f,l+d,[e[1],e[2],e[3],e[4],e[5],e[6]+f,e[7]+d]),c=e[6],l=e[7];break;case"z":case"Z":c=o,l=s,t.closePath();break}i=e}},_render:function(t){this._renderPathCommands(t),this._renderFill(t),this._renderStroke(t)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(t){var e=i(this.callSuper("toObject",["sourcePath","pathOffset"].concat(t)),{path:this.path.map((function(t){return t.slice()}))});return e},toDatalessObject:function(t){var e=this.toObject(t);return this.sourcePath&&(e.path=this.sourcePath),delete e.sourcePath,e},toSVG:function(t){for(var e=[],n=this._createBaseSVGMarkup(),r="",i=0,o=this.path.length;i<o;i++)e.push(this.path[i].join(" "));var a=e.join(" ");return this.group&&"path-group"===this.group.type||(r=" translate("+-this.pathOffset.x+", "+-this.pathOffset.y+") "),n.push("<path ",this.getSvgId(),'d="',a,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform(),r,this.getSvgTransformMatrix(),'" stroke-linecap="round" ',"/>\n"),t?t(n.join("")):n.join("")},complexity:function(){return this.path.length},_parsePath:function(){for(var t,e,n,r,i,o=[],a=[],l=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi,u=0,h=this.path.length;u<h;u++){t=this.path[u],r=t.slice(1).trim(),a.length=0;while(n=l.exec(r))a.push(n[0]);i=[t.charAt(0)];for(var f=0,d=a.length;f<d;f++)e=parseFloat(a[f]),isNaN(e)||i.push(e);var p=i[0],g=s[p.toLowerCase()],m=c[p]||p;if(i.length-1>g)for(var v=1,b=i.length;v<b;v+=g)o.push([p].concat(i.slice(v,v+g))),p=m;else o.push(i)}return o},_parseDimensions:function(){for(var t,i,o,a,s=[],c=[],l=null,u=0,h=0,f=0,d=0,p=0,g=0,m=0,v=this.path.length;m<v;++m){switch(t=this.path[m],t[0]){case"l":f+=t[1],d+=t[2],a=[];break;case"L":f=t[1],d=t[2],a=[];break;case"h":f+=t[1],a=[];break;case"H":f=t[1],a=[];break;case"v":d+=t[1],a=[];break;case"V":d=t[1],a=[];break;case"m":f+=t[1],d+=t[2],u=f,h=d,a=[];break;case"M":f=t[1],d=t[2],u=f,h=d,a=[];break;case"c":i=f+t[5],o=d+t[6],p=f+t[3],g=d+t[4],a=e.util.getBoundsOfCurve(f,d,f+t[1],d+t[2],p,g,i,o),f=i,d=o;break;case"C":f=t[5],d=t[6],p=t[3],g=t[4],a=e.util.getBoundsOfCurve(f,d,t[1],t[2],p,g,f,d);break;case"s":i=f+t[3],o=d+t[4],null===l[0].match(/[CcSs]/)?(p=f,g=d):(p=2*f-p,g=2*d-g),a=e.util.getBoundsOfCurve(f,d,p,g,f+t[1],d+t[2],i,o),p=f+t[1],g=d+t[2],f=i,d=o;break;case"S":i=t[3],o=t[4],null===l[0].match(/[CcSs]/)?(p=f,g=d):(p=2*f-p,g=2*d-g),a=e.util.getBoundsOfCurve(f,d,p,g,t[1],t[2],i,o),f=i,d=o,p=t[1],g=t[2];break;case"q":i=f+t[3],o=d+t[4],p=f+t[1],g=d+t[2],a=e.util.getBoundsOfCurve(f,d,p,g,p,g,i,o),f=i,d=o;break;case"Q":p=t[1],g=t[2],a=e.util.getBoundsOfCurve(f,d,p,g,p,g,t[3],t[4]),f=t[3],d=t[4];break;case"t":i=f+t[1],o=d+t[2],null===l[0].match(/[QqTt]/)?(p=f,g=d):(p=2*f-p,g=2*d-g),a=e.util.getBoundsOfCurve(f,d,p,g,p,g,i,o),f=i,d=o;break;case"T":i=t[1],o=t[2],null===l[0].match(/[QqTt]/)?(p=f,g=d):(p=2*f-p,g=2*d-g),a=e.util.getBoundsOfCurve(f,d,p,g,p,g,i,o),f=i,d=o;break;case"a":a=e.util.getBoundsOfArc(f,d,t[1],t[2],t[3],t[4],t[5],t[6]+f,t[7]+d),f+=t[6],d+=t[7];break;case"A":a=e.util.getBoundsOfArc(f,d,t[1],t[2],t[3],t[4],t[5],t[6],t[7]),f=t[6],d=t[7];break;case"z":case"Z":f=u,d=h;break}l=t,a.forEach((function(t){s.push(t.x),c.push(t.y)})),s.push(f),c.push(d)}var b=n(s)||0,y=n(c)||0,w=r(s)||0,_=r(c)||0,x=w-b,S=_-y,C={left:b,top:y,width:x,height:S};return C}}),e.Path.fromObject=function(t,n,r){var i;if("string"!==typeof t.path)return e.Object._fromObject("Path",t,n,r,"path");e.loadSVGFromURL(t.path,(function(r){var o=t.path;i=r[0],delete t.path,e.util.object.extend(i,t),i.setSourcePath(o),n&&n(i)}))},e.Path.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat(["d"]),e.Path.fromElement=function(t,n,r){var o=e.parseAttributes(t,e.Path.ATTRIBUTE_NAMES);n&&n(new e.Path(o.d,i(o,r)))},e.Path.async=!0}}(exports),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend;e.PathGroup?e.warn("fabric.PathGroup is already defined"):(e.PathGroup=e.util.createClass(e.Object,{type:"path-group",fill:"",initialize:function(t,e){e=e||{},this.paths=t||[];for(var n=this.paths.length;n--;)this.paths[n].group=this;e.toBeParsed&&(this.parseDimensionsFromPaths(e),delete e.toBeParsed),this.setOptions(e),this.setCoords(),e.sourcePath&&this.setSourcePath(e.sourcePath),this.objectCaching&&(this._createCacheCanvas(),this.setupState({propertySet:"cacheProperties"}))},parseDimensionsFromPaths:function(t){for(var n,r,i,o,a,s,c=[],l=[],u=this.paths.length;u--;){i=this.paths[u],o=i.height+i.strokeWidth,a=i.width+i.strokeWidth,n=[{x:i.left,y:i.top},{x:i.left+a,y:i.top},{x:i.left,y:i.top+o},{x:i.left+a,y:i.top+o}],s=this.paths[u].transformMatrix;for(var h=0;h<n.length;h++)r=n[h],s&&(r=e.util.transformPoint(r,s,!1)),c.push(r.x),l.push(r.y)}t.width=Math.max.apply(null,c),t.height=Math.max.apply(null,l)},drawObject:function(t){t.save(),t.translate(-this.width/2,-this.height/2);for(var e=0,n=this.paths.length;e<n;++e)this.paths[e].render(t,!0);t.restore()},isCacheDirty:function(){if(this.callSuper("isCacheDirty"))return!0;if(!this.statefullCache)return!1;for(var t=0,e=this.paths.length;t<e;t++)if(this.paths[t].isCacheDirty(!0)){var n=this._getNonTransformedDimensions();return this._cacheContext.clearRect(-n.x/2,-n.y/2,n.x,n.y),!0}return!1},_set:function(t,e){if("fill"===t&&e&&this.isSameColor()){var n=this.paths.length;while(n--)this.paths[n]._set(t,e)}return this.callSuper("_set",t,e)},toObject:function(t){var e=this.paths.map((function(e){var n=e.includeDefaultValues;e.includeDefaultValues=e.group.includeDefaultValues;var r=e.toObject(t);return e.includeDefaultValues=n,r})),r=n(this.callSuper("toObject",["sourcePath"].concat(t)),{paths:e});return r},toDatalessObject:function(t){var e=this.toObject(t);return this.sourcePath&&(e.paths=this.sourcePath),e},toSVG:function(t){var e=this.getObjects(),n=this.getPointByOrigin("left","top"),r="translate("+n.x+" "+n.y+")",i=this._createBaseSVGMarkup();i.push("<g ",this.getSvgId(),'style="',this.getSvgStyles(),'" ','transform="',this.getSvgTransformMatrix(),r,this.getSvgTransform(),'" ',">\n");for(var o=0,a=e.length;o<a;o++)i.push("\t",e[o].toSVG(t));return i.push("</g>\n"),t?t(i.join("")):i.join("")},toString:function(){return"#<fabric.PathGroup ("+this.complexity()+"): { top: "+this.top+", left: "+this.left+" }>"},isSameColor:function(){var t=this.getObjects()[0].get("fill")||"";return"string"===typeof t&&(t=t.toLowerCase(),this.getObjects().every((function(e){var n=e.get("fill")||"";return"string"===typeof n&&n.toLowerCase()===t})))},complexity:function(){return this.paths.reduce((function(t,e){return t+(e&&e.complexity?e.complexity():0)}),0)},getObjects:function(){return this.paths}}),e.PathGroup.fromObject=function(t,n){"string"===typeof t.paths?e.loadSVGFromURL(t.paths,(function(r){var i=t.paths;delete t.paths;var o=e.util.groupSVGElements(r,t,i);n(o)})):e.util.enlivenObjects(t.paths,(function(r){delete t.paths,n(new e.PathGroup(r,t))}))},e.PathGroup.async=!0)}(exports),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend,r=e.util.array.min,i=e.util.array.max;if(!e.Group){var o={lockMovementX:!0,lockMovementY:!0,lockRotation:!0,lockScalingX:!0,lockScalingY:!0,lockUniScaling:!0};e.Group=e.util.createClass(e.Object,e.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,initialize:function(t,e,n){e=e||{},this._objects=[],n&&this.callSuper("initialize",e),this._objects=t||[];for(var r=this._objects.length;r--;)this._objects[r].group=this;this.originalState={},e.originX&&(this.originX=e.originX),e.originY&&(this.originY=e.originY),n?this._updateObjectsCoords(!0):(this._calcBounds(),this._updateObjectsCoords(),this.callSuper("initialize",e)),this.setCoords(),this.saveCoords()},_updateObjectsCoords:function(t){for(var e=this.getCenterPoint(),n=this._objects.length;n--;)this._updateObjectCoords(this._objects[n],e,t)},_updateObjectCoords:function(t,e,n){if(t.__origHasControls=t.hasControls,t.hasControls=!1,!n){var r=t.getLeft(),i=t.getTop(),o=!0;t.set({originalLeft:r,originalTop:i,left:r-e.x,top:i-e.y}),t.setCoords(o)}},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(t){return this._restoreObjectsState(),e.util.resetObjectTransform(this),t&&(this._objects.push(t),t.group=this,t._set("canvas",this.canvas)),this.forEachObject(this._setObjectActive,this),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,this},_setObjectActive:function(t){t.set("active",!0),t.group=this},removeWithUpdate:function(t){return this._restoreObjectsState(),e.util.resetObjectTransform(this),this.forEachObject(this._setObjectActive,this),this.remove(t),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,this},_onObjectAdded:function(t){this.dirty=!0,t.group=this,t._set("canvas",this.canvas)},_onObjectRemoved:function(t){this.dirty=!0,delete t.group,t.set("active",!1)},delegatedProperties:{fill:!0,stroke:!0,strokeWidth:!0,fontFamily:!0,fontWeight:!0,fontSize:!0,fontStyle:!0,lineHeight:!0,textDecoration:!0,textAlign:!0,backgroundColor:!0},_set:function(t,e){var n=this._objects.length;if(this.delegatedProperties[t]||"canvas"===t)while(n--)this._objects[n].set(t,e);else while(n--)this._objects[n].setOnGroup(t,e);this.callSuper("_set",t,e)},toObject:function(t){var e=this.getObjects().map((function(e){var n=e.includeDefaultValues;e.includeDefaultValues=e.group.includeDefaultValues;var r=e.toObject(t);return e.includeDefaultValues=n,r}));return n(this.callSuper("toObject",t),{objects:e})},render:function(t){this._transformDone=!0,this.callSuper("render",t),this._transformDone=!1},drawObject:function(t){for(var e=0,n=this._objects.length;e<n;e++)this._renderObject(this._objects[e],t)},isCacheDirty:function(){if(this.callSuper("isCacheDirty"))return!0;if(!this.statefullCache)return!1;for(var t=0,e=this._objects.length;t<e;t++)if(this._objects[t].isCacheDirty(!0)){var n=this._getNonTransformedDimensions();return this._cacheContext.clearRect(-n.x/2,-n.y/2,n.x,n.y),!0}return!1},_renderControls:function(t,e){t.save(),t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",t,e);for(var n=0,r=this._objects.length;n<r;n++)this._objects[n]._renderControls(t);t.restore()},_renderObject:function(t,e){if(t.visible){var n=t.hasRotatingPoint;t.hasRotatingPoint=!1,t.render(e),t.hasRotatingPoint=n}},_restoreObjectsState:function(){return this._objects.forEach(this._restoreObjectState,this),this},realizeTransform:function(t){var n=t.calcTransformMatrix(),r=e.util.qrDecompose(n),i=new e.Point(r.translateX,r.translateY);return t.flipX=!1,t.flipY=!1,t.set("scaleX",r.scaleX),t.set("scaleY",r.scaleY),t.skewX=r.skewX,t.skewY=r.skewY,t.angle=r.angle,t.setPositionByOrigin(i,"center","center"),t},_restoreObjectState:function(t){return this.realizeTransform(t),t.setCoords(),t.hasControls=t.__origHasControls,delete t.__origHasControls,t.set("active",!1),delete t.group,this},destroy:function(){return this._restoreObjectsState()},saveCoords:function(){return this._originalLeft=this.get("left"),this._originalTop=this.get("top"),this},hasMoved:function(){return this._originalLeft!==this.get("left")||this._originalTop!==this.get("top")},setObjectsCoords:function(){var t=!0;return this.forEachObject((function(e){e.setCoords(t)})),this},_calcBounds:function(t){for(var e,n,r,i=[],o=[],a=["tr","br","bl","tl"],s=0,c=this._objects.length,l=a.length,u=!0;s<c;++s)for(e=this._objects[s],e.setCoords(u),r=0;r<l;r++)n=a[r],i.push(e.oCoords[n].x),o.push(e.oCoords[n].y);this.set(this._getBounds(i,o,t))},_getBounds:function(t,n,o){var a=new e.Point(r(t),r(n)),s=new e.Point(i(t),i(n)),c={width:s.x-a.x||0,height:s.y-a.y||0};return o||(c.left=a.x||0,c.top=a.y||0,"center"===this.originX&&(c.left+=c.width/2),"right"===this.originX&&(c.left+=c.width),"center"===this.originY&&(c.top+=c.height/2),"bottom"===this.originY&&(c.top+=c.height)),c},toSVG:function(t){var e=this._createBaseSVGMarkup();e.push("<g ",this.getSvgId(),'transform="',this.getSvgTransform(),this.getSvgTransformMatrix(),'" style="',this.getSvgFilter(),'">\n');for(var n=0,r=this._objects.length;n<r;n++)e.push("\t",this._objects[n].toSVG(t));return e.push("</g>\n"),t?t(e.join("")):e.join("")},get:function(t){if(t in o){if(this[t])return this[t];for(var e=0,n=this._objects.length;e<n;e++)if(this._objects[e][t])return!0;return!1}return t in this.delegatedProperties?this._objects[0]&&this._objects[0].get(t):this[t]}}),e.Group.fromObject=function(t,n){e.util.enlivenObjects(t.objects,(function(r){delete t.objects,n&&n(new e.Group(r,t,!0))}))},e.Group.async=!0}}(exports),function(t){"use strict";var e=fabric.util.object.extend;if(t.fabric||(t.fabric={}),t.fabric.Image)fabric.warn("fabric.Image is already defined.");else{var n=fabric.Object.prototype.stateProperties.concat();n.push("alignX","alignY","meetOrSlice"),fabric.Image=fabric.util.createClass(fabric.Object,{type:"image",crossOrigin:"",alignX:"none",alignY:"none",meetOrSlice:"meet",strokeWidth:0,_lastScaleX:1,_lastScaleY:1,minimumScaleTrigger:.5,stateProperties:n,objectCaching:!1,initialize:function(t,e,n){e||(e={}),this.filters=[],this.resizeFilters=[],this.callSuper("initialize",e),this._initElement(t,e,n)},getElement:function(){return this._element},setElement:function(t,e,n){var r,i;return this._element=t,this._originalElement=t,this._initConfig(n),0===this.resizeFilters.length?r=e:(i=this,r=function(){i.applyFilters(e,i.resizeFilters,i._filteredEl||i._originalElement,!0)}),0!==this.filters.length?this.applyFilters(r):r&&r(this),this},setCrossOrigin:function(t){return this.crossOrigin=t,this._element.crossOrigin=t,this},getOriginalSize:function(){var t=this.getElement();return{width:t.width,height:t.height}},_stroke:function(t){if(this.stroke&&0!==this.strokeWidth){var e=this.width/2,n=this.height/2;t.beginPath(),t.moveTo(-e,-n),t.lineTo(e,-n),t.lineTo(e,n),t.lineTo(-e,n),t.lineTo(-e,-n),t.closePath()}},_renderDashedStroke:function(t){var e=-this.width/2,n=-this.height/2,r=this.width,i=this.height;t.save(),this._setStrokeStyles(t),t.beginPath(),fabric.util.drawDashedLine(t,e,n,e+r,n,this.strokeDashArray),fabric.util.drawDashedLine(t,e+r,n,e+r,n+i,this.strokeDashArray),fabric.util.drawDashedLine(t,e+r,n+i,e,n+i,this.strokeDashArray),fabric.util.drawDashedLine(t,e,n+i,e,n,this.strokeDashArray),t.closePath(),t.restore()},toObject:function(t){var n=[],r=[],i=1,o=1;this.filters.forEach((function(t){t&&("Resize"===t.type&&(i*=t.scaleX,o*=t.scaleY),n.push(t.toObject()))})),this.resizeFilters.forEach((function(t){t&&r.push(t.toObject())}));var a=e(this.callSuper("toObject",["crossOrigin","alignX","alignY","meetOrSlice"].concat(t)),{src:this.getSrc(),filters:n,resizeFilters:r});return a.width/=i,a.height/=o,a},toSVG:function(t){var e=this._createBaseSVGMarkup(),n=-this.width/2,r=-this.height/2,i="none",o=!0;if(this.group&&"path-group"===this.group.type&&(n=this.left,r=this.top),"none"!==this.alignX&&"none"!==this.alignY&&(i="x"+this.alignX+"Y"+this.alignY+" "+this.meetOrSlice),e.push('<g transform="',this.getSvgTransform(),this.getSvgTransformMatrix(),'">\n',"<image ",this.getSvgId(),'xlink:href="',this.getSvgSrc(o),'" x="',n,'" y="',r,'" style="',this.getSvgStyles(),'" width="',this.width,'" height="',this.height,'" preserveAspectRatio="',i,'"',"></image>\n"),this.stroke||this.strokeDashArray){var a=this.fill;this.fill=null,e.push("<rect ",'x="',n,'" y="',r,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),'"/>\n'),this.fill=a}return e.push("</g>\n"),t?t(e.join("")):e.join("")},getSrc:function(t){var e=t?this._element:this._originalElement;return e?fabric.isLikelyNode?e._src:e.src:this.src||""},setSrc:function(t,e,n){fabric.util.loadImage(t,(function(t){return this.setElement(t,e,n)}),this,n&&n.crossOrigin)},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyFilters:function(t,e,n,r){if(e=e||this.filters,n=n||this._originalElement,n){var i,o,a=fabric.util.createImage(),s=this.canvas?this.canvas.getRetinaScaling():fabric.devicePixelRatio,c=this.minimumScaleTrigger/s,l=this;if(0===e.length)return this._element=n,t&&t(this),n;var u=fabric.util.createCanvasElement();return u.width=n.width,u.height=n.height,u.getContext("2d").drawImage(n,0,0,n.width,n.height),e.forEach((function(t){t&&(r?(i=l.scaleX<c?l.scaleX:1,o=l.scaleY<c?l.scaleY:1,i*s<1&&(i*=s),o*s<1&&(o*=s)):(i=t.scaleX,o=t.scaleY),t.applyTo(u,i,o),r||"Resize"!==t.type||(l.width*=t.scaleX,l.height*=t.scaleY))})),a.width=u.width,a.height=u.height,fabric.isLikelyNode?(a.src=u.toBuffer(void 0,fabric.Image.pngCompression),l._element=a,!r&&(l._filteredEl=a),t&&t(l)):(a.onload=function(){l._element=a,!r&&(l._filteredEl=a),t&&t(l),a.onload=u=null},a.src=u.toDataURL("image/png")),u}},_render:function(t,e){var n,r,i,o=this._findMargins();n=e?this.left:-this.width/2,r=e?this.top:-this.height/2,"slice"===this.meetOrSlice&&(t.beginPath(),t.rect(n,r,this.width,this.height),t.clip()),!1===this.isMoving&&this.resizeFilters.length&&this._needsResize()?(this._lastScaleX=this.scaleX,this._lastScaleY=this.scaleY,i=this.applyFilters(null,this.resizeFilters,this._filteredEl||this._originalElement,!0)):i=this._element,i&&t.drawImage(i,n+o.marginX,r+o.marginY,o.width,o.height),this._stroke(t),this._renderStroke(t)},_needsResize:function(){return this.scaleX!==this._lastScaleX||this.scaleY!==this._lastScaleY},_findMargins:function(){var t,e,n=this.width,r=this.height,i=0,o=0;return"none"===this.alignX&&"none"===this.alignY||(t=[this.width/this._element.width,this.height/this._element.height],e="meet"===this.meetOrSlice?Math.min.apply(null,t):Math.max.apply(null,t),n=this._element.width*e,r=this._element.height*e,"Mid"===this.alignX&&(i=(this.width-n)/2),"Max"===this.alignX&&(i=this.width-n),"Mid"===this.alignY&&(o=(this.height-r)/2),"Max"===this.alignY&&(o=this.height-r)),{width:n,height:r,marginX:i,marginY:o}},_resetWidthHeight:function(){var t=this.getElement();this.set("width",t.width),this.set("height",t.height)},_initElement:function(t,e,n){this.setElement(fabric.util.getById(t),n,e),fabric.util.addClass(this.getElement(),fabric.Image.CSS_CANVAS)},_initConfig:function(t){t||(t={}),this.setOptions(t),this._setWidthHeight(t),this._element&&this.crossOrigin&&(this._element.crossOrigin=this.crossOrigin)},_initFilters:function(t,e){t&&t.length?fabric.util.enlivenObjects(t,(function(t){e&&e(t)}),"fabric.Image.filters"):e&&e()},_setWidthHeight:function(t){this.width="width"in t?t.width:this.getElement()&&this.getElement().width||0,this.height="height"in t?t.height:this.getElement()&&this.getElement().height||0},complexity:function(){return 1}}),fabric.Image.CSS_CANVAS="canvas-img",fabric.Image.prototype.getSvgSrc=fabric.Image.prototype.getSrc,fabric.Image.fromObject=function(t,e){fabric.util.loadImage(t.src,(function(n,r){r?e&&e(null,r):fabric.Image.prototype._initFilters.call(t,t.filters,(function(r){t.filters=r||[],fabric.Image.prototype._initFilters.call(t,t.resizeFilters,(function(r){return t.resizeFilters=r||[],new fabric.Image(n,t,e)}))}))}),null,t.crossOrigin)},fabric.Image.fromURL=function(t,e,n){fabric.util.loadImage(t,(function(t){e&&e(new fabric.Image(t,n))}),null,n&&n.crossOrigin)},fabric.Image.ATTRIBUTE_NAMES=fabric.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href".split(" ")),fabric.Image.fromElement=function(t,n,r){var i,o=fabric.parseAttributes(t,fabric.Image.ATTRIBUTE_NAMES);o.preserveAspectRatio&&(i=fabric.util.parsePreserveAspectRatioAttribute(o.preserveAspectRatio),e(o,i)),fabric.Image.fromURL(o["xlink:href"],n,e(r?fabric.util.object.clone(r):{},o))},fabric.Image.async=!0,fabric.Image.pngCompression=1}}(exports),fabric.util.object.extend(fabric.Object.prototype,{_getAngleValueForStraighten:function(){var t=this.getAngle()%360;return t>0?90*Math.round((t-1)/90):90*Math.round(t/90)},straighten:function(){return this.setAngle(this._getAngleValueForStraighten()),this},fxStraighten:function(t){t=t||{};var e=function(){},n=t.onComplete||e,r=t.onChange||e,i=this;return fabric.util.animate({startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(t){i.setAngle(t),r()},onComplete:function(){i.setCoords(),n()},onStart:function(){i.set("active",!1)}}),this}}),fabric.util.object.extend(fabric.StaticCanvas.prototype,{straightenObject:function(t){return t.straighten(),this.renderAll(),this},fxStraightenObject:function(t){return t.fxStraighten({onChange:this.renderAll.bind(this)}),this}}),fabric.Image.filters=fabric.Image.filters||{},fabric.Image.filters.BaseFilter=fabric.util.createClass({type:"BaseFilter",initialize:function(t){t&&this.setOptions(t)},setOptions:function(t){for(var e in t)this[e]=t[e]},toObject:function(){return{type:this.type}},toJSON:function(){return this.toObject()}}),fabric.Image.filters.BaseFilter.fromObject=function(t,e){var n=new fabric.Image.filters[t.type](t);return e&&e(n),n},function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend,r=e.Image.filters,i=e.util.createClass;r.Brightness=i(r.BaseFilter,{type:"Brightness",initialize:function(t){t=t||{},this.brightness=t.brightness||0},applyTo:function(t){for(var e=t.getContext("2d"),n=e.getImageData(0,0,t.width,t.height),r=n.data,i=this.brightness,o=0,a=r.length;o<a;o+=4)r[o]+=i,r[o+1]+=i,r[o+2]+=i;e.putImageData(n,0,0)},toObject:function(){return n(this.callSuper("toObject"),{brightness:this.brightness})}}),e.Image.filters.Brightness.fromObject=e.Image.filters.BaseFilter.fromObject}(exports),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend,r=e.Image.filters,i=e.util.createClass;r.Convolute=i(r.BaseFilter,{type:"Convolute",initialize:function(t){t=t||{},this.opaque=t.opaque,this.matrix=t.matrix||[0,0,0,0,1,0,0,0,0]},applyTo:function(t){for(var e,n,r,i,o,a,s,c,l,u=this.matrix,h=t.getContext("2d"),f=h.getImageData(0,0,t.width,t.height),d=Math.round(Math.sqrt(u.length)),p=Math.floor(d/2),g=f.data,m=f.width,v=f.height,b=h.createImageData(m,v),y=b.data,w=this.opaque?1:0,_=0;_<v;_++)for(var x=0;x<m;x++){o=4*(_*m+x),e=0,n=0,r=0,i=0;for(var S=0;S<d;S++)for(var C=0;C<d;C++)s=_+S-p,a=x+C-p,s<0||s>v||a<0||a>m||(c=4*(s*m+a),l=u[S*d+C],e+=g[c]*l,n+=g[c+1]*l,r+=g[c+2]*l,i+=g[c+3]*l);y[o]=e,y[o+1]=n,y[o+2]=r,y[o+3]=i+w*(255-i)}h.putImageData(b,0,0)},toObject:function(){return n(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),e.Image.filters.Convolute.fromObject=e.Image.filters.BaseFilter.fromObject}(exports),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend,r=e.Image.filters,i=e.util.createClass;r.GradientTransparency=i(r.BaseFilter,{type:"GradientTransparency",initialize:function(t){t=t||{},this.threshold=t.threshold||100},applyTo:function(t){for(var e=t.getContext("2d"),n=e.getImageData(0,0,t.width,t.height),r=n.data,i=this.threshold,o=r.length,a=0,s=r.length;a<s;a+=4)r[a+3]=i+255*(o-a)/o;e.putImageData(n,0,0)},toObject:function(){return n(this.callSuper("toObject"),{threshold:this.threshold})}}),e.Image.filters.GradientTransparency.fromObject=e.Image.filters.BaseFilter.fromObject}(exports),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.Image.filters,r=e.util.createClass;n.Grayscale=r(n.BaseFilter,{type:"Grayscale",applyTo:function(t){var e,n=t.getContext("2d"),r=n.getImageData(0,0,t.width,t.height),i=r.data,o=r.width*r.height*4,a=0;while(a<o)e=(i[a]+i[a+1]+i[a+2])/3,i[a]=e,i[a+1]=e,i[a+2]=e,a+=4;n.putImageData(r,0,0)}}),e.Image.filters.Grayscale.fromObject=function(t,n){return t=t||{},t.type="Grayscale",e.Image.filters.BaseFilter.fromObject(t,n)}}(exports),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.Image.filters,r=e.util.createClass;n.Invert=r(n.BaseFilter,{type:"Invert",applyTo:function(t){var e,n=t.getContext("2d"),r=n.getImageData(0,0,t.width,t.height),i=r.data,o=i.length;for(e=0;e<o;e+=4)i[e]=255-i[e],i[e+1]=255-i[e+1],i[e+2]=255-i[e+2];n.putImageData(r,0,0)}}),e.Image.filters.Invert.fromObject=function(t,n){return t=t||{},t.type="Invert",e.Image.filters.BaseFilter.fromObject(t,n)}}(exports),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend,r=e.Image.filters,i=e.util.createClass;r.Mask=i(r.BaseFilter,{type:"Mask",initialize:function(t){t=t||{},this.mask=t.mask,this.channel=[0,1,2,3].indexOf(t.channel)>-1?t.channel:0},applyTo:function(t){if(this.mask){var n,r=t.getContext("2d"),i=r.getImageData(0,0,t.width,t.height),o=i.data,a=this.mask.getElement(),s=e.util.createCanvasElement(),c=this.channel,l=i.width*i.height*4;s.width=t.width,s.height=t.height,s.getContext("2d").drawImage(a,0,0,t.width,t.height);var u=s.getContext("2d").getImageData(0,0,t.width,t.height),h=u.data;for(n=0;n<l;n+=4)o[n+3]=h[n+c];r.putImageData(i,0,0)}},toObject:function(){return n(this.callSuper("toObject"),{mask:this.mask.toObject(),channel:this.channel})}}),e.Image.filters.Mask.fromObject=function(t,n){e.util.loadImage(t.mask.src,(function(r){return t.mask=new e.Image(r,t.mask),e.Image.filters.BaseFilter.fromObject(t,n)}))},e.Image.filters.Mask.async=!0}(exports),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend,r=e.Image.filters,i=e.util.createClass;r.Noise=i(r.BaseFilter,{type:"Noise",initialize:function(t){t=t||{},this.noise=t.noise||0},applyTo:function(t){for(var e,n=t.getContext("2d"),r=n.getImageData(0,0,t.width,t.height),i=r.data,o=this.noise,a=0,s=i.length;a<s;a+=4)e=(.5-Math.random())*o,i[a]+=e,i[a+1]+=e,i[a+2]+=e;n.putImageData(r,0,0)},toObject:function(){return n(this.callSuper("toObject"),{noise:this.noise})}}),e.Image.filters.Noise.fromObject=e.Image.filters.BaseFilter.fromObject}(exports),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend,r=e.Image.filters,i=e.util.createClass;r.Pixelate=i(r.BaseFilter,{type:"Pixelate",initialize:function(t){t=t||{},this.blocksize=t.blocksize||4},applyTo:function(t){var e,n,r,i,o,a,s,c=t.getContext("2d"),l=c.getImageData(0,0,t.width,t.height),u=l.data,h=l.height,f=l.width;for(n=0;n<h;n+=this.blocksize)for(r=0;r<f;r+=this.blocksize){e=4*n*f+4*r,i=u[e],o=u[e+1],a=u[e+2],s=u[e+3];for(var d=n,p=n+this.blocksize;d<p;d++)for(var g=r,m=r+this.blocksize;g<m;g++)e=4*d*f+4*g,u[e]=i,u[e+1]=o,u[e+2]=a,u[e+3]=s}c.putImageData(l,0,0)},toObject:function(){return n(this.callSuper("toObject"),{blocksize:this.blocksize})}}),e.Image.filters.Pixelate.fromObject=e.Image.filters.BaseFilter.fromObject}(exports),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend,r=e.Image.filters,i=e.util.createClass;r.RemoveWhite=i(r.BaseFilter,{type:"RemoveWhite",initialize:function(t){t=t||{},this.threshold=t.threshold||30,this.distance=t.distance||20},applyTo:function(t){for(var e,n,r,i=t.getContext("2d"),o=i.getImageData(0,0,t.width,t.height),a=o.data,s=this.threshold,c=this.distance,l=255-s,u=Math.abs,h=0,f=a.length;h<f;h+=4)e=a[h],n=a[h+1],r=a[h+2],e>l&&n>l&&r>l&&u(e-n)<c&&u(e-r)<c&&u(n-r)<c&&(a[h+3]=0);i.putImageData(o,0,0)},toObject:function(){return n(this.callSuper("toObject"),{threshold:this.threshold,distance:this.distance})}}),e.Image.filters.RemoveWhite.fromObject=e.Image.filters.BaseFilter.fromObject}(exports),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.Image.filters,r=e.util.createClass;n.Sepia=r(n.BaseFilter,{type:"Sepia",applyTo:function(t){var e,n,r=t.getContext("2d"),i=r.getImageData(0,0,t.width,t.height),o=i.data,a=o.length;for(e=0;e<a;e+=4)n=.3*o[e]+.59*o[e+1]+.11*o[e+2],o[e]=n+100,o[e+1]=n+50,o[e+2]=n+255;r.putImageData(i,0,0)}}),e.Image.filters.Sepia.fromObject=function(t,n){return t=t||{},t.type="Sepia",new e.Image.filters.BaseFilter.fromObject(t,n)}}(exports),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.Image.filters,r=e.util.createClass;n.Sepia2=r(n.BaseFilter,{type:"Sepia2",applyTo:function(t){var e,n,r,i,o=t.getContext("2d"),a=o.getImageData(0,0,t.width,t.height),s=a.data,c=s.length;for(e=0;e<c;e+=4)n=s[e],r=s[e+1],i=s[e+2],s[e]=(.393*n+.769*r+.189*i)/1.351,s[e+1]=(.349*n+.686*r+.168*i)/1.203,s[e+2]=(.272*n+.534*r+.131*i)/2.14;o.putImageData(a,0,0)}}),e.Image.filters.Sepia2.fromObject=function(t,n){return t=t||{},t.type="Sepia2",new e.Image.filters.BaseFilter.fromObject(t,n)}}(exports),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend,r=e.Image.filters,i=e.util.createClass;r.Tint=i(r.BaseFilter,{type:"Tint",initialize:function(t){t=t||{},this.color=t.color||"#000000",this.opacity="undefined"!==typeof t.opacity?t.opacity:new e.Color(this.color).getAlpha()},applyTo:function(t){var n,r,i,o,a,s,c,l,u,h=t.getContext("2d"),f=h.getImageData(0,0,t.width,t.height),d=f.data,p=d.length;for(u=new e.Color(this.color).getSource(),r=u[0]*this.opacity,i=u[1]*this.opacity,o=u[2]*this.opacity,l=1-this.opacity,n=0;n<p;n+=4)a=d[n],s=d[n+1],c=d[n+2],d[n]=r+a*l,d[n+1]=i+s*l,d[n+2]=o+c*l;h.putImageData(f,0,0)},toObject:function(){return n(this.callSuper("toObject"),{color:this.color,opacity:this.opacity})}}),e.Image.filters.Tint.fromObject=e.Image.filters.BaseFilter.fromObject}(exports),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend,r=e.Image.filters,i=e.util.createClass;r.Multiply=i(r.BaseFilter,{type:"Multiply",initialize:function(t){t=t||{},this.color=t.color||"#000000"},applyTo:function(t){var n,r,i=t.getContext("2d"),o=i.getImageData(0,0,t.width,t.height),a=o.data,s=a.length;for(r=new e.Color(this.color).getSource(),n=0;n<s;n+=4)a[n]*=r[0]/255,a[n+1]*=r[1]/255,a[n+2]*=r[2]/255;i.putImageData(o,0,0)},toObject:function(){return n(this.callSuper("toObject"),{color:this.color})}}),e.Image.filters.Multiply.fromObject=e.Image.filters.BaseFilter.fromObject}(exports),function(t){"use strict";var e=t.fabric,n=e.Image.filters,r=e.util.createClass;n.Blend=r(n.BaseFilter,{type:"Blend",initialize:function(t){t=t||{},this.color=t.color||"#000",this.image=t.image||!1,this.mode=t.mode||"multiply",this.alpha=t.alpha||1},applyTo:function(t){var n,r,i,o,a,s,c,l,u,h,f=t.getContext("2d"),d=f.getImageData(0,0,t.width,t.height),p=d.data,g=!1;if(this.image){g=!0;var m=e.util.createCanvasElement();m.width=this.image.width,m.height=this.image.height;var v=new e.StaticCanvas(m);v.add(this.image);var b=v.getContext("2d");h=b.getImageData(0,0,v.width,v.height).data}else h=new e.Color(this.color).getSource(),n=h[0]*this.alpha,r=h[1]*this.alpha,i=h[2]*this.alpha;for(var y=0,w=p.length;y<w;y+=4)switch(o=p[y],a=p[y+1],s=p[y+2],g&&(n=h[y]*this.alpha,r=h[y+1]*this.alpha,i=h[y+2]*this.alpha),this.mode){case"multiply":p[y]=o*n/255,p[y+1]=a*r/255,p[y+2]=s*i/255;break;case"screen":p[y]=1-(1-o)*(1-n),p[y+1]=1-(1-a)*(1-r),p[y+2]=1-(1-s)*(1-i);break;case"add":p[y]=Math.min(255,o+n),p[y+1]=Math.min(255,a+r),p[y+2]=Math.min(255,s+i);break;case"diff":case"difference":p[y]=Math.abs(o-n),p[y+1]=Math.abs(a-r),p[y+2]=Math.abs(s-i);break;case"subtract":c=o-n,l=a-r,u=s-i,p[y]=c<0?0:c,p[y+1]=l<0?0:l,p[y+2]=u<0?0:u;break;case"darken":p[y]=Math.min(o,n),p[y+1]=Math.min(a,r),p[y+2]=Math.min(s,i);break;case"lighten":p[y]=Math.max(o,n),p[y+1]=Math.max(a,r),p[y+2]=Math.max(s,i);break}f.putImageData(d,0,0)},toObject:function(){return{color:this.color,image:this.image,mode:this.mode,alpha:this.alpha}}}),e.Image.filters.Blend.fromObject=e.Image.filters.BaseFilter.fromObject}(exports),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=Math.pow,r=Math.floor,i=Math.sqrt,o=Math.abs,a=Math.max,s=Math.round,c=Math.sin,l=Math.ceil,u=e.Image.filters,h=e.util.createClass;u.Resize=h(u.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:0,scaleY:0,lanczosLobes:3,applyTo:function(t,e,n){if(1!==e||1!==n){this.rcpScaleX=1/e,this.rcpScaleY=1/n;var r,i=t.width,o=t.height,a=s(i*e),c=s(o*n);"sliceHack"===this.resizeType&&(r=this.sliceByTwo(t,i,o,a,c)),"hermite"===this.resizeType&&(r=this.hermiteFastResize(t,i,o,a,c)),"bilinear"===this.resizeType&&(r=this.bilinearFiltering(t,i,o,a,c)),"lanczos"===this.resizeType&&(r=this.lanczosResize(t,i,o,a,c)),t.width=a,t.height=c,t.getContext("2d").putImageData(r,0,0)}},sliceByTwo:function(t,n,i,o,s){var c,l=t.getContext("2d"),u=.5,h=.5,f=1,d=1,p=!1,g=!1,m=n,v=i,b=e.util.createCanvasElement(),y=b.getContext("2d");o=r(o),s=r(s),b.width=a(o,n),b.height=a(s,i),o>n&&(u=2,f=-1),s>i&&(h=2,d=-1),c=l.getImageData(0,0,n,i),t.width=a(o,n),t.height=a(s,i),l.putImageData(c,0,0);while(!p||!g)n=m,i=v,o*f<r(m*u*f)?m=r(m*u):(m=o,p=!0),s*d<r(v*h*d)?v=r(v*h):(v=s,g=!0),c=l.getImageData(0,0,n,i),y.putImageData(c,0,0),l.clearRect(0,0,m,v),l.drawImage(b,0,0,n,i,0,0,m,v);return l.getImageData(0,0,o,s)},lanczosResize:function(t,e,a,s,u){function h(t){return function(e){if(e>t)return 0;if(e*=Math.PI,o(e)<1e-16)return 1;var n=e/t;return c(e)*c(n)/e/n}}function f(t){var c,l,h,d,p,T,j,M,A,P,I;for(O.x=(t+.5)*y,k.x=r(O.x),c=0;c<u;c++){for(O.y=(c+.5)*w,k.y=r(O.y),p=0,T=0,j=0,M=0,A=0,l=k.x-S;l<=k.x+S;l++)if(!(l<0||l>=e)){P=r(1e3*o(l-O.x)),E[P]||(E[P]={});for(var R=k.y-C;R<=k.y+C;R++)R<0||R>=a||(I=r(1e3*o(R-O.y)),E[P][I]||(E[P][I]=b(i(n(P*_,2)+n(I*x,2))/1e3)),h=E[P][I],h>0&&(d=4*(R*e+l),p+=h,T+=h*m[d],j+=h*m[d+1],M+=h*m[d+2],A+=h*m[d+3]))}d=4*(c*s+t),v[d]=T/p,v[d+1]=j/p,v[d+2]=M/p,v[d+3]=A/p}return++t<s?f(t):g}var d=t.getContext("2d"),p=d.getImageData(0,0,e,a),g=d.getImageData(0,0,s,u),m=p.data,v=g.data,b=h(this.lanczosLobes),y=this.rcpScaleX,w=this.rcpScaleY,_=2/this.rcpScaleX,x=2/this.rcpScaleY,S=l(y*this.lanczosLobes/2),C=l(w*this.lanczosLobes/2),E={},O={},k={};return f(0)},bilinearFiltering:function(t,e,n,i,o){var a,s,c,l,u,h,f,d,p,g,m,v,b,y=0,w=this.rcpScaleX,_=this.rcpScaleY,x=t.getContext("2d"),S=4*(e-1),C=x.getImageData(0,0,e,n),E=C.data,O=x.getImageData(0,0,i,o),k=O.data;for(f=0;f<o;f++)for(d=0;d<i;d++)for(u=r(w*d),h=r(_*f),p=w*d-u,g=_*f-h,b=4*(h*e+u),m=0;m<4;m++)a=E[b+m],s=E[b+4+m],c=E[b+S+m],l=E[b+S+4+m],v=a*(1-p)*(1-g)+s*p*(1-g)+c*g*(1-p)+l*p*g,k[y++]=v;return O},hermiteFastResize:function(t,e,n,a,s){for(var c=this.rcpScaleX,u=this.rcpScaleY,h=l(c/2),f=l(u/2),d=t.getContext("2d"),p=d.getImageData(0,0,e,n),g=p.data,m=d.getImageData(0,0,a,s),v=m.data,b=0;b<s;b++)for(var y=0;y<a;y++){for(var w=4*(y+b*a),_=0,x=0,S=0,C=0,E=0,O=0,k=0,T=(b+.5)*u,j=r(b*u);j<(b+1)*u;j++)for(var M=o(T-(j+.5))/f,A=(y+.5)*c,P=M*M,I=r(y*c);I<(y+1)*c;I++){var R=o(A-(I+.5))/h,D=i(P+R*R);D>1&&D<-1||(_=2*D*D*D-3*D*D+1,_>0&&(R=4*(I+j*e),k+=_*g[R+3],S+=_,g[R+3]<255&&(_=_*g[R+3]/250),C+=_*g[R],E+=_*g[R+1],O+=_*g[R+2],x+=_))}v[w]=C/x,v[w+1]=E/x,v[w+2]=O/x,v[w+3]=k/S}return m},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),e.Image.filters.Resize.fromObject=e.Image.filters.BaseFilter.fromObject}(exports),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend,r=e.Image.filters,i=e.util.createClass;r.ColorMatrix=i(r.BaseFilter,{type:"ColorMatrix",initialize:function(t){t||(t={}),this.matrix=t.matrix||[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]},applyTo:function(t){var e,n,r,i,o,a=t.getContext("2d"),s=a.getImageData(0,0,t.width,t.height),c=s.data,l=c.length,u=this.matrix;for(e=0;e<l;e+=4)n=c[e],r=c[e+1],i=c[e+2],o=c[e+3],c[e]=n*u[0]+r*u[1]+i*u[2]+o*u[3]+u[4],c[e+1]=n*u[5]+r*u[6]+i*u[7]+o*u[8]+u[9],c[e+2]=n*u[10]+r*u[11]+i*u[12]+o*u[13]+u[14],c[e+3]=n*u[15]+r*u[16]+i*u[17]+o*u[18]+u[19];a.putImageData(s,0,0)},toObject:function(){return n(this.callSuper("toObject"),{type:this.type,matrix:this.matrix})}}),e.Image.filters.ColorMatrix.fromObject=e.Image.filters.BaseFilter.fromObject}(exports),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend,r=e.Image.filters,i=e.util.createClass;r.Contrast=i(r.BaseFilter,{type:"Contrast",initialize:function(t){t=t||{},this.contrast=t.contrast||0},applyTo:function(t){for(var e=t.getContext("2d"),n=e.getImageData(0,0,t.width,t.height),r=n.data,i=259*(this.contrast+255)/(255*(259-this.contrast)),o=0,a=r.length;o<a;o+=4)r[o]=i*(r[o]-128)+128,r[o+1]=i*(r[o+1]-128)+128,r[o+2]=i*(r[o+2]-128)+128;e.putImageData(n,0,0)},toObject:function(){return n(this.callSuper("toObject"),{contrast:this.contrast})}}),e.Image.filters.Contrast.fromObject=e.Image.filters.BaseFilter.fromObject}(exports),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.object.extend,r=e.Image.filters,i=e.util.createClass;r.Saturate=i(r.BaseFilter,{type:"Saturate",initialize:function(t){t=t||{},this.saturate=t.saturate||0},applyTo:function(t){for(var e,n=t.getContext("2d"),r=n.getImageData(0,0,t.width,t.height),i=r.data,o=.01*-this.saturate,a=0,s=i.length;a<s;a+=4)e=Math.max(i[a],i[a+1],i[a+2]),i[a]+=e!==i[a]?(e-i[a])*o:0,i[a+1]+=e!==i[a+1]?(e-i[a+1])*o:0,i[a+2]+=e!==i[a+2]?(e-i[a+2])*o:0;n.putImageData(r,0,0)},toObject:function(){return n(this.callSuper("toObject"),{saturate:this.saturate})}}),e.Image.filters.Saturate.fromObject=e.Image.filters.BaseFilter.fromObject}(exports),function(t){"use strict";var e=t.fabric||(t.fabric={}),n=e.util.toFixed,r=e.Object.NUM_FRACTION_DIGITS,i=2;if(e.Text)e.warn("fabric.Text is already defined");else{var o=e.Object.prototype.stateProperties.concat();o.push("fontFamily","fontWeight","fontSize","text","textDecoration","textAlign","fontStyle","lineHeight","textBackgroundColor","charSpacing");var a=e.Object.prototype.cacheProperties.concat();a.push("fontFamily","fontWeight","fontSize","text","textDecoration","textAlign","fontStyle","lineHeight","textBackgroundColor","charSpacing","styles"),e.Text=e.util.createClass(e.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",textDecoration:"",textAlign:"left",fontStyle:"",lineHeight:1.16,textBackgroundColor:"",stateProperties:o,cacheProperties:a,stroke:null,shadow:null,_fontSizeFraction:.25,_fontSizeMult:1.13,charSpacing:0,initialize:function(t,e){e=e||{},this.text=t,this.__skipDimension=!0,this.callSuper("initialize",e),this.__skipDimension=!1,this._initDimensions(),this.setupState({propertySet:"_dimensionAffectingProps"})},_initDimensions:function(t){this.__skipDimension||(t||(t=e.util.createCanvasElement().getContext("2d"),this._setTextStyles(t)),this._textLines=this._splitTextIntoLines(),this._clearCache(),this.width=this._getTextWidth(t)||this.cursorWidth||i,this.height=this._getTextHeight(t))},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var t=this.callSuper("_getCacheCanvasDimensions"),e=2*Math.ceil(this.fontSize);return t.width+=e,t.height+=e,t},_render:function(t){this._setTextStyles(t),this.group&&"path-group"===this.group.type&&t.translate(this.left,this.top),this._renderTextLinesBackground(t),this._renderText(t),this._renderTextDecoration(t)},_renderText:function(t){this._renderTextFill(t),this._renderTextStroke(t)},_setTextStyles:function(t){t.textBaseline="alphabetic",t.font=this._getFontDeclaration()},_getTextHeight:function(){return this._getHeightOfSingleLine()+(this._textLines.length-1)*this._getHeightOfLine()},_getTextWidth:function(t){for(var e=this._getLineWidth(t,0),n=1,r=this._textLines.length;n<r;n++){var i=this._getLineWidth(t,n);i>e&&(e=i)}return e},_renderChars:function(t,e,n,r,i){var o,a,s=t.slice(0,-4);if(this[s].toLive){var c=-this.width/2+this[s].offsetX||0,l=-this.height/2+this[s].offsetY||0;e.save(),e.translate(c,l),r-=c,i-=l}if(0!==this.charSpacing){var u=this._getWidthOfCharSpacing();n=n.split("");for(var h=0,f=n.length;h<f;h++)o=n[h],a=e.measureText(o).width+u,e[t](o,r,i),r+=a>0?a:0}else e[t](n,r,i);this[s].toLive&&e.restore()},_renderTextLine:function(t,e,n,r,i,o){i-=this.fontSize*this._fontSizeFraction;var a=this._getLineWidth(e,o);if("justify"!==this.textAlign||this.width<a)this._renderChars(t,e,n,r,i,o);else for(var s,c=n.split(/\s+/),l=0,u=this._getWidthOfWords(e,c.join(" "),o,0),h=this.width-u,f=c.length-1,d=f>0?h/f:0,p=0,g=0,m=c.length;g<m;g++){while(" "===n[l]&&l<n.length)l++;s=c[g],this._renderChars(t,e,s,r+p,i,o,l),p+=this._getWidthOfWords(e,s,o,l)+d,l+=s.length}},_getWidthOfWords:function(t,e){var n,r,i=t.measureText(e).width;return 0!==this.charSpacing&&(n=e.split("").length,r=n*this._getWidthOfCharSpacing(),i+=r),i>0?i:0},_getLeftOffset:function(){return-this.width/2},_getTopOffset:function(){return-this.height/2},isEmptyStyles:function(){return!0},_renderTextCommon:function(t,e){for(var n=0,r=this._getLeftOffset(),i=this._getTopOffset(),o=0,a=this._textLines.length;o<a;o++){var s=this._getHeightOfLine(t,o),c=s/this.lineHeight,l=this._getLineWidth(t,o),u=this._getLineLeftOffset(l);this._renderTextLine(e,t,this._textLines[o],r+u,i+n+c,o),n+=s}},_renderTextFill:function(t){!this.fill&&this.isEmptyStyles()||this._renderTextCommon(t,"fillText")},_renderTextStroke:function(t){(this.stroke&&0!==this.strokeWidth||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(t),t.save(),this._setLineDash(t,this.strokeDashArray),t.beginPath(),this._renderTextCommon(t,"strokeText"),t.closePath(),t.restore())},_getHeightOfLine:function(){return this._getHeightOfSingleLine()*this.lineHeight},_getHeightOfSingleLine:function(){return this.fontSize*this._fontSizeMult},_renderTextLinesBackground:function(t){if(this.textBackgroundColor){var e,n,r,i=0,o=t.fillStyle;t.fillStyle=this.textBackgroundColor;for(var a=0,s=this._textLines.length;a<s;a++)e=this._getHeightOfLine(t,a),n=this._getLineWidth(t,a),n>0&&(r=this._getLineLeftOffset(n),t.fillRect(this._getLeftOffset()+r,this._getTopOffset()+i,n,e/this.lineHeight)),i+=e;t.fillStyle=o,this._removeShadow(t)}},_getLineLeftOffset:function(t){return"center"===this.textAlign?(this.width-t)/2:"right"===this.textAlign?this.width-t:0},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[]},_shouldClearDimensionCache:function(){var t=this._forceClearCache;return t||(t=this.hasStateChanged("_dimensionAffectingProps")),t&&(this.saveState({propertySet:"_dimensionAffectingProps"}),this.dirty=!0),t},_getLineWidth:function(t,e){if(this.__lineWidths[e])return-1===this.__lineWidths[e]?this.width:this.__lineWidths[e];var n,r,i=this._textLines[e];return n=""===i?0:this._measureLine(t,e),this.__lineWidths[e]=n,n&&"justify"===this.textAlign&&(r=i.split(/\s+/),r.length>1&&(this.__lineWidths[e]=-1)),n},_getWidthOfCharSpacing:function(){return 0!==this.charSpacing?this.fontSize*this.charSpacing/1e3:0},_measureLine:function(t,e){var n,r,i=this._textLines[e],o=t.measureText(i).width,a=0;return 0!==this.charSpacing&&(n=i.split("").length,a=(n-1)*this._getWidthOfCharSpacing()),r=o+a,r>0?r:0},_renderTextDecoration:function(t){if(this.textDecoration){var e=this.height/2,n=this,r=[];this.textDecoration.indexOf("underline")>-1&&r.push(.85),this.textDecoration.indexOf("line-through")>-1&&r.push(.43),this.textDecoration.indexOf("overline")>-1&&r.push(-.12),r.length>0&&i(r)}function i(r){var i,o,a,s,c,l,u,h=0;for(i=0,o=n._textLines.length;i<o;i++){for(c=n._getLineWidth(t,i),l=n._getLineLeftOffset(c),u=n._getHeightOfLine(t,i),a=0,s=r.length;a<s;a++)t.fillRect(n._getLeftOffset()+l,h+(n._fontSizeMult-1+r[a])*n.fontSize-e,c,n.fontSize/15);h+=u}}},_getFontDeclaration:function(){return[e.isLikelyNode?this.fontWeight:this.fontStyle,e.isLikelyNode?this.fontStyle:this.fontWeight,this.fontSize+"px",e.isLikelyNode?'"'+this.fontFamily+'"':this.fontFamily].join(" ")},render:function(t,e){this.visible&&(this._shouldClearDimensionCache()&&(this._setTextStyles(t),this._initDimensions(t)),this.callSuper("render",t,e))},_splitTextIntoLines:function(){return this.text.split(this._reNewline)},toObject:function(t){var e=["text","fontSize","fontWeight","fontFamily","fontStyle","lineHeight","textDecoration","textAlign","textBackgroundColor","charSpacing"].concat(t);return this.callSuper("toObject",e)},toSVG:function(t){this.ctx||(this.ctx=e.util.createCanvasElement().getContext("2d"));var n=this._createBaseSVGMarkup(),r=this._getSVGLeftTopOffsets(this.ctx),i=this._getSVGTextAndBg(r.textTop,r.textLeft);return this._wrapSVGTextAndBg(n,i),t?t(n.join("")):n.join("")},_getSVGLeftTopOffsets:function(t){var e=this._getHeightOfLine(t,0),n=-this.width/2,r=0;return{textLeft:n+(this.group&&"path-group"===this.group.type?this.left:0),textTop:r+(this.group&&"path-group"===this.group.type?-this.top:0),lineTop:e}},_wrapSVGTextAndBg:function(t,e){var n=!0,r=this.getSvgFilter(),i=""===r?"":' style="'+r+'"';t.push("\t<g ",this.getSvgId(),'transform="',this.getSvgTransform(),this.getSvgTransformMatrix(),'"',i,">\n",e.textBgRects.join(""),"\t\t<text ",this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",this.textDecoration?'text-decoration="'+this.textDecoration+'" ':"",'style="',this.getSvgStyles(n),'" >\n',e.textSpans.join(""),"\t\t</text>\n","\t</g>\n")},_getSVGTextAndBg:function(t,e){var n=[],r=[],i=0;this._setSVGBg(r);for(var o=0,a=this._textLines.length;o<a;o++)this.textBackgroundColor&&this._setSVGTextLineBg(r,o,e,t,i),this._setSVGTextLineText(o,n,i,e,t,r),i+=this._getHeightOfLine(this.ctx,o);return{textSpans:n,textBgRects:r}},_setSVGTextLineText:function(t,i,o,a,s){var c=this.fontSize*(this._fontSizeMult-this._fontSizeFraction)-s+o-this.height/2;"justify"!==this.textAlign?i.push('\t\t\t<tspan x="',n(a+this._getLineLeftOffset(this._getLineWidth(this.ctx,t)),r),'" ','y="',n(c,r),'" ',this._getFillAttributes(this.fill),">",e.util.string.escapeXml(this._textLines[t]),"</tspan>\n"):this._setSVGTextLineJustifed(t,i,c,a)},_setSVGTextLineJustifed:function(t,i,o,a){var s=e.util.createCanvasElement().getContext("2d");this._setTextStyles(s);var c,l,u=this._textLines[t],h=u.split(/\s+/),f=this._getWidthOfWords(s,h.join("")),d=this.width-f,p=h.length-1,g=p>0?d/p:0,m=this._getFillAttributes(this.fill);for(a+=this._getLineLeftOffset(this._getLineWidth(s,t)),t=0,l=h.length;t<l;t++)c=h[t],i.push('\t\t\t<tspan x="',n(a,r),'" ','y="',n(o,r),'" ',m,">",e.util.string.escapeXml(c),"</tspan>\n"),a+=this._getWidthOfWords(s,c)+g},_setSVGTextLineBg:function(t,e,i,o,a){t.push("\t\t<rect ",this._getFillAttributes(this.textBackgroundColor),' x="',n(i+this._getLineLeftOffset(this._getLineWidth(this.ctx,e)),r),'" y="',n(a-this.height/2,r),'" width="',n(this._getLineWidth(this.ctx,e),r),'" height="',n(this._getHeightOfLine(this.ctx,e)/this.lineHeight,r),'"></rect>\n')},_setSVGBg:function(t){this.backgroundColor&&t.push("\t\t<rect ",this._getFillAttributes(this.backgroundColor),' x="',n(-this.width/2,r),'" y="',n(-this.height/2,r),'" width="',n(this.width,r),'" height="',n(this.height,r),'"></rect>\n')},_getFillAttributes:function(t){var n=t&&"string"===typeof t?new e.Color(t):"";return n&&n.getSource()&&1!==n.getAlpha()?'opacity="'+n.getAlpha()+'" fill="'+n.setAlpha(1).toRgb()+'"':'fill="'+t+'"'},_set:function(t,e){this.callSuper("_set",t,e),this._dimensionAffectingProps.indexOf(t)>-1&&(this._initDimensions(),this.setCoords())},complexity:function(){return 1}}),e.Text.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size text-decoration text-anchor".split(" ")),e.Text.DEFAULT_SVG_FONT_SIZE=16,e.Text.fromElement=function(t,n){if(!t)return null;var r=e.parseAttributes(t,e.Text.ATTRIBUTE_NAMES);n=e.util.object.extend(n?e.util.object.clone(n):{},r),n.top=n.top||0,n.left=n.left||0,"dx"in r&&(n.left+=r.dx),"dy"in r&&(n.top+=r.dy),"fontSize"in n||(n.fontSize=e.Text.DEFAULT_SVG_FONT_SIZE),n.originX||(n.originX="left");var i="";"textContent"in t?i=t.textContent:"firstChild"in t&&null!==t.firstChild&&"data"in t.firstChild&&null!==t.firstChild.data&&(i=t.firstChild.data),i=i.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var o=new e.Text(i,n),a=o.getHeight()/o.height,s=(o.height+o.strokeWidth)*o.lineHeight-o.height,c=s*a,l=o.getHeight()+c,u=0;return"left"===o.originX&&(u=o.getWidth()/2),"right"===o.originX&&(u=-o.getWidth()/2),o.set({left:o.getLeft()+u,top:o.getTop()-l/2+o.fontSize*(.18+o._fontSizeFraction)/o.lineHeight}),o},e.Text.fromObject=function(t,n,r){return e.Object._fromObject("Text",t,n,r,"text")},e.util.createAccessors(e.Text)}}(exports),function(){var t=fabric.util.object.clone;fabric.IText=fabric.util.createClass(fabric.Text,fabric.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"#333",cursorDelay:1e3,cursorDuration:600,styles:null,caching:!0,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],initialize:function(t,e){this.styles=e&&e.styles||{},this.callSuper("initialize",t,e),this.initBehavior()},_clearCache:function(){this.callSuper("_clearCache"),this.__widthOfSpace=[]},isEmptyStyles:function(){if(!this.styles)return!0;var t=this.styles;for(var e in t)for(var n in t[e])for(var r in t[e][n])return!1;return!0},setSelectionStart:function(t){t=Math.max(t,0),this._updateAndFire("selectionStart",t)},setSelectionEnd:function(t){t=Math.min(t,this.text.length),this._updateAndFire("selectionEnd",t)},_updateAndFire:function(t,e){this[t]!==e&&(this._fireSelectionChanged(),this[t]=e),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},getSelectionStyles:function(t,e){if(2===arguments.length){for(var n=[],r=t;r<e;r++)n.push(this.getSelectionStyles(r));return n}var i=this.get2DCursorLocation(t),o=this._getStyleDeclaration(i.lineIndex,i.charIndex);return o||{}},setSelectionStyles:function(t){if(this.selectionStart===this.selectionEnd)this._extendStyles(this.selectionStart,t);else for(var e=this.selectionStart;e<this.selectionEnd;e++)this._extendStyles(e,t);return this._forceClearCache=!0,this},_extendStyles:function(t,e){var n=this.get2DCursorLocation(t);this._getLineStyle(n.lineIndex)||this._setLineStyle(n.lineIndex,{}),this._getStyleDeclaration(n.lineIndex,n.charIndex)||this._setStyleDeclaration(n.lineIndex,n.charIndex,{}),fabric.util.object.extend(this._getStyleDeclaration(n.lineIndex,n.charIndex),e)},_initDimensions:function(t){t||this.clearContextTop(),this.callSuper("_initDimensions",t)},render:function(t,e){this.clearContextTop(),this.callSuper("render",t,e),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(t){this.callSuper("_render",t),this.ctx=t},clearContextTop:function(){if(this.active&&this.isEditing&&this.canvas&&this.canvas.contextTop){var t=this.canvas.contextTop;t.save(),t.transform.apply(t,this.canvas.viewportTransform),this.transform(t),this.transformMatrix&&t.transform.apply(t,this.transformMatrix),this._clearTextArea(t),t.restore()}},renderCursorOrSelection:function(){if(this.active&&this.isEditing){var t,e,n=this.text.split("");this.canvas&&this.canvas.contextTop?(e=this.canvas.contextTop,e.save(),e.transform.apply(e,this.canvas.viewportTransform),this.transform(e),this.transformMatrix&&e.transform.apply(e,this.transformMatrix),this._clearTextArea(e)):(e=this.ctx,e.save()),this.selectionStart===this.selectionEnd?(t=this._getCursorBoundaries(n,"cursor"),this.renderCursor(t,e)):(t=this._getCursorBoundaries(n,"selection"),this.renderSelection(n,t,e)),e.restore()}},_clearTextArea:function(t){var e=this.width+4,n=this.height+4;t.clearRect(-e/2,-n/2,e,n)},get2DCursorLocation:function(t){"undefined"===typeof t&&(t=this.selectionStart);for(var e=this._textLines.length,n=0;n<e;n++){if(t<=this._textLines[n].length)return{lineIndex:n,charIndex:t};t-=this._textLines[n].length+1}return{lineIndex:n-1,charIndex:this._textLines[n-1].length<t?this._textLines[n-1].length:t}},getCurrentCharStyle:function(t,e){var n=this._getStyleDeclaration(t,0===e?0:e-1);return{fontSize:n&&n.fontSize||this.fontSize,fill:n&&n.fill||this.fill,textBackgroundColor:n&&n.textBackgroundColor||this.textBackgroundColor,textDecoration:n&&n.textDecoration||this.textDecoration,fontFamily:n&&n.fontFamily||this.fontFamily,fontWeight:n&&n.fontWeight||this.fontWeight,fontStyle:n&&n.fontStyle||this.fontStyle,stroke:n&&n.stroke||this.stroke,strokeWidth:n&&n.strokeWidth||this.strokeWidth}},getCurrentCharFontSize:function(t,e){var n=this._getStyleDeclaration(t,0===e?0:e-1);return n&&n.fontSize?n.fontSize:this.fontSize},getCurrentCharColor:function(t,e){var n=this._getStyleDeclaration(t,0===e?0:e-1);return n&&n.fill?n.fill:this.cursorColor},_getCursorBoundaries:function(t,e){var n=Math.round(this._getLeftOffset()),r=this._getTopOffset(),i=this._getCursorBoundariesOffsets(t,e);return{left:n,top:r,leftOffset:i.left+i.lineLeft,topOffset:i.top}},_getCursorBoundariesOffsets:function(t,e){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;for(var n,r=0,i=0,o=0,a=0,s=0,c=0;c<this.selectionStart;c++)"\n"===t[c]?(s=0,a+=this._getHeightOfLine(this.ctx,i),i++,o=0):(s+=this._getWidthOfChar(this.ctx,t[c],i,o),o++),r=this._getLineLeftOffset(this._getLineWidth(this.ctx,i));return"cursor"===e&&(a+=(1-this._fontSizeFraction)*this._getHeightOfLine(this.ctx,i)/this.lineHeight-this.getCurrentCharFontSize(i,o)*(1-this._fontSizeFraction)),0!==this.charSpacing&&o===this._textLines[i].length&&(s-=this._getWidthOfCharSpacing()),n={top:a,left:s>0?s:0,lineLeft:r},this.cursorOffsetCache=n,this.cursorOffsetCache},renderCursor:function(t,e){var n=this.get2DCursorLocation(),r=n.lineIndex,i=n.charIndex,o=this.getCurrentCharFontSize(r,i),a=0===r&&0===i?this._getLineLeftOffset(this._getLineWidth(e,r)):t.leftOffset,s=this.scaleX*this.canvas.getZoom(),c=this.cursorWidth/s;e.fillStyle=this.getCurrentCharColor(r,i),e.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,e.fillRect(t.left+a-c/2,t.top+t.topOffset,c,o)},renderSelection:function(t,e,n){n.fillStyle=this.selectionColor;for(var r=this.get2DCursorLocation(this.selectionStart),i=this.get2DCursorLocation(this.selectionEnd),o=r.lineIndex,a=i.lineIndex,s=o;s<=a;s++){var c=this._getLineLeftOffset(this._getLineWidth(n,s))||0,l=this._getHeightOfLine(this.ctx,s),u=0,h=0,f=this._textLines[s];if(s===o){for(var d=0,p=f.length;d<p;d++)d>=r.charIndex&&(s!==a||d<i.charIndex)&&(h+=this._getWidthOfChar(n,f[d],s,d)),d<r.charIndex&&(c+=this._getWidthOfChar(n,f[d],s,d));d===f.length&&(h-=this._getWidthOfCharSpacing())}else if(s>o&&s<a)h+=this._getLineWidth(n,s)||5;else if(s===a){for(var g=0,m=i.charIndex;g<m;g++)h+=this._getWidthOfChar(n,f[g],s,g);i.charIndex===f.length&&(h-=this._getWidthOfCharSpacing())}u=l,(this.lineHeight<1||s===a&&this.lineHeight>1)&&(l/=this.lineHeight),n.fillRect(e.left+c,e.top+e.topOffset,h>0?h:0,l),e.topOffset+=u}},_renderChars:function(t,e,n,r,i,o,a){if(this.isEmptyStyles())return this._renderCharsFast(t,e,n,r,i);a=a||0;var s,c,l=this._getHeightOfLine(e,o),u="";e.save(),i-=l/this.lineHeight*this._fontSizeFraction;for(var h=a,f=n.length+a;h<=f;h++)s=s||this.getCurrentCharStyle(o,h),c=this.getCurrentCharStyle(o,h+1),(this._hasStyleChanged(s,c)||h===f)&&(this._renderChar(t,e,o,h-1,u,r,i,l),u="",s=c),u+=n[h-a];e.restore()},_renderCharsFast:function(t,e,n,r,i){"fillText"===t&&this.fill&&this.callSuper("_renderChars",t,e,n,r,i),"strokeText"===t&&(this.stroke&&this.strokeWidth>0||this.skipFillStrokeCheck)&&this.callSuper("_renderChars",t,e,n,r,i)},_renderChar:function(t,e,n,r,i,o,a,s){var c,l,u,h,f,d,p,g,m,v=this._getStyleDeclaration(n,r);if(v?(l=this._getHeightOfChar(e,i,n,r),h=v.stroke,u=v.fill,d=v.textDecoration):l=this.fontSize,h=(h||this.stroke)&&"strokeText"===t,u=(u||this.fill)&&"fillText"===t,v&&e.save(),c=this._applyCharStylesGetWidth(e,i,n,r,v||null),d=d||this.textDecoration,v&&v.textBackgroundColor&&this._removeShadow(e),0!==this.charSpacing){g=this._getWidthOfCharSpacing(),p=i.split(""),c=0;for(var b,y=0,w=p.length;y<w;y++)b=p[y],u&&e.fillText(b,o+c,a),h&&e.strokeText(b,o+c,a),m=e.measureText(b).width+g,c+=m>0?m:0}else u&&e.fillText(i,o,a),h&&e.strokeText(i,o,a);(d||""!==d)&&(f=this._fontSizeFraction*s/this.lineHeight,this._renderCharDecoration(e,d,o,a,f,c,l)),v&&e.restore(),e.translate(c,0)},_hasStyleChanged:function(t,e){return t.fill!==e.fill||t.fontSize!==e.fontSize||t.textBackgroundColor!==e.textBackgroundColor||t.textDecoration!==e.textDecoration||t.fontFamily!==e.fontFamily||t.fontWeight!==e.fontWeight||t.fontStyle!==e.fontStyle||t.stroke!==e.stroke||t.strokeWidth!==e.strokeWidth},_renderCharDecoration:function(t,e,n,r,i,o,a){if(e){var s,c,l=a/15,u={underline:r+a/10,"line-through":r-a*(this._fontSizeFraction+this._fontSizeMult-1)+l,overline:r-(this._fontSizeMult-this._fontSizeFraction)*a},h=["underline","line-through","overline"];for(s=0;s<h.length;s++)c=h[s],e.indexOf(c)>-1&&t.fillRect(n,u[c],o,l)}},_renderTextLine:function(t,e,n,r,i,o){this.isEmptyStyles()||(i+=this.fontSize*(this._fontSizeFraction+.03)),this.callSuper("_renderTextLine",t,e,n,r,i,o)},_renderTextDecoration:function(t){if(this.isEmptyStyles())return this.callSuper("_renderTextDecoration",t)},_renderTextLinesBackground:function(t){this.callSuper("_renderTextLinesBackground",t);var e,n,r,i,o,a,s=0,c=this._getLeftOffset(),l=this._getTopOffset();t.save();for(var u=0,h=this._textLines.length;u<h;u++)if(e=this._getHeightOfLine(t,u),i=this._textLines[u],""!==i&&this.styles&&this._getLineStyle(u)){n=this._getLineWidth(t,u),r=this._getLineLeftOffset(n);for(var f=0,d=i.length;f<d;f++)a=this._getStyleDeclaration(u,f),a&&a.textBackgroundColor&&(o=i[f],t.fillStyle=a.textBackgroundColor,t.fillRect(c+r+this._getWidthOfCharsAt(t,u,f),l+s,this._getWidthOfChar(t,o,u,f),e/this.lineHeight));s+=e}else s+=e;t.restore()},_getCacheProp:function(t,e){return t+e.fontSize+e.fontWeight+e.fontStyle},_getFontCache:function(t){return fabric.charWidthsCache[t]||(fabric.charWidthsCache[t]={}),fabric.charWidthsCache[t]},_applyCharStylesGetWidth:function(e,n,r,i,o){var a,s,c,l=o||this._getStyleDeclaration(r,i),u=t(l);if(this._applyFontStyles(u),c=this._getFontCache(u.fontFamily),s=this._getCacheProp(n,u),!l&&c[s]&&this.caching)return c[s];"string"===typeof u.shadow&&(u.shadow=new fabric.Shadow(u.shadow));var h=u.fill||this.fill;return e.fillStyle=h.toLive?h.toLive(e,this):h,u.stroke&&(e.strokeStyle=u.stroke&&u.stroke.toLive?u.stroke.toLive(e,this):u.stroke),e.lineWidth=u.strokeWidth||this.strokeWidth,e.font=this._getFontDeclaration.call(u),u.shadow&&(u.scaleX=this.scaleX,u.scaleY=this.scaleY,u.canvas=this.canvas,u.getObjectScaling=this.getObjectScaling,this._setShadow.call(u,e)),this.caching&&c[s]?c[s]:(a=e.measureText(n).width,this.caching&&(c[s]=a),a)},_applyFontStyles:function(t){t.fontFamily||(t.fontFamily=this.fontFamily),t.fontSize||(t.fontSize=this.fontSize),t.fontWeight||(t.fontWeight=this.fontWeight),t.fontStyle||(t.fontStyle=this.fontStyle)},_getStyleDeclaration:function(e,n,r){return r?this.styles[e]&&this.styles[e][n]?t(this.styles[e][n]):{}:this.styles[e]&&this.styles[e][n]?this.styles[e][n]:null},_setStyleDeclaration:function(t,e,n){this.styles[t][e]=n},_deleteStyleDeclaration:function(t,e){delete this.styles[t][e]},_getLineStyle:function(t){return this.styles[t]},_setLineStyle:function(t,e){this.styles[t]=e},_deleteLineStyle:function(t){delete this.styles[t]},_getWidthOfChar:function(t,e,n,r){if(!this._isMeasuring&&"justify"===this.textAlign&&this._reSpacesAndTabs.test(e))return this._getWidthOfSpace(t,n);t.save();var i=this._applyCharStylesGetWidth(t,e,n,r);return 0!==this.charSpacing&&(i+=this._getWidthOfCharSpacing()),t.restore(),i>0?i:0},_getHeightOfChar:function(t,e,n){var r=this._getStyleDeclaration(e,n);return r&&r.fontSize?r.fontSize:this.fontSize},_getWidthOfCharsAt:function(t,e,n){var r,i,o=0;for(r=0;r<n;r++)i=this._textLines[e][r],o+=this._getWidthOfChar(t,i,e,r);return o},_measureLine:function(t,e){this._isMeasuring=!0;var n=this._getWidthOfCharsAt(t,e,this._textLines[e].length);return 0!==this.charSpacing&&(n-=this._getWidthOfCharSpacing()),this._isMeasuring=!1,n>0?n:0},_getWidthOfSpace:function(t,e){if(this.__widthOfSpace[e])return this.__widthOfSpace[e];var n=this._textLines[e],r=this._getWidthOfWords(t,n,e,0),i=this.width-r,o=n.length-n.replace(this._reSpacesAndTabs,"").length,a=Math.max(i/o,t.measureText(" ").width);return this.__widthOfSpace[e]=a,a},_getWidthOfWords:function(t,e,n,r){for(var i=0,o=0;o<e.length;o++){var a=e[o];a.match(/\s/)||(i+=this._getWidthOfChar(t,a,n,o+r))}return i},_getHeightOfLine:function(t,e){if(this.__lineHeights[e])return this.__lineHeights[e];for(var n=this._textLines[e],r=this._getHeightOfChar(t,e,0),i=1,o=n.length;i<o;i++){var a=this._getHeightOfChar(t,e,i);a>r&&(r=a)}return this.__lineHeights[e]=r*this.lineHeight*this._fontSizeMult,this.__lineHeights[e]},_getTextHeight:function(t){for(var e,n=0,r=0,i=this._textLines.length;r<i;r++)e=this._getHeightOfLine(t,r),n+=r===i-1?e/this.lineHeight:e;return n},toObject:function(e){return fabric.util.object.extend(this.callSuper("toObject",e),{styles:t(this.styles,!0)})}}),fabric.IText.fromObject=function(t,e,n){return fabric.Object._fromObject("IText",t,e,n,"text")}}(),function(){var t=fabric.util.object.clone;fabric.util.object.extend(fabric.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},initSelectedHandler:function(){this.on("selected",(function(){var t=this;setTimeout((function(){t.selected=!0}),100)}))},initAddedHandler:function(){var t=this;this.on("added",(function(){var e=t.canvas;e&&(e._hasITextHandlers||(e._hasITextHandlers=!0,t._initCanvasHandlers(e)),e._iTextInstances=e._iTextInstances||[],e._iTextInstances.push(t))}))},initRemovedHandler:function(){var t=this;this.on("removed",(function(){var e=t.canvas;e&&(e._iTextInstances=e._iTextInstances||[],fabric.util.removeFromArray(e._iTextInstances,t),0===e._iTextInstances.length&&(e._hasITextHandlers=!1,t._removeCanvasHandlers(e)))}))},_initCanvasHandlers:function(t){t._canvasITextSelectionClearedHanlder=function(){fabric.IText.prototype.exitEditingOnOthers(t)}.bind(this),t._mouseUpITextHandler=function(){t._iTextInstances&&t._iTextInstances.forEach((function(t){t.__isMousedown=!1}))}.bind(this),t.on("selection:cleared",t._canvasITextSelectionClearedHanlder),t.on("object:selected",t._canvasITextSelectionClearedHanlder),t.on("mouse:up",t._mouseUpITextHandler)},_removeCanvasHandlers:function(t){t.off("selection:cleared",t._canvasITextSelectionClearedHanlder),t.off("object:selected",t._canvasITextSelectionClearedHanlder),t.off("mouse:up",t._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(t,e,n,r){var i;return i={isAborted:!1,abort:function(){this.isAborted=!0}},t.animate("_currentCursorOpacity",e,{duration:n,onComplete:function(){i.isAborted||t[r]()},onChange:function(){t.canvas&&t.selectionStart===t.selectionEnd&&t.renderCursorOrSelection()},abort:function(){return i.isAborted}}),i},_onTickComplete:function(){var t=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout((function(){t._currentTickCompleteState=t._animateCursor(t,0,this.cursorDuration/2,"_tick")}),100)},initDelayedCursor:function(t){var e=this,n=t?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout((function(){e._tick()}),n)},abortCursorAnimation:function(){var t=this._currentTickState||this._currentTickCompleteState;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,t&&this.canvas&&this.canvas.clearContext(this.canvas.contextTop||this.ctx)},selectAll:function(){this.selectionStart=0,this.selectionEnd=this.text.length,this._fireSelectionChanged(),this._updateTextarea()},getSelectedText:function(){return this.text.slice(this.selectionStart,this.selectionEnd)},findWordBoundaryLeft:function(t){var e=0,n=t-1;if(this._reSpace.test(this.text.charAt(n)))while(this._reSpace.test(this.text.charAt(n)))e++,n--;while(/\S/.test(this.text.charAt(n))&&n>-1)e++,n--;return t-e},findWordBoundaryRight:function(t){var e=0,n=t;if(this._reSpace.test(this.text.charAt(n)))while(this._reSpace.test(this.text.charAt(n)))e++,n++;while(/\S/.test(this.text.charAt(n))&&n<this.text.length)e++,n++;return t+e},findLineBoundaryLeft:function(t){var e=0,n=t-1;while(!/\n/.test(this.text.charAt(n))&&n>-1)e++,n--;return t-e},findLineBoundaryRight:function(t){var e=0,n=t;while(!/\n/.test(this.text.charAt(n))&&n<this.text.length)e++,n++;return t+e},getNumNewLinesInSelectedText:function(){for(var t=this.getSelectedText(),e=0,n=0,r=t.length;n<r;n++)"\n"===t[n]&&e++;return e},searchWordBoundary:function(t,e){var n=this._reSpace.test(this.text.charAt(t))?t-1:t,r=this.text.charAt(n),i=/[ \n\.,;!\?\-]/;while(!i.test(r)&&n>0&&n<this.text.length)n+=e,r=this.text.charAt(n);return i.test(r)&&"\n"!==r&&(n+=1===e?0:1),n},selectWord:function(t){t=t||this.selectionStart;var e=this.searchWordBoundary(t,-1),n=this.searchWordBoundary(t,1);this.selectionStart=e,this.selectionEnd=n,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(t){t=t||this.selectionStart;var e=this.findLineBoundaryLeft(t),n=this.findLineBoundaryRight(t);this.selectionStart=e,this.selectionEnd=n,this._fireSelectionChanged(),this._updateTextarea()},enterEditing:function(t){if(!this.isEditing&&this.editable)return this.canvas&&this.exitEditingOnOthers(this.canvas),this.isEditing=!0,this.initHiddenTextarea(t),this.hiddenTextarea.focus(),this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.renderAll(),this):this},exitEditingOnOthers:function(t){t._iTextInstances&&t._iTextInstances.forEach((function(t){t.selected=!1,t.isEditing&&t.exitEditing()}))},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(t){if(this.__isMousedown&&this.isEditing){var e=this.getSelectionStartFromPointer(t.e),n=this.selectionStart,r=this.selectionEnd;e!==this.__selectionStartOnMouseDown&&(e>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=e):(this.selectionStart=e,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===n&&this.selectionEnd===r||(this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},_updateTextarea:function(){if(this.hiddenTextarea&&!this.inCompositionMode&&(this.cursorOffsetCache={},this.hiddenTextarea.value=this.text,this.hiddenTextarea.selectionStart=this.selectionStart,this.hiddenTextarea.selectionEnd=this.selectionEnd,this.selectionStart===this.selectionEnd)){var t=this._calcTextareaPosition();this.hiddenTextarea.style.left=t.left,this.hiddenTextarea.style.top=t.top,this.hiddenTextarea.style.fontSize=t.fontSize}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var t=this.text.split(""),e=this._getCursorBoundaries(t,"cursor"),n=this.get2DCursorLocation(),r=n.lineIndex,i=n.charIndex,o=this.getCurrentCharFontSize(r,i),a=0===r&&0===i?this._getLineLeftOffset(this._getLineWidth(this.ctx,r)):e.leftOffset,s=this.calcTransformMatrix(),c={x:e.left+a,y:e.top+e.topOffset+o},l=this.canvas.upperCanvasEl,u=l.width-o,h=l.height-o;return c=fabric.util.transformPoint(c,s),c=fabric.util.transformPoint(c,this.canvas.viewportTransform),c.x<0&&(c.x=0),c.x>u&&(c.x=u),c.y<0&&(c.y=0),c.y>h&&(c.y=h),c.x+=this.canvas._offset.left,c.y+=this.canvas._offset.top,{left:c.x+"px",top:c.y+"px",fontSize:o}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.overCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var t=this._textBeforeEdit!==this.text;return this.selected=!1,this.isEditing=!1,this.selectable=!0,this.selectionEnd=this.selectionStart,this.hiddenTextarea.blur&&this.hiddenTextarea.blur(),this.hiddenTextarea&&this.canvas&&this.hiddenTextarea.parentNode.removeChild(this.hiddenTextarea),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this.fire("editing:exited"),t&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),t&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var t in this.styles)this._textLines[t]||delete this.styles[t]},_removeCharsFromTo:function(t,e){while(e!==t)this._removeSingleCharAndStyle(t+1),e--;this.selectionStart=t,this.selectionEnd=t},_removeSingleCharAndStyle:function(t){var e="\n"===this.text[t-1],n=e?t:t-1;this.removeStyleObject(e,n),this.text=this.text.slice(0,t-1)+this.text.slice(t),this._textLines=this._splitTextIntoLines()},insertChars:function(t,e){var n;if(this.selectionEnd-this.selectionStart>1&&this._removeCharsFromTo(this.selectionStart,this.selectionEnd),e||!this.isEmptyStyles())for(var r=0,i=t.length;r<i;r++)e&&(n=fabric.util.object.clone(fabric.copiedTextStyle[r],!0)),this.insertChar(t[r],r<i-1,n);else this.insertChar(t,!1)},insertChar:function(t,e,n){var r="\n"===this.text[this.selectionStart];this.text=this.text.slice(0,this.selectionStart)+t+this.text.slice(this.selectionEnd),this._textLines=this._splitTextIntoLines(),this.insertStyleObjects(t,r,n),this.selectionStart+=t.length,this.selectionEnd=this.selectionStart,e||(this._updateTextarea(),this.setCoords(),this._fireSelectionChanged(),this.fire("changed"),this.canvas&&this.canvas.fire("text:changed",{target:this}),this.canvas&&this.canvas.renderAll())},insertNewlineStyleObject:function(e,n,r){this.shiftLineStyles(e,1),this.styles[e+1]||(this.styles[e+1]={});var i={},o={};if(this.styles[e]&&this.styles[e][n-1]&&(i=this.styles[e][n-1]),r)o[0]=t(i),this.styles[e+1]=o;else{for(var a in this.styles[e])parseInt(a,10)>=n&&(o[parseInt(a,10)-n]=this.styles[e][a],delete this.styles[e][a]);this.styles[e+1]=o}this._forceClearCache=!0},insertCharStyleObject:function(e,n,r){var i=this.styles[e],o=t(i);for(var a in 0!==n||r||(n=1),o){var s=parseInt(a,10);s>=n&&(i[s+1]=o[s],o[s-1]||delete i[s])}this.styles[e][n]=r||t(i[n-1]),this._forceClearCache=!0},insertStyleObjects:function(t,e,n){var r=this.get2DCursorLocation(),i=r.lineIndex,o=r.charIndex;this._getLineStyle(i)||this._setLineStyle(i,{}),"\n"===t?this.insertNewlineStyleObject(i,o,e):this.insertCharStyleObject(i,o,n)},shiftLineStyles:function(e,n){var r=t(this.styles);for(var i in this.styles){var o=parseInt(i,10);o>e&&(this.styles[o+n]=r[o],r[o-n]||delete this.styles[o])}},removeStyleObject:function(t,e){var n=this.get2DCursorLocation(e),r=n.lineIndex,i=n.charIndex;this._removeStyleObject(t,n,r,i)},_getTextOnPreviousLine:function(t){return this._textLines[t-1]},_removeStyleObject:function(e,n,r,i){if(e){var o=this._getTextOnPreviousLine(n.lineIndex),a=o?o.length:0;for(i in this.styles[r-1]||(this.styles[r-1]={}),this.styles[r])this.styles[r-1][parseInt(i,10)+a]=this.styles[r][i];this.shiftLineStyles(n.lineIndex,-1)}else{var s=this.styles[r];s&&delete s[i];var c=t(s);for(var l in c){var u=parseInt(l,10);u>=i&&0!==u&&(s[u-1]=c[u],delete s[u])}}},insertNewline:function(){this.insertChars("\n")},setSelectionStartEndWithShift:function(t,e,n){n<=t?(e===t?this._selectionDirection="left":"right"===this._selectionDirection&&(this._selectionDirection="left",this.selectionEnd=t),this.selectionStart=n):n>t&&n<e?"right"===this._selectionDirection?this.selectionEnd=n:this.selectionStart=n:(e===t?this._selectionDirection="right":"left"===this._selectionDirection&&(this._selectionDirection="right",this.selectionStart=e),this.selectionEnd=n)},setSelectionInBoundaries:function(){var t=this.text.length;this.selectionStart>t?this.selectionStart=t:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>t?this.selectionEnd=t:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),fabric.util.object.extend(fabric.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown.bind(this))},onMouseDown:function(t){this.__newClickTime=+new Date;var e=this.canvas.getPointer(t.e);this.isTripleClick(e)?(this.fire("tripleclick",t),this._stopEvent(t.e)):this.isDoubleClick(e)&&(this.fire("dblclick",t),this._stopEvent(t.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=e,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected},isDoubleClick:function(t){return this.__newClickTime-this.__lastClickTime<500&&this.__lastPointer.x===t.x&&this.__lastPointer.y===t.y&&this.__lastIsEditing},isTripleClick:function(t){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===t.x&&this.__lastPointer.y===t.y},_stopEvent:function(t){t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation()},initCursorSelectionHandlers:function(){this.initSelectedHandler(),this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},initClicks:function(){this.on("dblclick",(function(t){this.selectWord(this.getSelectionStartFromPointer(t.e))})),this.on("tripleclick",(function(t){this.selectLine(this.getSelectionStartFromPointer(t.e))}))},initMousedownHandler:function(){this.on("mousedown",(function(t){if(this.editable){var e=this.canvas.getPointer(t.e);this.__mousedownX=e.x,this.__mousedownY=e.y,this.__isMousedown=!0,this.selected&&this.setCursorByClick(t.e),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection())}}))},_isObjectMoved:function(t){var e=this.canvas.getPointer(t);return this.__mousedownX!==e.x||this.__mousedownY!==e.y},initMouseupHandler:function(){this.on("mouseup",(function(t){this.__isMousedown=!1,this.editable&&!this._isObjectMoved(t.e)&&(this.__lastSelected&&!this.__corner&&(this.enterEditing(t.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()),this.selected=!0)}))},setCursorByClick:function(t){var e=this.getSelectionStartFromPointer(t),n=this.selectionStart,r=this.selectionEnd;t.shiftKey?this.setSelectionStartEndWithShift(n,r,e):(this.selectionStart=e,this.selectionEnd=e),this._fireSelectionChanged(),this._updateTextarea()},getSelectionStartFromPointer:function(t){for(var e,n,r=this.getLocalPointer(t),i=0,o=0,a=0,s=0,c=0,l=this._textLines.length;c<l;c++){n=this._textLines[c],a+=this._getHeightOfLine(this.ctx,c)*this.scaleY;var u=this._getLineWidth(this.ctx,c),h=this._getLineLeftOffset(u);o=h*this.scaleX;for(var f=0,d=n.length;f<d;f++){if(i=o,o+=this._getWidthOfChar(this.ctx,n[f],c,this.flipX?d-f:f)*this.scaleX,!(a<=r.y||o<=r.x))return this._getNewSelectionStartFromOffset(r,i,o,s+c,d);s++}if(r.y<a)return this._getNewSelectionStartFromOffset(r,i,o,s+c-1,d)}if("undefined"===typeof e)return this.text.length},_getNewSelectionStartFromOffset:function(t,e,n,r,i){var o=t.x-e,a=n-t.x,s=a>o?0:1,c=r+s;return this.flipX&&(c=i-c),c>this.text.length&&(c=this.text.length),c}}),fabric.util.object.extend(fabric.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=fabric.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off");var t=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+t.top+"; left: "+t.left+"; opacity: 0; width: 0px; height: 0px; z-index: -999;",fabric.document.body.appendChild(this.hiddenTextarea),fabric.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),fabric.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),fabric.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),fabric.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),fabric.util.addListener(this.hiddenTextarea,"cut",this.cut.bind(this)),fabric.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),fabric.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),fabric.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),fabric.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(fabric.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},_keysMap:{8:"removeChars",9:"exitEditing",27:"exitEditing",13:"insertNewline",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown",46:"forwardDelete"},_ctrlKeysMapUp:{67:"copy",88:"cut"},_ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(t){if(this.isEditing){if(t.keyCode in this._keysMap)this[this._keysMap[t.keyCode]](t);else{if(!(t.keyCode in this._ctrlKeysMapDown)||!t.ctrlKey&&!t.metaKey)return;this[this._ctrlKeysMapDown[t.keyCode]](t)}t.stopImmediatePropagation(),t.preventDefault(),t.keyCode>=33&&t.keyCode<=40?(this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.renderAll()}},onKeyUp:function(t){this.isEditing&&!this._copyDone?t.keyCode in this._ctrlKeysMapUp&&(t.ctrlKey||t.metaKey)&&(this[this._ctrlKeysMapUp[t.keyCode]](t),t.stopImmediatePropagation(),t.preventDefault(),this.canvas&&this.canvas.renderAll()):this._copyDone=!1},onInput:function(t){if(this.isEditing&&!this.inCompositionMode){var e,n,r,i=this.selectionStart||0,o=this.selectionEnd||0,a=this.text.length,s=this.hiddenTextarea.value.length;s>a?(r="left"===this._selectionDirection?o:i,e=s-a,n=this.hiddenTextarea.value.slice(r,r+e)):(e=s-a+o-i,n=this.hiddenTextarea.value.slice(i,i+e)),this.insertChars(n),t.stopPropagation()}},onCompositionStart:function(){this.inCompositionMode=!0,this.prevCompositionLength=0,this.compositionStart=this.selectionStart},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(t){var e=t.data;this.selectionStart=this.compositionStart,this.selectionEnd=this.selectionEnd===this.selectionStart?this.compositionStart+this.prevCompositionLength:this.selectionEnd,this.insertChars(e,!1),this.prevCompositionLength=e.length},forwardDelete:function(t){if(this.selectionStart===this.selectionEnd){if(this.selectionStart===this.text.length)return;this.moveCursorRight(t)}this.removeChars(t)},copy:function(t){if(this.selectionStart!==this.selectionEnd){var e=this.getSelectedText(),n=this._getClipboardData(t);n&&n.setData("text",e),fabric.copiedText=e,fabric.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd),t.stopImmediatePropagation(),t.preventDefault(),this._copyDone=!0}},paste:function(t){var e=null,n=this._getClipboardData(t),r=!0;n?(e=n.getData("text").replace(/\r/g,""),fabric.copiedTextStyle&&fabric.copiedText===e||(r=!1)):e=fabric.copiedText,e&&this.insertChars(e,r),t.stopImmediatePropagation(),t.preventDefault()},cut:function(t){this.selectionStart!==this.selectionEnd&&(this.copy(t),this.removeChars(t))},_getClipboardData:function(t){return t&&t.clipboardData||fabric.window.clipboardData},_getWidthBeforeCursor:function(t,e){for(var n,r=this._textLines[t].slice(0,e),i=this._getLineWidth(this.ctx,t),o=this._getLineLeftOffset(i),a=0,s=r.length;a<s;a++)n=r[a],o+=this._getWidthOfChar(this.ctx,n,t,a);return o},getDownCursorOffset:function(t,e){var n=this._getSelectionForOffset(t,e),r=this.get2DCursorLocation(n),i=r.lineIndex;if(i===this._textLines.length-1||t.metaKey||34===t.keyCode)return this.text.length-n;var o=r.charIndex,a=this._getWidthBeforeCursor(i,o),s=this._getIndexOnLine(i+1,a),c=this._textLines[i].slice(o);return c.length+s+2},_getSelectionForOffset:function(t,e){return t.shiftKey&&this.selectionStart!==this.selectionEnd&&e?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(t,e){var n=this._getSelectionForOffset(t,e),r=this.get2DCursorLocation(n),i=r.lineIndex;if(0===i||t.metaKey||33===t.keyCode)return-n;var o=r.charIndex,a=this._getWidthBeforeCursor(i,o),s=this._getIndexOnLine(i-1,a),c=this._textLines[i].slice(0,o);return-this._textLines[i-1].length+s-c.length},_getIndexOnLine:function(t,e){for(var n,r=this._getLineWidth(this.ctx,t),i=this._textLines[t],o=this._getLineLeftOffset(r),a=o,s=0,c=0,l=i.length;c<l;c++){var u=i[c],h=this._getWidthOfChar(this.ctx,u,t,c);if(a+=h,a>e){n=!0;var f=a-h,d=a,p=Math.abs(f-e),g=Math.abs(d-e);s=g<p?c:c-1;break}}return n||(s=i.length-1),s},moveCursorDown:function(t){this.selectionStart>=this.text.length&&this.selectionEnd>=this.text.length||this._moveCursorUpOrDown("Down",t)},moveCursorUp:function(t){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorUpOrDown("Up",t)},_moveCursorUpOrDown:function(t,e){var n="get"+t+"CursorOffset",r=this[n](e,"right"===this._selectionDirection);e.shiftKey?this.moveCursorWithShift(r):this.moveCursorWithoutShift(r),0!==r&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(t){var e="left"===this._selectionDirection?this.selectionStart+t:this.selectionEnd+t;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,e),0!==t},moveCursorWithoutShift:function(t){return t<0?(this.selectionStart+=t,this.selectionEnd=this.selectionStart):(this.selectionEnd+=t,this.selectionStart=this.selectionEnd),0!==t},moveCursorLeft:function(t){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorLeftOrRight("Left",t)},_move:function(t,e,n){var r;if(t.altKey)r=this["findWordBoundary"+n](this[e]);else{if(!t.metaKey&&35!==t.keyCode&&36!==t.keyCode)return this[e]+="Left"===n?-1:1,!0;r=this["findLineBoundary"+n](this[e])}if(void 0!==typeof r&&this[e]!==r)return this[e]=r,!0},_moveLeft:function(t,e){return this._move(t,e,"Left")},_moveRight:function(t,e){return this._move(t,e,"Right")},moveCursorLeftWithoutShift:function(t){var e=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&0!==this.selectionStart&&(e=this._moveLeft(t,"selectionStart")),this.selectionEnd=this.selectionStart,e},moveCursorLeftWithShift:function(t){return"right"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveLeft(t,"selectionEnd"):0!==this.selectionStart?(this._selectionDirection="left",this._moveLeft(t,"selectionStart")):void 0},moveCursorRight:function(t){this.selectionStart>=this.text.length&&this.selectionEnd>=this.text.length||this._moveCursorLeftOrRight("Right",t)},_moveCursorLeftOrRight:function(t,e){var n="moveCursor"+t+"With";this._currentCursorOpacity=1,e.shiftKey?n+="Shift":n+="outShift",this[n](e)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(t){return"left"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveRight(t,"selectionStart"):this.selectionEnd!==this.text.length?(this._selectionDirection="right",this._moveRight(t,"selectionEnd")):void 0},moveCursorRightWithoutShift:function(t){var e=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(e=this._moveRight(t,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,e},removeChars:function(t){this.selectionStart===this.selectionEnd?this._removeCharsNearCursor(t):this._removeCharsFromTo(this.selectionStart,this.selectionEnd),this.set("dirty",!0),this.setSelectionEnd(this.selectionStart),this._removeExtraneousStyles(),this.canvas&&this.canvas.renderAll(),this.setCoords(),this.fire("changed"),this.canvas&&this.canvas.fire("text:changed",{target:this})},_removeCharsNearCursor:function(t){if(0!==this.selectionStart)if(t.metaKey){var e=this.findLineBoundaryLeft(this.selectionStart);this._removeCharsFromTo(e,this.selectionStart),this.setSelectionStart(e)}else if(t.altKey){var n=this.findWordBoundaryLeft(this.selectionStart);this._removeCharsFromTo(n,this.selectionStart),this.setSelectionStart(n)}else this._removeSingleCharAndStyle(this.selectionStart),this.setSelectionStart(this.selectionStart-1)}}),function(){var t=fabric.util.toFixed,e=fabric.Object.NUM_FRACTION_DIGITS;fabric.util.object.extend(fabric.IText.prototype,{_setSVGTextLineText:function(t,e,n,r,i,o){this._getLineStyle(t)?this._setSVGTextLineChars(t,e,n,r,o):fabric.Text.prototype._setSVGTextLineText.call(this,t,e,n,r,i)},_setSVGTextLineChars:function(t,e,n,r,i){for(var o=this._textLines[t],a=0,s=this._getLineLeftOffset(this._getLineWidth(this.ctx,t))-this.width/2,c=this._getSVGLineTopOffset(t),l=this._getHeightOfLine(this.ctx,t),u=0,h=o.length;u<h;u++){var f=this._getStyleDeclaration(t,u)||{};e.push(this._createTextCharSpan(o[u],f,s,c.lineTop+c.offset,a));var d=this._getWidthOfChar(this.ctx,o[u],t,u);f.textBackgroundColor&&i.push(this._createTextCharBg(f,s,c.lineTop,l,d,a)),a+=d}},_getSVGLineTopOffset:function(t){for(var e=0,n=0,r=0;r<t;r++)e+=this._getHeightOfLine(this.ctx,r);return n=this._getHeightOfLine(this.ctx,r),{lineTop:e,offset:(this._fontSizeMult-this._fontSizeFraction)*n/(this.lineHeight*this._fontSizeMult)}},_createTextCharBg:function(n,r,i,o,a,s){return['\t\t<rect fill="',n.textBackgroundColor,'" x="',t(r+s,e),'" y="',t(i-this.height/2,e),'" width="',t(a,e),'" height="',t(o/this.lineHeight,e),'"></rect>\n'].join("")},_createTextCharSpan:function(n,r,i,o,a){var s=this.getSvgStyles.call(fabric.util.object.extend({visible:!0,fill:this.fill,stroke:this.stroke,type:"text",getSvgFilter:fabric.Object.prototype.getSvgFilter},r));return['\t\t\t<tspan x="',t(i+a,e),'" y="',t(o-this.height/2,e),'" ',r.fontFamily?'font-family="'+r.fontFamily.replace(/"/g,"'")+'" ':"",r.fontSize?'font-size="'+r.fontSize+'" ':"",r.fontStyle?'font-style="'+r.fontStyle+'" ':"",r.fontWeight?'font-weight="'+r.fontWeight+'" ':"",r.textDecoration?'text-decoration="'+r.textDecoration+'" ':"",'style="',s,'">',fabric.util.string.escapeXml(n),"</tspan>\n"].join("")}})}(),function(t){"use strict";var e=t.fabric||(t.fabric={});e.Textbox=e.util.createClass(e.IText,e.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingY:!0,lockScalingFlip:!0,noScaleCache:!1,initialize:function(t,n){this.callSuper("initialize",t,n),this.setControlsVisibility(e.Textbox.getTextboxControlVisibility()),this.ctx=this.objectCaching?this._cacheContext:e.util.createCanvasElement().getContext("2d"),this._dimensionAffectingProps.push("width")},_initDimensions:function(t){this.__skipDimension||(t||(t=e.util.createCanvasElement().getContext("2d"),this._setTextStyles(t),this.clearContextTop()),this.dynamicMinWidth=0,this._textLines=this._splitTextIntoLines(t),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this._clearCache(),this.height=this._getTextHeight(t))},_generateStyleMap:function(){for(var t=0,e=0,n=0,r={},i=0;i<this._textLines.length;i++)"\n"===this.text[n]&&i>0?(e=0,n++,t++):" "===this.text[n]&&i>0&&(e++,n++),r[i]={line:t,offset:e},n+=this._textLines[i].length,e+=this._textLines[i].length;return r},_getStyleDeclaration:function(t,e,n){if(this._styleMap){var r=this._styleMap[t];if(!r)return n?{}:null;t=r.line,e=r.offset+e}return this.callSuper("_getStyleDeclaration",t,e,n)},_setStyleDeclaration:function(t,e,n){var r=this._styleMap[t];t=r.line,e=r.offset+e,this.styles[t][e]=n},_deleteStyleDeclaration:function(t,e){var n=this._styleMap[t];t=n.line,e=n.offset+e,delete this.styles[t][e]},_getLineStyle:function(t){var e=this._styleMap[t];return this.styles[e.line]},_setLineStyle:function(t,e){var n=this._styleMap[t];this.styles[n.line]=e},_deleteLineStyle:function(t){var e=this._styleMap[t];delete this.styles[e.line]},_wrapText:function(t,e){var n,r=e.split(this._reNewline),i=[];for(n=0;n<r.length;n++)i=i.concat(this._wrapLine(t,r[n],n));return i},_measureText:function(t,e,n,r){var i=0;r=r||0;for(var o=0,a=e.length;o<a;o++)i+=this._getWidthOfChar(t,e[o],n,o+r);return i},_wrapLine:function(t,e,n){for(var r=0,i=[],o="",a=e.split(" "),s="",c=0,l=" ",u=0,h=0,f=0,d=!0,p=this._getWidthOfCharSpacing(),g=0;g<a.length;g++)s=a[g],u=this._measureText(t,s,n,c),c+=s.length,r+=h+u-p,r>=this.width&&!d?(i.push(o),o="",r=u,d=!0):r+=p,d||(o+=l),o+=s,h=this._measureText(t,l,n,c),c++,d=!1,u>f&&(f=u);return g&&i.push(o),f>this.dynamicMinWidth&&(this.dynamicMinWidth=f-p),i},_splitTextIntoLines:function(t){t=t||this.ctx;var e=this.textAlign;this._styleMap=null,t.save(),this._setTextStyles(t),this.textAlign="left";var n=this._wrapText(t,this.text);return this.textAlign=e,t.restore(),this._textLines=n,this._styleMap=this._generateStyleMap(),n},setOnGroup:function(t,e){"scaleX"===t&&(this.set("scaleX",Math.abs(1/e)),this.set("width",this.get("width")*e/("undefined"===typeof this.__oldScaleX?1:this.__oldScaleX)),this.__oldScaleX=e)},get2DCursorLocation:function(t){"undefined"===typeof t&&(t=this.selectionStart);for(var e=this._textLines.length,n=0,r=0;r<e;r++){var i=this._textLines[r],o=i.length;if(t<=n+o)return{lineIndex:r,charIndex:t-n};n+=o,"\n"!==this.text[n]&&" "!==this.text[n]||n++}return{lineIndex:e-1,charIndex:this._textLines[e-1].length}},_getCursorBoundariesOffsets:function(t,e){for(var n=0,r=0,i=this.get2DCursorLocation(),o=this._textLines[i.lineIndex].split(""),a=this._getLineLeftOffset(this._getLineWidth(this.ctx,i.lineIndex)),s=0;s<i.charIndex;s++)r+=this._getWidthOfChar(this.ctx,o[s],i.lineIndex,s);for(s=0;s<i.lineIndex;s++)n+=this._getHeightOfLine(this.ctx,s);return"cursor"===e&&(n+=(1-this._fontSizeFraction)*this._getHeightOfLine(this.ctx,i.lineIndex)/this.lineHeight-this.getCurrentCharFontSize(i.lineIndex,i.charIndex)*(1-this._fontSizeFraction)),{top:n,left:r,lineLeft:a}},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},toObject:function(t){return this.callSuper("toObject",["minWidth"].concat(t))}}),e.Textbox.fromObject=function(t,n,r){return e.Object._fromObject("Textbox",t,n,r,"text")},e.Textbox.getTextboxControlVisibility=function(){return{tl:!1,tr:!1,br:!1,bl:!1,ml:!0,mt:!1,mr:!0,mb:!1,mtr:!0}}}(exports),function(){var t=fabric.Canvas.prototype._setObjectScale;fabric.Canvas.prototype._setObjectScale=function(e,n,r,i,o,a,s){var c=n.target;if(!(c instanceof fabric.Textbox))return t.call(fabric.Canvas.prototype,e,n,r,i,o,a,s);var l=c.width*(e.x/n.scaleX/(c.width+c.strokeWidth));return l>=c.getMinWidth()?(c.set("width",l),!0):void 0},fabric.Group.prototype._refreshControlsVisibility=function(){if("undefined"!==typeof fabric.Textbox)for(var t=this._objects.length;t--;)if(this._objects[t]instanceof fabric.Textbox)return void this.setControlsVisibility(fabric.Textbox.getTextboxControlVisibility())};var e=fabric.util.object.clone;fabric.util.object.extend(fabric.Textbox.prototype,{_removeExtraneousStyles:function(){for(var t in this._styleMap)this._textLines[t]||delete this.styles[this._styleMap[t].line]},insertCharStyleObject:function(t,e,n){var r=this._styleMap[t];t=r.line,e=r.offset+e,fabric.IText.prototype.insertCharStyleObject.apply(this,[t,e,n])},insertNewlineStyleObject:function(t,e,n){var r=this._styleMap[t];t=r.line,e=r.offset+e,fabric.IText.prototype.insertNewlineStyleObject.apply(this,[t,e,n])},shiftLineStyles:function(t,n){var r=e(this.styles),i=this._styleMap[t];for(var o in t=i.line,this.styles){var a=parseInt(o,10);a>t&&(this.styles[a+n]=r[a],r[a-n]||delete this.styles[a])}},_getTextOnPreviousLine:function(t){var e=this._textLines[t-1];while(this._styleMap[t-2]&&this._styleMap[t-2].line===this._styleMap[t-1].line)e=this._textLines[t-2]+e,t--;return e},removeStyleObject:function(t,e){var n=this.get2DCursorLocation(e),r=this._styleMap[n.lineIndex],i=r.line,o=r.offset+n.charIndex;this._removeStyleObject(t,n,i,o)}})}(),function(){var t=fabric.IText.prototype._getNewSelectionStartFromOffset;fabric.IText.prototype._getNewSelectionStartFromOffset=function(e,n,r,i,o){i=t.call(this,e,n,r,i,o);for(var a=0,s=0,c=0;c<this._textLines.length;c++){if(a+=this._textLines[c].length,a+s>=i)break;"\n"!==this.text[a+s]&&" "!==this.text[a+s]||s++}return i-c+s}}(),function(){if("undefined"===typeof document||"undefined"===typeof window){var DOMParser=__webpack_require__(3).DOMParser,URL=__webpack_require__("CxY0"),HTTP=__webpack_require__("lJCZ"),HTTPS=__webpack_require__("JPgR"),Canvas=__webpack_require__(0),Image=__webpack_require__(0).Image;fabric.util.loadImage=function(t,e,n){function r(r){r?(i.src=new Buffer(r,"binary"),i._src=t,e&&e.call(n,i)):(i=null,e&&e.call(n,null,!0))}var i=new Image;t&&(t instanceof Buffer||0===t.indexOf("data"))?(i.src=i._src=t,e&&e.call(n,i)):t&&0!==t.indexOf("http")?requestFs(t,r):t?request(t,"binary",r):e&&e.call(n,t)},fabric.loadSVGFromURL=function(t,e,n){t=t.replace(/^\n\s*/,"").replace(/\?.*$/,"").trim(),0!==t.indexOf("http")?requestFs(t,(function(t){fabric.loadSVGFromString(t.toString(),e,n)})):request(t,"",(function(t){fabric.loadSVGFromString(t,e,n)}))},fabric.loadSVGFromString=function(t,e,n){var r=(new DOMParser).parseFromString(t);fabric.parseSVGDocument(r.documentElement,(function(t,n){e&&e(t,n)}),n)},fabric.util.getScript=function(url,callback){request(url,"",(function(body){eval(body),callback&&callback()}))},fabric.createCanvasForNode=function(t,e,n,r){r=r||n;var i=fabric.document.createElement("canvas"),o=new Canvas(t||600,e||600,r),a=new Canvas(t||600,e||600,r);i.style={},i.width=o.width,i.height=o.height,n=n||{},n.nodeCanvas=o,n.nodeCacheCanvas=a;var s=fabric.Canvas||fabric.StaticCanvas,c=new s(i,n);return c.nodeCanvas=o,c.nodeCacheCanvas=a,c.contextContainer=o.getContext("2d"),c.contextCache=a.getContext("2d"),c.Font=Canvas.Font,c};var originaInitStatic=fabric.StaticCanvas.prototype._initStatic;fabric.StaticCanvas.prototype._initStatic=function(t,e){t=t||fabric.document.createElement("canvas"),this.nodeCanvas=new Canvas(t.width,t.height),this.nodeCacheCanvas=new Canvas(t.width,t.height),originaInitStatic.call(this,t,e),this.contextContainer=this.nodeCanvas.getContext("2d"),this.contextCache=this.nodeCacheCanvas.getContext("2d"),this.Font=Canvas.Font},fabric.StaticCanvas.prototype.createPNGStream=function(){return this.nodeCanvas.createPNGStream()},fabric.StaticCanvas.prototype.createJPEGStream=function(t){return this.nodeCanvas.createJPEGStream(t)},fabric.StaticCanvas.prototype._initRetinaScaling=function(){if(this._isRetinaScaling())return this.lowerCanvasEl.setAttribute("width",this.width*fabric.devicePixelRatio),this.lowerCanvasEl.setAttribute("height",this.height*fabric.devicePixelRatio),this.nodeCanvas.width=this.width*fabric.devicePixelRatio,this.nodeCanvas.height=this.height*fabric.devicePixelRatio,this.contextContainer.scale(fabric.devicePixelRatio,fabric.devicePixelRatio),this},fabric.Canvas&&(fabric.Canvas.prototype._initRetinaScaling=fabric.StaticCanvas.prototype._initRetinaScaling);var origSetBackstoreDimension=fabric.StaticCanvas.prototype._setBackstoreDimension;fabric.StaticCanvas.prototype._setBackstoreDimension=function(t,e){return origSetBackstoreDimension.call(this,t,e),this.nodeCanvas[t]=e,this},fabric.Canvas&&(fabric.Canvas.prototype._setBackstoreDimension=fabric.StaticCanvas.prototype._setBackstoreDimension)}function request(t,e,n){var r=URL.parse(t);r.port||(r.port=0===r.protocol.indexOf("https:")?443:80);var i=0===r.protocol.indexOf("https:")?HTTPS:HTTP,o=i.request({hostname:r.hostname,port:r.port,path:r.path,method:"GET"},(function(t){var r="";e&&t.setEncoding(e),t.on("end",(function(){n(r)})),t.on("data",(function(e){200===t.statusCode&&(r+=e)}))}));o.on("error",(function(t){t.errno===process.ECONNREFUSED?fabric.log("ECONNREFUSED: connection refused to "+r.hostname+":"+r.port):fabric.log(t.message),n(null)})),o.end()}function requestFs(t,e){var n=__webpack_require__(6);n.readFile(t,(function(t,n){if(t)throw fabric.log(t),t;e(n)}))}}()}).call(this,__webpack_require__("tjlA").Buffer,__webpack_require__("Q2Ig"))},y9mK:function(t,e,n){var r=n("Qlla");t.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(r)},yLpj:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}t.exports=n},yQtW:function(t,e,n){(function(t,r,i){var o=n("qfHW"),a=n("P7XM"),s=n("PRug"),c=e.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},l=e.IncomingMessage=function(e,n,a,c){var l=this;if(s.Readable.call(l),l._mode=a,l.headers={},l.rawHeaders=[],l.trailers={},l.rawTrailers=[],l.on("end",(function(){t.nextTick((function(){l.emit("close")}))})),"fetch"===a){var u=function t(){f.read().then((function(e){if(!l._destroyed){if(e.done)return r.clearTimeout(c),void l.push(null);l.push(new i(e.value)),t()}}))["catch"]((function(t){r.clearTimeout(c),l._destroyed||l.emit("error",t)}))};if(l._fetchResponse=n,l.url=n.url,l.statusCode=n.status,l.statusMessage=n.statusText,n.headers.forEach((function(t,e){l.headers[e.toLowerCase()]=t,l.rawHeaders.push(e,t)})),o.writableStream){var h=new WritableStream({write:function(t){return new Promise((function(e,n){l._destroyed?n():l.push(new i(t))?e():l._resumeFetch=e}))},close:function(){r.clearTimeout(c),l._destroyed||l.push(null)},abort:function(t){l._destroyed||l.emit("error",t)}});try{return void n.body.pipeTo(h)["catch"]((function(t){r.clearTimeout(c),l._destroyed||l.emit("error",t)}))}catch(m){}}var f=n.body.getReader();u()}else{l._xhr=e,l._pos=0,l.url=e.responseURL,l.statusCode=e.status,l.statusMessage=e.statusText;var d=e.getAllResponseHeaders().split(/\r?\n/);if(d.forEach((function(t){var e=t.match(/^([^:]+):\s*(.*)/);if(e){var n=e[1].toLowerCase();"set-cookie"===n?(void 0===l.headers[n]&&(l.headers[n]=[]),l.headers[n].push(e[2])):void 0!==l.headers[n]?l.headers[n]+=", "+e[2]:l.headers[n]=e[2],l.rawHeaders.push(e[1],e[2])}})),l._charset="x-user-defined",!o.overrideMimeType){var p=l.rawHeaders["mime-type"];if(p){var g=p.match(/;\s*charset=([^;])(;|$)/);g&&(l._charset=g[1].toLowerCase())}l._charset||(l._charset="utf-8")}}};a(l,s.Readable),l.prototype._read=function(){var t=this,e=t._resumeFetch;e&&(t._resumeFetch=null,e())},l.prototype._onXHRProgress=function(){var t=this,e=t._xhr,n=null;switch(t._mode){case"text:vbarray":if(e.readyState!==c.DONE)break;try{n=new r.VBArray(e.responseBody).toArray()}catch(u){}if(null!==n){t.push(new i(n));break}case"text":try{n=e.responseText}catch(u){t._mode="text:vbarray";break}if(n.length>t._pos){var o=n.substr(t._pos);if("x-user-defined"===t._charset){for(var a=new i(o.length),s=0;s<o.length;s++)a[s]=255&o.charCodeAt(s);t.push(a)}else t.push(o,t._charset);t._pos=n.length}break;case"arraybuffer":if(e.readyState!==c.DONE||!e.response)break;n=e.response,t.push(new i(new Uint8Array(n)));break;case"moz-chunked-arraybuffer":if(n=e.response,e.readyState!==c.LOADING||!n)break;t.push(new i(new Uint8Array(n)));break;case"ms-stream":if(n=e.response,e.readyState!==c.LOADING)break;var l=new r.MSStreamReader;l.onprogress=function(){l.result.byteLength>t._pos&&(t.push(new i(new Uint8Array(l.result.slice(t._pos)))),t._pos=l.result.byteLength)},l.onload=function(){t.push(null)},l.readAsArrayBuffer(n);break}t._xhr.readyState===c.DONE&&"ms-stream"!==t._mode&&t.push(null)}}).call(this,n("Q2Ig"),n("yLpj"),n("tjlA").Buffer)},yiTY:function(t,e,n){var r=n("Mi8B");r("Int32",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},yj7k:function(t,e,n){var r=n("29mP");t.exports=r("document","documentElement")},yl30:function(t,e,n){"use strict";var r=n("q1tI"),i=n("MgzW"),o=n("QCnb");function a(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));function s(t,e,n,r,i,o,a,s,c){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(u){this.onError(u)}}var c=!1,l=null,u=!1,h=null,f={onError:function(t){c=!0,l=t}};function d(t,e,n,r,i,o,a,u,h){c=!1,l=null,s.apply(f,arguments)}function p(t,e,n,r,i,o,s,f,p){if(d.apply(this,arguments),c){if(!c)throw Error(a(198));var g=l;c=!1,l=null,u||(u=!0,h=g)}}var g=null,m=null,v=null;function b(t,e,n){var r=t.type||"unknown-event";t.currentTarget=v(n),p(r,e,void 0,t),t.currentTarget=null}var y=null,w={};function _(){if(y)for(var t in w){var e=w[t],n=y.indexOf(t);if(!(-1<n))throw Error(a(96,t));if(!S[n]){if(!e.extractEvents)throw Error(a(97,t));for(var r in S[n]=e,n=e.eventTypes,n){var i=void 0,o=n[r],s=e,c=r;if(C.hasOwnProperty(c))throw Error(a(99,c));C[c]=o;var l=o.phasedRegistrationNames;if(l){for(i in l)l.hasOwnProperty(i)&&x(l[i],s,c);i=!0}else o.registrationName?(x(o.registrationName,s,c),i=!0):i=!1;if(!i)throw Error(a(98,r,t))}}}}function x(t,e,n){if(E[t])throw Error(a(100,t));E[t]=e,O[t]=e.eventTypes[n].dependencies}var S=[],C={},E={},O={};function k(t){var e,n=!1;for(e in t)if(t.hasOwnProperty(e)){var r=t[e];if(!w.hasOwnProperty(e)||w[e]!==r){if(w[e])throw Error(a(102,e));w[e]=r,n=!0}}n&&_()}var T=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),j=null,M=null,A=null;function P(t){if(t=m(t)){if("function"!==typeof j)throw Error(a(280));var e=t.stateNode;e&&(e=g(e),j(t.stateNode,t.type,e))}}function I(t){M?A?A.push(t):A=[t]:M=t}function R(){if(M){var t=M,e=A;if(A=M=null,P(t),e)for(t=0;t<e.length;t++)P(e[t])}}function D(t,e){return t(e)}function L(t,e,n,r,i){return t(e,n,r,i)}function N(){}var F=D,B=!1,U=!1;function W(){null===M&&null===A||(N(),R())}function z(t,e,n){if(U)return t(e,n);U=!0;try{return F(t,e,n)}finally{U=!1,W()}}var H=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Y=Object.prototype.hasOwnProperty,G={},X={};function V(t){return!!Y.call(X,t)||!Y.call(G,t)&&(H.test(t)?X[t]=!0:(G[t]=!0,!1))}function K(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),"data-"!==t&&"aria-"!==t));default:return!1}}function $(t,e,n,r){if(null===e||"undefined"===typeof e||K(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function q(t,e,n,r,i,o){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o}var Z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){Z[t]=new q(t,0,!1,t,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];Z[e]=new q(e,1,!1,t[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){Z[t]=new q(t,2,!1,t.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){Z[t]=new q(t,2,!1,t,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){Z[t]=new q(t,3,!1,t.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(t){Z[t]=new q(t,3,!0,t,null,!1)})),["capture","download"].forEach((function(t){Z[t]=new q(t,4,!1,t,null,!1)})),["cols","rows","size","span"].forEach((function(t){Z[t]=new q(t,6,!1,t,null,!1)})),["rowSpan","start"].forEach((function(t){Z[t]=new q(t,5,!1,t.toLowerCase(),null,!1)}));var J=/[\-:]([a-z])/g;function Q(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(J,Q);Z[e]=new q(e,1,!1,t,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(J,Q);Z[e]=new q(e,1,!1,t,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(J,Q);Z[e]=new q(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(t){Z[t]=new q(t,1,!1,t.toLowerCase(),null,!1)})),Z.xlinkHref=new q("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(t){Z[t]=new q(t,1,!1,t.toLowerCase(),null,!0)}));var tt=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function et(t,e,n,r){var i=Z.hasOwnProperty(e)?Z[e]:null,o=null!==i?0===i.type:!r&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1]));o||($(e,n,i,r)&&(n=null),r||null===i?V(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(i=i.type,n=3===i||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}tt.hasOwnProperty("ReactCurrentDispatcher")||(tt.ReactCurrentDispatcher={current:null}),tt.hasOwnProperty("ReactCurrentBatchConfig")||(tt.ReactCurrentBatchConfig={suspense:null});var nt=/^(.*)[\\\/]/,rt="function"===typeof Symbol&&Symbol.for,it=rt?Symbol.for("react.element"):60103,ot=rt?Symbol.for("react.portal"):60106,at=rt?Symbol.for("react.fragment"):60107,st=rt?Symbol.for("react.strict_mode"):60108,ct=rt?Symbol.for("react.profiler"):60114,lt=rt?Symbol.for("react.provider"):60109,ut=rt?Symbol.for("react.context"):60110,ht=rt?Symbol.for("react.concurrent_mode"):60111,ft=rt?Symbol.for("react.forward_ref"):60112,dt=rt?Symbol.for("react.suspense"):60113,pt=rt?Symbol.for("react.suspense_list"):60120,gt=rt?Symbol.for("react.memo"):60115,mt=rt?Symbol.for("react.lazy"):60116,vt=rt?Symbol.for("react.block"):60121,bt="function"===typeof Symbol&&Symbol.iterator;function yt(t){return null===t||"object"!==typeof t?null:(t=bt&&t[bt]||t["@@iterator"],"function"===typeof t?t:null)}function wt(t){if(-1===t._status){t._status=0;var e=t._ctor;e=e(),t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}}function _t(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case at:return"Fragment";case ot:return"Portal";case ct:return"Profiler";case st:return"StrictMode";case dt:return"Suspense";case pt:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case ut:return"Context.Consumer";case lt:return"Context.Provider";case ft:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case gt:return _t(t.type);case vt:return _t(t.render);case mt:if(t=1===t._status?t._result:null)return _t(t)}return null}function xt(t){var e="";do{t:switch(t.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break t;default:var r=t._debugOwner,i=t._debugSource,o=_t(t.type);n=null,r&&(n=_t(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(nt,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}e+=n,t=t.return}while(t);return e}function St(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function Ct(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function Et(t){var e=Ct(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ot(t){t._valueTracker||(t._valueTracker=Et(t))}function kt(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Ct(t)?t.checked?"true":"false":t.value),t=r,t!==n&&(e.setValue(t),!0)}function Tt(t,e){var n=e.checked;return i({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function jt(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=St(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function Mt(t,e){e=e.checked,null!=e&&et(t,"checked",e,!1)}function At(t,e){Mt(t,e);var n=St(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?It(t,e.type,n):e.hasOwnProperty("defaultValue")&&It(t,e.type,St(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function Pt(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,""!==n&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function It(t,e,n){"number"===e&&t.ownerDocument.activeElement===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function Rt(t){var e="";return r.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}function Dt(t,e){return t=i({children:void 0},e),(e=Rt(e.children))&&(t.children=e),t}function Lt(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+St(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function Nt(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(a(91));return i({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ft(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:St(n)}}function Bt(t,e){var n=St(e.value),r=St(e.defaultValue);null!=n&&(n=""+n,n!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function Ut(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}var Wt={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function zt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ht(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?zt(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var Yt,Gt=function(t){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction((function(){return t(e,n,r,i)}))}:t}((function(t,e){if(t.namespaceURI!==Wt.svg||"innerHTML"in t)t.innerHTML=e;else{for(Yt=Yt||document.createElement("div"),Yt.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Yt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}}));function Xt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}function Vt(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Kt={animationend:Vt("Animation","AnimationEnd"),animationiteration:Vt("Animation","AnimationIteration"),animationstart:Vt("Animation","AnimationStart"),transitionend:Vt("Transition","TransitionEnd")},$t={},qt={};function Zt(t){if($t[t])return $t[t];if(!Kt[t])return t;var e,n=Kt[t];for(e in n)if(n.hasOwnProperty(e)&&e in qt)return $t[t]=n[e];return t}T&&(qt=document.createElement("div").style,"AnimationEvent"in window||(delete Kt.animationend.animation,delete Kt.animationiteration.animation,delete Kt.animationstart.animation),"TransitionEvent"in window||delete Kt.transitionend.transition);var Jt=Zt("animationend"),Qt=Zt("animationiteration"),te=Zt("animationstart"),ee=Zt("transitionend"),ne="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),re=new("function"===typeof WeakMap?WeakMap:Map);function ie(t){var e=re.get(t);return void 0===e&&(e=new Map,re.set(t,e)),e}function oe(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{e=t,0!==(1026&e.effectTag)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function ae(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(t=t.alternate,null!==t&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function se(t){if(oe(t)!==t)throw Error(a(188))}function ce(t){var e=t.alternate;if(!e){if(e=oe(t),null===e)throw Error(a(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(r=i.return,null!==r){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return se(i),t;if(o===r)return se(i),e;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,c=i.child;c;){if(c===n){s=!0,n=i,r=o;break}if(c===r){s=!0,r=i,n=o;break}c=c.sibling}if(!s){for(c=o.child;c;){if(c===n){s=!0,n=o,r=i;break}if(c===r){s=!0,r=o,n=i;break}c=c.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?t:e}function le(t){if(t=ce(t),!t)return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function ue(t,e){if(null==e)throw Error(a(30));return null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function he(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)}var fe=null;function de(t){if(t){var e=t._dispatchListeners,n=t._dispatchInstances;if(Array.isArray(e))for(var r=0;r<e.length&&!t.isPropagationStopped();r++)b(t,e[r],n[r]);else e&&b(t,e,n);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}function pe(t){if(null!==t&&(fe=ue(fe,t)),t=fe,fe=null,t){if(he(t,de),fe)throw Error(a(95));if(u)throw t=h,u=!1,h=null,t}}function ge(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}function me(t){if(!T)return!1;t="on"+t;var e=t in document;return e||(e=document.createElement("div"),e.setAttribute(t,"return;"),e="function"===typeof e[t]),e}var ve=[];function be(t){t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,10>ve.length&&ve.push(t)}function ye(t,e,n,r){if(ve.length){var i=ve.pop();return i.topLevelType=t,i.eventSystemFlags=r,i.nativeEvent=e,i.targetInst=n,i}return{topLevelType:t,eventSystemFlags:r,nativeEvent:e,targetInst:n,ancestors:[]}}function we(t){var e=t.targetInst,n=e;do{if(!n){t.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;e=n.tag,5!==e&&6!==e||t.ancestors.push(n),n=Wn(r)}while(n);for(n=0;n<t.ancestors.length;n++){e=t.ancestors[n];var i=ge(t.nativeEvent);r=t.topLevelType;var o=t.nativeEvent,a=t.eventSystemFlags;0===n&&(a|=64);for(var s=null,c=0;c<S.length;c++){var l=S[c];l&&(l=l.extractEvents(r,e,o,i,a))&&(s=ue(s,l))}pe(s)}}function _e(t,e,n){if(!n.has(t)){switch(t){case"scroll":rn(e,"scroll",!0);break;case"focus":case"blur":rn(e,"focus",!0),rn(e,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":me(t)&&rn(e,t,!0);break;case"invalid":case"submit":case"reset":break;default:-1===ne.indexOf(t)&&nn(t,e)}n.set(t,null)}}var xe,Se,Ce,Ee=!1,Oe=[],ke=null,Te=null,je=null,Me=new Map,Ae=new Map,Pe=[],Ie="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Re="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function De(t,e){var n=ie(e);Ie.forEach((function(t){_e(t,e,n)})),Re.forEach((function(t){_e(t,e,n)}))}function Le(t,e,n,r,i){return{blockedOn:t,topLevelType:e,eventSystemFlags:32|n,nativeEvent:i,container:r}}function Ne(t,e){switch(t){case"focus":case"blur":ke=null;break;case"dragenter":case"dragleave":Te=null;break;case"mouseover":case"mouseout":je=null;break;case"pointerover":case"pointerout":Me.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ae.delete(e.pointerId)}}function Fe(t,e,n,r,i,o){return null===t||t.nativeEvent!==o?(t=Le(e,n,r,i,o),null!==e&&(e=zn(e),null!==e&&Se(e)),t):(t.eventSystemFlags|=r,t)}function Be(t,e,n,r,i){switch(e){case"focus":return ke=Fe(ke,t,e,n,r,i),!0;case"dragenter":return Te=Fe(Te,t,e,n,r,i),!0;case"mouseover":return je=Fe(je,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Me.set(o,Fe(Me.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ae.set(o,Fe(Ae.get(o)||null,t,e,n,r,i)),!0}return!1}function Ue(t){var e=Wn(t.target);if(null!==e){var n=oe(e);if(null!==n)if(e=n.tag,13===e){if(e=ae(n),null!==e)return t.blockedOn=e,void o.unstable_runWithPriority(t.priority,(function(){Ce(n)}))}else if(3===e&&n.stateNode.hydrate)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function We(t){if(null!==t.blockedOn)return!1;var e=cn(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);if(null!==e){var n=zn(e);return null!==n&&Se(n),t.blockedOn=e,!1}return!0}function ze(t,e,n){We(t)&&n.delete(e)}function He(){for(Ee=!1;0<Oe.length;){var t=Oe[0];if(null!==t.blockedOn){t=zn(t.blockedOn),null!==t&&xe(t);break}var e=cn(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);null!==e?t.blockedOn=e:Oe.shift()}null!==ke&&We(ke)&&(ke=null),null!==Te&&We(Te)&&(Te=null),null!==je&&We(je)&&(je=null),Me.forEach(ze),Ae.forEach(ze)}function Ye(t,e){t.blockedOn===e&&(t.blockedOn=null,Ee||(Ee=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,He)))}function Ge(t){function e(e){return Ye(e,t)}if(0<Oe.length){Ye(Oe[0],t);for(var n=1;n<Oe.length;n++){var r=Oe[n];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==ke&&Ye(ke,t),null!==Te&&Ye(Te,t),null!==je&&Ye(je,t),Me.forEach(e),Ae.forEach(e),n=0;n<Pe.length;n++)r=Pe[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Pe.length&&(n=Pe[0],null===n.blockedOn);)Ue(n),null===n.blockedOn&&Pe.shift()}var Xe={},Ve=new Map,Ke=new Map,$e=["abort","abort",Jt,"animationEnd",Qt,"animationIteration",te,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",ee,"transitionEnd","waiting","waiting"];function qe(t,e){for(var n=0;n<t.length;n+=2){var r=t[n],i=t[n+1],o="on"+(i[0].toUpperCase()+i.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[r],eventPriority:e},Ke.set(r,e),Ve.set(r,o),Xe[i]=o}}qe("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),qe("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),qe($e,2);for(var Ze="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Je=0;Je<Ze.length;Je++)Ke.set(Ze[Je],0);var Qe=o.unstable_UserBlockingPriority,tn=o.unstable_runWithPriority,en=!0;function nn(t,e){rn(e,t,!1)}function rn(t,e,n){var r=Ke.get(e);switch(void 0===r?2:r){case 0:r=on.bind(null,e,1,t);break;case 1:r=an.bind(null,e,1,t);break;default:r=sn.bind(null,e,1,t)}n?t.addEventListener(e,r,!0):t.addEventListener(e,r,!1)}function on(t,e,n,r){B||N();var i=sn,o=B;B=!0;try{L(i,t,e,n,r)}finally{(B=o)||W()}}function an(t,e,n,r){tn(Qe,sn.bind(null,t,e,n,r))}function sn(t,e,n,r){if(en)if(0<Oe.length&&-1<Ie.indexOf(t))t=Le(null,t,e,n,r),Oe.push(t);else{var i=cn(t,e,n,r);if(null===i)Ne(t,r);else if(-1<Ie.indexOf(t))t=Le(i,t,e,n,r),Oe.push(t);else if(!Be(i,t,e,n,r)){Ne(t,r),t=ye(t,r,null,e);try{z(we,t)}finally{be(t)}}}}function cn(t,e,n,r){if(n=ge(r),n=Wn(n),null!==n){var i=oe(n);if(null===i)n=null;else{var o=i.tag;if(13===o){if(n=ae(i),null!==n)return n;n=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}t=ye(t,r,n,e);try{z(we,t)}finally{be(t)}return null}var ln={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},un=["Webkit","ms","Moz","O"];function hn(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||ln.hasOwnProperty(t)&&ln[t]?(""+e).trim():e+"px"}function fn(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=hn(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}Object.keys(ln).forEach((function(t){un.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ln[e]=ln[t]}))}));var dn=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pn(t,e){if(e){if(dn[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(a(137,t,""));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(a(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(a(62,""))}}function gn(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mn=Wt.html;function vn(t,e){t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument;var n=ie(t);e=O[e];for(var r=0;r<e.length;r++)_e(e[r],t,n)}function bn(){}function yn(t){if(t=t||("undefined"!==typeof document?document:void 0),"undefined"===typeof t)return null;try{return t.activeElement||t.body}catch(e){return t.body}}function wn(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _n(t,e){var n,r=wn(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=wn(r)}}function xn(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?xn(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function Sn(){for(var t=window,e=yn();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=e.contentWindow,e=yn(t.document)}return e}function Cn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var En="$",On="/$",kn="$?",Tn="$!",jn=null,Mn=null;function An(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function Pn(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var In="function"===typeof setTimeout?setTimeout:void 0,Rn="function"===typeof clearTimeout?clearTimeout:void 0;function Dn(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function Ln(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if(n===En||n===Tn||n===kn){if(0===e)return t;e--}else n===On&&e++}t=t.previousSibling}return null}var Nn=Math.random().toString(36).slice(2),Fn="__reactInternalInstance$"+Nn,Bn="__reactEventHandlers$"+Nn,Un="__reactContainere$"+Nn;function Wn(t){var e=t[Fn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Un]||n[Fn]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=Ln(t);null!==t;){if(n=t[Fn])return n;t=Ln(t)}return e}t=n,n=t.parentNode}return null}function zn(t){return t=t[Fn]||t[Un],!t||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function Hn(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(a(33))}function Yn(t){return t[Bn]||null}function Gn(t){do{t=t.return}while(t&&5!==t.tag);return t||null}function Xn(t,e){var n=t.stateNode;if(!n)return null;var r=g(n);if(!r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!("button"===t||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(a(231,e,typeof n));return n}function Vn(t,e,n){(e=Xn(t,n.dispatchConfig.phasedRegistrationNames[e]))&&(n._dispatchListeners=ue(n._dispatchListeners,e),n._dispatchInstances=ue(n._dispatchInstances,t))}function Kn(t){if(t&&t.dispatchConfig.phasedRegistrationNames){for(var e=t._targetInst,n=[];e;)n.push(e),e=Gn(e);for(e=n.length;0<e--;)Vn(n[e],"captured",t);for(e=0;e<n.length;e++)Vn(n[e],"bubbled",t)}}function $n(t,e,n){t&&n&&n.dispatchConfig.registrationName&&(e=Xn(t,n.dispatchConfig.registrationName))&&(n._dispatchListeners=ue(n._dispatchListeners,e),n._dispatchInstances=ue(n._dispatchInstances,t))}function qn(t){t&&t.dispatchConfig.registrationName&&$n(t._targetInst,null,t)}function Zn(t){he(t,Kn)}var Jn=null,Qn=null,tr=null;function er(){if(tr)return tr;var t,e,n=Qn,r=n.length,i="value"in Jn?Jn.value:Jn.textContent,o=i.length;for(t=0;t<r&&n[t]===i[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===i[o-e];e++);return tr=i.slice(t,1<e?1-e:void 0)}function nr(){return!0}function rr(){return!1}function ir(t,e,n,r){for(var i in this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=n,t=this.constructor.Interface,t)t.hasOwnProperty(i)&&((e=t[i])?this[i]=e(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?nr:rr,this.isPropagationStopped=rr,this}function or(t,e,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,t,e,n,r),i}return new this(t,e,n,r)}function ar(t){if(!(t instanceof this))throw Error(a(279));t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function sr(t){t.eventPool=[],t.getPooled=or,t.release=ar}i(ir.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=nr)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=nr)},persist:function(){this.isPersistent=nr},isPersistent:rr,destructor:function(){var t,e=this.constructor.Interface;for(t in e)this[t]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=rr,this._dispatchInstances=this._dispatchListeners=null}}),ir.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},ir.extend=function(t){function e(){}function n(){return r.apply(this,arguments)}var r=this;e.prototype=r.prototype;var o=new e;return i(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=i({},r.Interface,t),n.extend=r.extend,sr(n),n},sr(ir);var cr=ir.extend({data:null}),lr=ir.extend({data:null}),ur=[9,13,27,32],hr=T&&"CompositionEvent"in window,fr=null;T&&"documentMode"in document&&(fr=document.documentMode);var dr=T&&"TextEvent"in window&&!fr,pr=T&&(!hr||fr&&8<fr&&11>=fr),gr=String.fromCharCode(32),mr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},vr=!1;function br(t,e){switch(t){case"keyup":return-1!==ur.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function yr(t){return t=t.detail,"object"===typeof t&&"data"in t?t.data:null}var wr=!1;function _r(t,e){switch(t){case"compositionend":return yr(e);case"keypress":return 32!==e.which?null:(vr=!0,gr);case"textInput":return t=e.data,t===gr&&vr?null:t;default:return null}}function xr(t,e){if(wr)return"compositionend"===t||!hr&&br(t,e)?(t=er(),tr=Qn=Jn=null,wr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return pr&&"ko"!==e.locale?null:e.data;default:return null}}var Sr={eventTypes:mr,extractEvents:function(t,e,n,r){var i;if(hr)t:{switch(t){case"compositionstart":var o=mr.compositionStart;break t;case"compositionend":o=mr.compositionEnd;break t;case"compositionupdate":o=mr.compositionUpdate;break t}o=void 0}else wr?br(t,n)&&(o=mr.compositionEnd):"keydown"===t&&229===n.keyCode&&(o=mr.compositionStart);return o?(pr&&"ko"!==n.locale&&(wr||o!==mr.compositionStart?o===mr.compositionEnd&&wr&&(i=er()):(Jn=r,Qn="value"in Jn?Jn.value:Jn.textContent,wr=!0)),o=cr.getPooled(o,e,n,r),i?o.data=i:(i=yr(n),null!==i&&(o.data=i)),Zn(o),i=o):i=null,(t=dr?_r(t,n):xr(t,n))?(e=lr.getPooled(mr.beforeInput,e,n,r),e.data=t,Zn(e)):e=null,null===i?e:null===e?i:[i,e]}},Cr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Er(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Cr[t.type]:"textarea"===e}var Or={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function kr(t,e,n){return t=ir.getPooled(Or.change,t,e,n),t.type="change",I(n),Zn(t),t}var Tr=null,jr=null;function Mr(t){pe(t)}function Ar(t){var e=Hn(t);if(kt(e))return t}function Pr(t,e){if("change"===t)return e}var Ir=!1;function Rr(){Tr&&(Tr.detachEvent("onpropertychange",Dr),jr=Tr=null)}function Dr(t){if("value"===t.propertyName&&Ar(jr))if(t=kr(jr,t,ge(t)),B)pe(t);else{B=!0;try{D(Mr,t)}finally{B=!1,W()}}}function Lr(t,e,n){"focus"===t?(Rr(),Tr=e,jr=n,Tr.attachEvent("onpropertychange",Dr)):"blur"===t&&Rr()}function Nr(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Ar(jr)}function Fr(t,e){if("click"===t)return Ar(e)}function Br(t,e){if("input"===t||"change"===t)return Ar(e)}T&&(Ir=me("input")&&(!document.documentMode||9<document.documentMode));var Ur={eventTypes:Or,_isInputEventSupported:Ir,extractEvents:function(t,e,n,r){var i=e?Hn(e):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var a=Pr;else if(Er(i))if(Ir)a=Br;else{a=Nr;var s=Lr}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(a=Fr);if(a&&(a=a(t,e)))return kr(a,n,r);s&&s(t,i,e),"blur"===t&&(t=i._wrapperState)&&t.controlled&&"number"===i.type&&It(i,"number",i.value)}},Wr=ir.extend({view:null,detail:null}),zr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hr(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=zr[t])&&!!e[t]}function Yr(){return Hr}var Gr=0,Xr=0,Vr=!1,Kr=!1,$r=Wr.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Yr,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},movementX:function(t){if("movementX"in t)return t.movementX;var e=Gr;return Gr=t.screenX,Vr?"mousemove"===t.type?t.screenX-e:0:(Vr=!0,0)},movementY:function(t){if("movementY"in t)return t.movementY;var e=Xr;return Xr=t.screenY,Kr?"mousemove"===t.type?t.screenY-e:0:(Kr=!0,0)}}),qr=$r.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Zr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Jr={eventTypes:Zr,extractEvents:function(t,e,n,r,i){var o="mouseover"===t||"pointerover"===t,a="mouseout"===t||"pointerout"===t;if(o&&0===(32&i)&&(n.relatedTarget||n.fromElement)||!a&&!o)return null;if(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,a){if(a=e,e=(e=n.relatedTarget||n.toElement)?Wn(e):null,null!==e){var s=oe(e);(e!==s||5!==e.tag&&6!==e.tag)&&(e=null)}}else a=null;if(a===e)return null;if("mouseout"===t||"mouseover"===t)var c=$r,l=Zr.mouseLeave,u=Zr.mouseEnter,h="mouse";else"pointerout"!==t&&"pointerover"!==t||(c=qr,l=Zr.pointerLeave,u=Zr.pointerEnter,h="pointer");if(t=null==a?o:Hn(a),o=null==e?o:Hn(e),l=c.getPooled(l,a,n,r),l.type=h+"leave",l.target=t,l.relatedTarget=o,n=c.getPooled(u,e,n,r),n.type=h+"enter",n.target=o,n.relatedTarget=t,r=a,h=e,r&&h)t:{for(c=r,u=h,a=0,t=c;t;t=Gn(t))a++;for(t=0,e=u;e;e=Gn(e))t++;for(;0<a-t;)c=Gn(c),a--;for(;0<t-a;)u=Gn(u),t--;for(;a--;){if(c===u||c===u.alternate)break t;c=Gn(c),u=Gn(u)}c=null}else c=null;for(u=c,c=[];r&&r!==u;){if(a=r.alternate,null!==a&&a===u)break;c.push(r),r=Gn(r)}for(r=[];h&&h!==u;){if(a=h.alternate,null!==a&&a===u)break;r.push(h),h=Gn(h)}for(h=0;h<c.length;h++)$n(c[h],"bubbled",l);for(h=r.length;0<h--;)$n(r[h],"captured",n);return 0===(64&i)?[l]:[l,n]}};function Qr(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e}var ti="function"===typeof Object.is?Object.is:Qr,ei=Object.prototype.hasOwnProperty;function ni(t,e){if(ti(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!ei.call(e,n[r])||!ti(t[n[r]],e[n[r]]))return!1;return!0}var ri=T&&"documentMode"in document&&11>=document.documentMode,ii={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},oi=null,ai=null,si=null,ci=!1;function li(t,e){var n=e.window===e?e.document:9===e.nodeType?e:e.ownerDocument;return ci||null==oi||oi!==yn(n)?null:(n=oi,"selectionStart"in n&&Cn(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),si&&ni(si,n)?null:(si=n,t=ir.getPooled(ii.select,ai,t,e),t.type="select",t.target=oi,Zn(t),t))}var ui={eventTypes:ii,extractEvents:function(t,e,n,r,i,o){if(i=o||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument),!(o=!i)){t:{i=ie(i),o=O.onSelect;for(var a=0;a<o.length;a++)if(!i.has(o[a])){i=!1;break t}i=!0}o=!i}if(o)return null;switch(i=e?Hn(e):window,t){case"focus":(Er(i)||"true"===i.contentEditable)&&(oi=i,ai=e,si=null);break;case"blur":si=ai=oi=null;break;case"mousedown":ci=!0;break;case"contextmenu":case"mouseup":case"dragend":return ci=!1,li(n,r);case"selectionchange":if(ri)break;case"keydown":case"keyup":return li(n,r)}return null}},hi=ir.extend({animationName:null,elapsedTime:null,pseudoElement:null}),fi=ir.extend({clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),di=Wr.extend({relatedTarget:null});function pi(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,0===t&&13===e&&(t=13)):t=e,10===t&&(t=13),32<=t||13===t?t:0}var gi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vi=Wr.extend({key:function(t){if(t.key){var e=gi[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?(t=pi(t),13===t?"Enter":String.fromCharCode(t)):"keydown"===t.type||"keyup"===t.type?mi[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Yr,charCode:function(t){return"keypress"===t.type?pi(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?pi(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),bi=$r.extend({dataTransfer:null}),yi=Wr.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Yr}),wi=ir.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),_i=$r.extend({deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),xi={eventTypes:Xe,extractEvents:function(t,e,n,r){var i=Ve.get(t);if(!i)return null;switch(t){case"keypress":if(0===pi(n))return null;case"keydown":case"keyup":t=vi;break;case"blur":case"focus":t=di;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":t=$r;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":t=bi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":t=yi;break;case Jt:case Qt:case te:t=hi;break;case ee:t=wi;break;case"scroll":t=Wr;break;case"wheel":t=_i;break;case"copy":case"cut":case"paste":t=fi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":t=qr;break;default:t=ir}return e=t.getPooled(i,e,n,r),Zn(e),e}};if(y)throw Error(a(101));y=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),_();var Si=zn;g=Yn,m=Si,v=Hn,k({SimpleEventPlugin:xi,EnterLeaveEventPlugin:Jr,ChangeEventPlugin:Ur,SelectEventPlugin:ui,BeforeInputEventPlugin:Sr});var Ci=[],Ei=-1;function Oi(t){0>Ei||(t.current=Ci[Ei],Ci[Ei]=null,Ei--)}function ki(t,e){Ei++,Ci[Ei]=t.current,t.current=e}var Ti={},ji={current:Ti},Mi={current:!1},Ai=Ti;function Pi(t,e){var n=t.type.contextTypes;if(!n)return Ti;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function Ii(t){return t=t.childContextTypes,null!==t&&void 0!==t}function Ri(){Oi(Mi),Oi(ji)}function Di(t,e,n){if(ji.current!==Ti)throw Error(a(168));ki(ji,e),ki(Mi,n)}function Li(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext(),r)if(!(o in t))throw Error(a(108,_t(e)||"Unknown",o));return i({},n,{},r)}function Ni(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ti,Ai=ji.current,ki(ji,t),ki(Mi,Mi.current),!0}function Fi(t,e,n){var r=t.stateNode;if(!r)throw Error(a(169));n?(t=Li(t,e,Ai),r.__reactInternalMemoizedMergedChildContext=t,Oi(Mi),Oi(ji),ki(ji,t)):Oi(Mi),ki(Mi,n)}var Bi=o.unstable_runWithPriority,Ui=o.unstable_scheduleCallback,Wi=o.unstable_cancelCallback,zi=o.unstable_requestPaint,Hi=o.unstable_now,Yi=o.unstable_getCurrentPriorityLevel,Gi=o.unstable_ImmediatePriority,Xi=o.unstable_UserBlockingPriority,Vi=o.unstable_NormalPriority,Ki=o.unstable_LowPriority,$i=o.unstable_IdlePriority,qi={},Zi=o.unstable_shouldYield,Ji=void 0!==zi?zi:function(){},Qi=null,to=null,eo=!1,no=Hi(),ro=1e4>no?Hi:function(){return Hi()-no};function io(){switch(Yi()){case Gi:return 99;case Xi:return 98;case Vi:return 97;case Ki:return 96;case $i:return 95;default:throw Error(a(332))}}function oo(t){switch(t){case 99:return Gi;case 98:return Xi;case 97:return Vi;case 96:return Ki;case 95:return $i;default:throw Error(a(332))}}function ao(t,e){return t=oo(t),Bi(t,e)}function so(t,e,n){return t=oo(t),Ui(t,e,n)}function co(t){return null===Qi?(Qi=[t],to=Ui(Gi,uo)):Qi.push(t),qi}function lo(){if(null!==to){var t=to;to=null,Wi(t)}uo()}function uo(){if(!eo&&null!==Qi){eo=!0;var t=0;try{var e=Qi;ao(99,(function(){for(;t<e.length;t++){var n=e[t];do{n=n(!0)}while(null!==n)}})),Qi=null}catch(n){throw null!==Qi&&(Qi=Qi.slice(t+1)),Ui(Gi,lo),n}finally{eo=!1}}}function ho(t,e,n){return n/=10,1073741821-(1+((1073741821-t+e/10)/n|0))*n}function fo(t,e){if(t&&t.defaultProps)for(var n in e=i({},e),t=t.defaultProps,t)void 0===e[n]&&(e[n]=t[n]);return e}var po={current:null},go=null,mo=null,vo=null;function bo(){vo=mo=go=null}function yo(t){var e=po.current;Oi(po),t.type._context._currentValue=e}function wo(t,e){for(;null!==t;){var n=t.alternate;if(t.childExpirationTime<e)t.childExpirationTime=e,null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e);else{if(!(null!==n&&n.childExpirationTime<e))break;n.childExpirationTime=e}t=t.return}}function _o(t,e){go=t,vo=mo=null,t=t.dependencies,null!==t&&null!==t.firstContext&&(t.expirationTime>=e&&(Ka=!0),t.firstContext=null)}function xo(t,e){if(vo!==t&&!1!==e&&0!==e)if("number"===typeof e&&1073741823!==e||(vo=t,e=1073741823),e={context:t,observedBits:e,next:null},null===mo){if(null===go)throw Error(a(308));mo=e,go.dependencies={expirationTime:0,firstContext:e,responders:null}}else mo=mo.next=e;return t._currentValue}var So=!1;function Co(t){t.updateQueue={baseState:t.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function Eo(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,baseQueue:t.baseQueue,shared:t.shared,effects:t.effects})}function Oo(t,e){return t={expirationTime:t,suspenseConfig:e,tag:0,payload:null,callback:null,next:null},t.next=t}function ko(t,e){if(t=t.updateQueue,null!==t){t=t.shared;var n=t.pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function To(t,e){var n=t.alternate;null!==n&&Eo(n,t),t=t.updateQueue,n=t.baseQueue,null===n?(t.baseQueue=e.next=e,e.next=e):(e.next=n.next,n.next=e)}function jo(t,e,n,r){var o=t.updateQueue;So=!1;var a=o.baseQueue,s=o.shared.pending;if(null!==s){if(null!==a){var c=a.next;a.next=s.next,s.next=c}a=s,o.shared.pending=null,c=t.alternate,null!==c&&(c=c.updateQueue,null!==c&&(c.baseQueue=s))}if(null!==a){c=a.next;var l=o.baseState,u=0,h=null,f=null,d=null;if(null!==c){var p=c;do{if(s=p.expirationTime,s<r){var g={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===d?(f=d=g,h=l):d=d.next=g,s>u&&(u=s)}else{null!==d&&(d=d.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null}),Lc(s,p.suspenseConfig);t:{var m=t,v=p;switch(s=e,g=n,v.tag){case 1:if(m=v.payload,"function"===typeof m){l=m.call(g,l,s);break t}l=m;break t;case 3:m.effectTag=-4097&m.effectTag|64;case 0:if(m=v.payload,s="function"===typeof m?m.call(g,l,s):m,null===s||void 0===s)break t;l=i({},l,s);break t;case 2:So=!0}}null!==p.callback&&(t.effectTag|=32,s=o.effects,null===s?o.effects=[p]:s.push(p))}if(p=p.next,null===p||p===c){if(s=o.shared.pending,null===s)break;p=a.next=s.next,s.next=c,o.baseQueue=a=s,o.shared.pending=null}}while(1)}null===d?h=l:d.next=f,o.baseState=h,o.baseQueue=d,Nc(u),t.expirationTime=u,t.memoizedState=l}}function Mo(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!==typeof r)throw Error(a(191,r));r.call(i)}}}var Ao=tt.ReactCurrentBatchConfig,Po=(new r.Component).refs;function Io(t,e,n,r){e=t.memoizedState,n=n(r,e),n=null===n||void 0===n?e:i({},e,n),t.memoizedState=n,0===t.expirationTime&&(t.updateQueue.baseState=n)}var Ro={isMounted:function(t){return!!(t=t._reactInternalFiber)&&oe(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternalFiber;var r=xc(),i=Ao.suspense;r=Sc(r,t,i),i=Oo(r,i),i.payload=e,void 0!==n&&null!==n&&(i.callback=n),ko(t,i),Cc(t,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternalFiber;var r=xc(),i=Ao.suspense;r=Sc(r,t,i),i=Oo(r,i),i.tag=1,i.payload=e,void 0!==n&&null!==n&&(i.callback=n),ko(t,i),Cc(t,r)},enqueueForceUpdate:function(t,e){t=t._reactInternalFiber;var n=xc(),r=Ao.suspense;n=Sc(n,t,r),r=Oo(n,r),r.tag=2,void 0!==e&&null!==e&&(r.callback=e),ko(t,r),Cc(t,n)}};function Do(t,e,n,r,i,o,a){return t=t.stateNode,"function"===typeof t.shouldComponentUpdate?t.shouldComponentUpdate(r,o,a):!e.prototype||!e.prototype.isPureReactComponent||(!ni(n,r)||!ni(i,o))}function Lo(t,e,n){var r=!1,i=Ti,o=e.contextType;return"object"===typeof o&&null!==o?o=xo(o):(i=Ii(e)?Ai:ji.current,r=e.contextTypes,o=(r=null!==r&&void 0!==r)?Pi(t,i):Ti),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=Ro,t.stateNode=e,e._reactInternalFiber=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function No(t,e,n,r){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ro.enqueueReplaceState(e,e.state,null)}function Fo(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Po,Co(t);var o=e.contextType;"object"===typeof o&&null!==o?i.context=xo(o):(o=Ii(e)?Ai:ji.current,i.context=Pi(t,o)),jo(t,n,i,r),i.state=t.memoizedState,o=e.getDerivedStateFromProps,"function"===typeof o&&(Io(t,e,o,n),i.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(e=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&Ro.enqueueReplaceState(i,i.state,null),jo(t,n,i,r),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.effectTag|=4)}var Bo=Array.isArray;function Uo(t,e,n){if(t=n.ref,null!==t&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner,n){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,t));var i=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===i?e.ref:(e=function(t){var e=r.refs;e===Po&&(e=r.refs={}),null===t?delete e[i]:e[i]=t},e._stringRef=i,e)}if("string"!==typeof t)throw Error(a(284));if(!n._owner)throw Error(a(290,t))}return t}function Wo(t,e){if("textarea"!==t.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,""))}function zo(t){function e(e,n){if(t){var r=e.lastEffect;null!==r?(r.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e){return t=ol(t,e),t.index=0,t.sibling=null,t}function o(e,n,r){return e.index=r,t?(r=e.alternate,null!==r?(r=r.index,r<n?(e.effectTag=2,n):r):(e.effectTag=2,n)):n}function s(e){return t&&null===e.alternate&&(e.effectTag=2),e}function c(t,e,n,r){return null===e||6!==e.tag?(e=cl(n,t.mode,r),e.return=t,e):(e=i(e,n),e.return=t,e)}function l(t,e,n,r){return null!==e&&e.elementType===n.type?(r=i(e,n.props),r.ref=Uo(t,e,n),r.return=t,r):(r=al(n.type,n.key,n.props,null,t.mode,r),r.ref=Uo(t,e,n),r.return=t,r)}function u(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?(e=ll(n,t.mode,r),e.return=t,e):(e=i(e,n.children||[]),e.return=t,e)}function h(t,e,n,r,o){return null===e||7!==e.tag?(e=sl(n,t.mode,r,o),e.return=t,e):(e=i(e,n),e.return=t,e)}function f(t,e,n){if("string"===typeof e||"number"===typeof e)return e=cl(""+e,t.mode,n),e.return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case it:return n=al(e.type,e.key,e.props,null,t.mode,n),n.ref=Uo(t,null,e),n.return=t,n;case ot:return e=ll(e,t.mode,n),e.return=t,e}if(Bo(e)||yt(e))return e=sl(e,t.mode,n,null),e.return=t,e;Wo(t,e)}return null}function d(t,e,n,r){var i=null!==e?e.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:c(t,e,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case it:return n.key===i?n.type===at?h(t,e,n.props.children,r,i):l(t,e,n,r):null;case ot:return n.key===i?u(t,e,n,r):null}if(Bo(n)||yt(n))return null!==i?null:h(t,e,n,r,null);Wo(t,n)}return null}function p(t,e,n,r,i){if("string"===typeof r||"number"===typeof r)return t=t.get(n)||null,c(e,t,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case it:return t=t.get(null===r.key?n:r.key)||null,r.type===at?h(e,t,r.props.children,i,r.key):l(e,t,r,i);case ot:return t=t.get(null===r.key?n:r.key)||null,u(e,t,r,i)}if(Bo(r)||yt(r))return t=t.get(n)||null,h(e,t,r,i,null);Wo(e,r)}return null}function g(i,a,s,c){for(var l=null,u=null,h=a,g=a=0,m=null;null!==h&&g<s.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var v=d(i,h,s[g],c);if(null===v){null===h&&(h=m);break}t&&h&&null===v.alternate&&e(i,h),a=o(v,a,g),null===u?l=v:u.sibling=v,u=v,h=m}if(g===s.length)return n(i,h),l;if(null===h){for(;g<s.length;g++)h=f(i,s[g],c),null!==h&&(a=o(h,a,g),null===u?l=h:u.sibling=h,u=h);return l}for(h=r(i,h);g<s.length;g++)m=p(h,i,g,s[g],c),null!==m&&(t&&null!==m.alternate&&h.delete(null===m.key?g:m.key),a=o(m,a,g),null===u?l=m:u.sibling=m,u=m);return t&&h.forEach((function(t){return e(i,t)})),l}function m(i,s,c,l){var u=yt(c);if("function"!==typeof u)throw Error(a(150));if(c=u.call(c),null==c)throw Error(a(151));for(var h=u=null,g=s,m=s=0,v=null,b=c.next();null!==g&&!b.done;m++,b=c.next()){g.index>m?(v=g,g=null):v=g.sibling;var y=d(i,g,b.value,l);if(null===y){null===g&&(g=v);break}t&&g&&null===y.alternate&&e(i,g),s=o(y,s,m),null===h?u=y:h.sibling=y,h=y,g=v}if(b.done)return n(i,g),u;if(null===g){for(;!b.done;m++,b=c.next())b=f(i,b.value,l),null!==b&&(s=o(b,s,m),null===h?u=b:h.sibling=b,h=b);return u}for(g=r(i,g);!b.done;m++,b=c.next())b=p(g,i,m,b.value,l),null!==b&&(t&&null!==b.alternate&&g.delete(null===b.key?m:b.key),s=o(b,s,m),null===h?u=b:h.sibling=b,h=b);return t&&g.forEach((function(t){return e(i,t)})),u}return function(t,r,o,c){var l="object"===typeof o&&null!==o&&o.type===at&&null===o.key;l&&(o=o.props.children);var u="object"===typeof o&&null!==o;if(u)switch(o.$$typeof){case it:t:{for(u=o.key,l=r;null!==l;){if(l.key===u){switch(l.tag){case 7:if(o.type===at){n(t,l.sibling),r=i(l,o.props.children),r.return=t,t=r;break t}break;default:if(l.elementType===o.type){n(t,l.sibling),r=i(l,o.props),r.ref=Uo(t,l,o),r.return=t,t=r;break t}}n(t,l);break}e(t,l),l=l.sibling}o.type===at?(r=sl(o.props.children,t.mode,c,o.key),r.return=t,t=r):(c=al(o.type,o.key,o.props,null,t.mode,c),c.ref=Uo(t,r,o),c.return=t,t=c)}return s(t);case ot:t:{for(l=o.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(t,r.sibling),r=i(r,o.children||[]),r.return=t,t=r;break t}n(t,r);break}e(t,r),r=r.sibling}r=ll(o,t.mode,c),r.return=t,t=r}return s(t)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(t,r.sibling),r=i(r,o),r.return=t,t=r):(n(t,r),r=cl(o,t.mode,c),r.return=t,t=r),s(t);if(Bo(o))return g(t,r,o,c);if(yt(o))return m(t,r,o,c);if(u&&Wo(t,o),"undefined"===typeof o&&!l)switch(t.tag){case 1:case 0:throw t=t.type,Error(a(152,t.displayName||t.name||"Component"))}return n(t,r)}}var Ho=zo(!0),Yo=zo(!1),Go={},Xo={current:Go},Vo={current:Go},Ko={current:Go};function $o(t){if(t===Go)throw Error(a(174));return t}function qo(t,e){switch(ki(Ko,e),ki(Vo,t),ki(Xo,Go),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ht(null,"");break;default:t=8===t?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ht(e,t)}Oi(Xo),ki(Xo,e)}function Zo(){Oi(Xo),Oi(Vo),Oi(Ko)}function Jo(t){$o(Ko.current);var e=$o(Xo.current),n=Ht(e,t.type);e!==n&&(ki(Vo,t),ki(Xo,n))}function Qo(t){Vo.current===t&&(Oi(Xo),Oi(Vo))}var ta={current:0};function ea(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(n=n.dehydrated,null===n||n.data===kn||n.data===Tn))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(64&e.effectTag))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function na(t,e){return{responder:t,props:e}}var ra=tt.ReactCurrentDispatcher,ia=tt.ReactCurrentBatchConfig,oa=0,aa=null,sa=null,ca=null,la=!1;function ua(){throw Error(a(321))}function ha(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ti(t[n],e[n]))return!1;return!0}function fa(t,e,n,r,i,o){if(oa=o,aa=e,e.memoizedState=null,e.updateQueue=null,e.expirationTime=0,ra.current=null===t||null===t.memoizedState?Da:La,t=n(r,i),e.expirationTime===oa){o=0;do{if(e.expirationTime=0,!(25>o))throw Error(a(301));o+=1,ca=sa=null,e.updateQueue=null,ra.current=Na,t=n(r,i)}while(e.expirationTime===oa)}if(ra.current=Ra,e=null!==sa&&null!==sa.next,oa=0,ca=sa=aa=null,la=!1,e)throw Error(a(300));return t}function da(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ca?aa.memoizedState=ca=t:ca=ca.next=t,ca}function pa(){if(null===sa){var t=aa.alternate;t=null!==t?t.memoizedState:null}else t=sa.next;var e=null===ca?aa.memoizedState:ca.next;if(null!==e)ca=e,sa=t;else{if(null===t)throw Error(a(310));sa=t,t={memoizedState:sa.memoizedState,baseState:sa.baseState,baseQueue:sa.baseQueue,queue:sa.queue,next:null},null===ca?aa.memoizedState=ca=t:ca=ca.next=t}return ca}function ga(t,e){return"function"===typeof e?e(t):e}function ma(t){var e=pa(),n=e.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=t;var r=sa,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var c=s=o=null,l=i;do{var u=l.expirationTime;if(u<oa){var h={expirationTime:l.expirationTime,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===c?(s=c=h,o=r):c=c.next=h,u>aa.expirationTime&&(aa.expirationTime=u,Nc(u))}else null!==c&&(c=c.next={expirationTime:1073741823,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),Lc(u,l.suspenseConfig),r=l.eagerReducer===t?l.eagerState:t(r,l.action);l=l.next}while(null!==l&&l!==i);null===c?o=r:c.next=s,ti(r,e.memoizedState)||(Ka=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}return[e.memoizedState,n.dispatch]}function va(t){var e=pa(),n=e.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=t(o,s.action),s=s.next}while(s!==i);ti(o,e.memoizedState)||(Ka=!0),e.memoizedState=o,null===e.baseQueue&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function ba(t){var e=da();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=e.queue={pending:null,dispatch:null,lastRenderedReducer:ga,lastRenderedState:t},t=t.dispatch=Ia.bind(null,aa,t),[e.memoizedState,t]}function ya(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=aa.updateQueue,null===e?(e={lastEffect:null},aa.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,null===n?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function wa(){return pa().memoizedState}function _a(t,e,n,r){var i=da();aa.effectTag|=t,i.memoizedState=ya(1|e,n,void 0,void 0===r?null:r)}function xa(t,e,n,r){var i=pa();r=void 0===r?null:r;var o=void 0;if(null!==sa){var a=sa.memoizedState;if(o=a.destroy,null!==r&&ha(r,a.deps))return void ya(e,n,o,r)}aa.effectTag|=t,i.memoizedState=ya(1|e,n,o,r)}function Sa(t,e){return _a(516,4,t,e)}function Ca(t,e){return xa(516,4,t,e)}function Ea(t,e){return xa(4,2,t,e)}function Oa(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function ka(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,xa(4,2,Oa.bind(null,e,t),n)}function Ta(){}function ja(t,e){return da().memoizedState=[t,void 0===e?null:e],t}function Ma(t,e){var n=pa();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&ha(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Aa(t,e){var n=pa();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&ha(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Pa(t,e,n){var r=io();ao(98>r?98:r,(function(){t(!0)})),ao(97<r?97:r,(function(){var r=ia.suspense;ia.suspense=void 0===e?null:e;try{t(!1),n()}finally{ia.suspense=r}}))}function Ia(t,e,n){var r=xc(),i=Ao.suspense;r=Sc(r,t,i),i={expirationTime:r,suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var o=e.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),e.pending=i,o=t.alternate,t===aa||null!==o&&o===aa)la=!0,i.expirationTime=oa,aa.expirationTime=oa;else{if(0===t.expirationTime&&(null===o||0===o.expirationTime)&&(o=e.lastRenderedReducer,null!==o))try{var a=e.lastRenderedState,s=o(a,n);if(i.eagerReducer=o,i.eagerState=s,ti(s,a))return}catch(c){}Cc(t,r)}}var Ra={readContext:xo,useCallback:ua,useContext:ua,useEffect:ua,useImperativeHandle:ua,useLayoutEffect:ua,useMemo:ua,useReducer:ua,useRef:ua,useState:ua,useDebugValue:ua,useResponder:ua,useDeferredValue:ua,useTransition:ua},Da={readContext:xo,useCallback:ja,useContext:xo,useEffect:Sa,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,_a(4,2,Oa.bind(null,e,t),n)},useLayoutEffect:function(t,e){return _a(4,2,t,e)},useMemo:function(t,e){var n=da();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=da();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},t=t.dispatch=Ia.bind(null,aa,t),[r.memoizedState,t]},useRef:function(t){var e=da();return t={current:t},e.memoizedState=t},useState:ba,useDebugValue:Ta,useResponder:na,useDeferredValue:function(t,e){var n=ba(t),r=n[0],i=n[1];return Sa((function(){var n=ia.suspense;ia.suspense=void 0===e?null:e;try{i(t)}finally{ia.suspense=n}}),[t,e]),r},useTransition:function(t){var e=ba(!1),n=e[0];return e=e[1],[ja(Pa.bind(null,e,t),[e,t]),n]}},La={readContext:xo,useCallback:Ma,useContext:xo,useEffect:Ca,useImperativeHandle:ka,useLayoutEffect:Ea,useMemo:Aa,useReducer:ma,useRef:wa,useState:function(){return ma(ga)},useDebugValue:Ta,useResponder:na,useDeferredValue:function(t,e){var n=ma(ga),r=n[0],i=n[1];return Ca((function(){var n=ia.suspense;ia.suspense=void 0===e?null:e;try{i(t)}finally{ia.suspense=n}}),[t,e]),r},useTransition:function(t){var e=ma(ga),n=e[0];return e=e[1],[Ma(Pa.bind(null,e,t),[e,t]),n]}},Na={readContext:xo,useCallback:Ma,useContext:xo,useEffect:Ca,useImperativeHandle:ka,useLayoutEffect:Ea,useMemo:Aa,useReducer:va,useRef:wa,useState:function(){return va(ga)},useDebugValue:Ta,useResponder:na,useDeferredValue:function(t,e){var n=va(ga),r=n[0],i=n[1];return Ca((function(){var n=ia.suspense;ia.suspense=void 0===e?null:e;try{i(t)}finally{ia.suspense=n}}),[t,e]),r},useTransition:function(t){var e=va(ga),n=e[0];return e=e[1],[Ma(Pa.bind(null,e,t),[e,t]),n]}},Fa=null,Ba=null,Ua=!1;function Wa(t,e){var n=nl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function za(t,e){switch(t.tag){case 5:var n=t.type;return e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,null!==e&&(t.stateNode=e,!0);case 6:return e=""===t.pendingProps||3!==e.nodeType?null:e,null!==e&&(t.stateNode=e,!0);case 13:return!1;default:return!1}}function Ha(t){if(Ua){var e=Ba;if(e){var n=e;if(!za(t,e)){if(e=Dn(n.nextSibling),!e||!za(t,e))return t.effectTag=-1025&t.effectTag|2,Ua=!1,void(Fa=t);Wa(Fa,n)}Fa=t,Ba=Dn(e.firstChild)}else t.effectTag=-1025&t.effectTag|2,Ua=!1,Fa=t}}function Ya(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;Fa=t}function Ga(t){if(t!==Fa)return!1;if(!Ua)return Ya(t),Ua=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!Pn(e,t.memoizedProps))for(e=Ba;e;)Wa(t,e),e=Dn(e.nextSibling);if(Ya(t),13===t.tag){if(t=t.memoizedState,t=null!==t?t.dehydrated:null,!t)throw Error(a(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if(n===On){if(0===e){Ba=Dn(t.nextSibling);break t}e--}else n!==En&&n!==Tn&&n!==kn||e++}t=t.nextSibling}Ba=null}}else Ba=Fa?Dn(t.stateNode.nextSibling):null;return!0}function Xa(){Ba=Fa=null,Ua=!1}var Va=tt.ReactCurrentOwner,Ka=!1;function $a(t,e,n,r){e.child=null===t?Yo(e,null,n,r):Ho(e,t.child,n,r)}function qa(t,e,n,r,i){n=n.render;var o=e.ref;return _o(e,i),r=fa(t,e,n,r,o,i),null===t||Ka?(e.effectTag|=1,$a(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=i&&(t.expirationTime=0),ds(t,e,i))}function Za(t,e,n,r,i,o){if(null===t){var a=n.type;return"function"!==typeof a||rl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?(t=al(n.type,null,r,null,e.mode,o),t.ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=a,Ja(t,e,a,r,i,o))}return a=t.child,i<o&&(i=a.memoizedProps,n=n.compare,n=null!==n?n:ni,n(i,r)&&t.ref===e.ref)?ds(t,e,o):(e.effectTag|=1,t=ol(a,r),t.ref=e.ref,t.return=e,e.child=t)}function Ja(t,e,n,r,i,o){return null!==t&&ni(t.memoizedProps,r)&&t.ref===e.ref&&(Ka=!1,i<o)?(e.expirationTime=t.expirationTime,ds(t,e,o)):ts(t,e,n,r,o)}function Qa(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.effectTag|=128)}function ts(t,e,n,r,i){var o=Ii(n)?Ai:ji.current;return o=Pi(e,o),_o(e,i),n=fa(t,e,n,r,o,i),null===t||Ka?(e.effectTag|=1,$a(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=i&&(t.expirationTime=0),ds(t,e,i))}function es(t,e,n,r,i){if(Ii(n)){var o=!0;Ni(e)}else o=!1;if(_o(e,i),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),Lo(e,n,r),Fo(e,n,r,i),r=!0;else if(null===t){var a=e.stateNode,s=e.memoizedProps;a.props=s;var c=a.context,l=n.contextType;"object"===typeof l&&null!==l?l=xo(l):(l=Ii(n)?Ai:ji.current,l=Pi(e,l));var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||c!==l)&&No(e,a,r,l),So=!1;var f=e.memoizedState;a.state=f,jo(e,r,a,i),c=e.memoizedState,s!==r||f!==c||Mi.current||So?("function"===typeof u&&(Io(e,n,u,r),c=e.memoizedState),(s=So||Do(e,n,s,r,f,c,l))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(e.effectTag|=4)):("function"===typeof a.componentDidMount&&(e.effectTag|=4),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=l,r=s):("function"===typeof a.componentDidMount&&(e.effectTag|=4),r=!1)}else a=e.stateNode,Eo(t,e),s=e.memoizedProps,a.props=e.type===e.elementType?s:fo(e.type,s),c=a.context,l=n.contextType,"object"===typeof l&&null!==l?l=xo(l):(l=Ii(n)?Ai:ji.current,l=Pi(e,l)),u=n.getDerivedStateFromProps,(h="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||c!==l)&&No(e,a,r,l),So=!1,c=e.memoizedState,a.state=c,jo(e,r,a,i),f=e.memoizedState,s!==r||c!==f||Mi.current||So?("function"===typeof u&&(Io(e,n,u,r),f=e.memoizedState),(u=So||Do(e,n,s,r,c,f,l))?(h||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof a.componentDidUpdate&&(e.effectTag|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(e.effectTag|=256)):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&c===t.memoizedState||(e.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&c===t.memoizedState||(e.effectTag|=256),e.memoizedProps=r,e.memoizedState=f),a.props=r,a.state=f,a.context=l,r=u):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&c===t.memoizedState||(e.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&c===t.memoizedState||(e.effectTag|=256),r=!1);return ns(t,e,n,r,o,i)}function ns(t,e,n,r,i,o){Qa(t,e);var a=0!==(64&e.effectTag);if(!r&&!a)return i&&Fi(e,n,!1),ds(t,e,o);r=e.stateNode,Va.current=e;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return e.effectTag|=1,null!==t&&a?(e.child=Ho(e,t.child,null,o),e.child=Ho(e,null,s,o)):$a(t,e,s,o),e.memoizedState=r.state,i&&Fi(e,n,!0),e.child}function rs(t){var e=t.stateNode;e.pendingContext?Di(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Di(t,e.context,!1),qo(t,e.containerInfo)}var is,os,as,ss,cs={dehydrated:null,retryTime:0};function ls(t,e,n){var r,i=e.mode,o=e.pendingProps,a=ta.current,s=!1;if((r=0!==(64&e.effectTag))||(r=0!==(2&a)&&(null===t||null!==t.memoizedState)),r?(s=!0,e.effectTag&=-65):null!==t&&null===t.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),ki(ta,1&a),null===t){if(void 0!==o.fallback&&Ha(e),s){if(s=o.fallback,o=sl(null,i,0,null),o.return=e,0===(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,o.child=t;null!==t;)t.return=o,t=t.sibling;return n=sl(s,i,n,null),n.return=e,o.sibling=n,e.memoizedState=cs,e.child=o,n}return i=o.children,e.memoizedState=null,e.child=Yo(e,null,i,n)}if(null!==t.memoizedState){if(t=t.child,i=t.sibling,s){if(o=o.fallback,n=ol(t,t.pendingProps),n.return=e,0===(2&e.mode)&&(s=null!==e.memoizedState?e.child.child:e.child,s!==t.child))for(n.child=s;null!==s;)s.return=n,s=s.sibling;return i=ol(i,o),i.return=e,n.sibling=i,n.childExpirationTime=0,e.memoizedState=cs,e.child=n,i}return n=Ho(e,t.child,o.children,n),e.memoizedState=null,e.child=n}if(t=t.child,s){if(s=o.fallback,o=sl(null,i,0,null),o.return=e,o.child=t,null!==t&&(t.return=o),0===(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,o.child=t;null!==t;)t.return=o,t=t.sibling;return n=sl(s,i,n,null),n.return=e,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,e.memoizedState=cs,e.child=o,n}return e.memoizedState=null,e.child=Ho(e,t,o.children,n)}function us(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e),wo(t.return,e)}function hs(t,e,n,r,i,o){var a=t.memoizedState;null===a?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:o}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailExpiration=0,a.tailMode=i,a.lastEffect=o)}function fs(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if($a(t,e,r.children,n),r=ta.current,0!==(2&r))r=1&r|2,e.effectTag|=64;else{if(null!==t&&0!==(64&t.effectTag))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&us(t,n);else if(19===t.tag)us(t,n);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ki(ta,r),0===(2&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;null!==n;)t=n.alternate,null!==t&&null===ea(t)&&(i=n),n=n.sibling;n=i,null===n?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),hs(e,!1,i,n,o,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(t=i.alternate,null!==t&&null===ea(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}hs(e,!0,n,null,o,e.lastEffect);break;case"together":hs(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function ds(t,e,n){null!==t&&(e.dependencies=t.dependencies);var r=e.expirationTime;if(0!==r&&Nc(r),e.childExpirationTime<n)return null;if(null!==t&&e.child!==t.child)throw Error(a(153));if(null!==e.child){for(t=e.child,n=ol(t,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,n=n.sibling=ol(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ps(t,e){switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function gs(t,e,n){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Ii(e.type)&&Ri(),null;case 3:return Zo(),Oi(Mi),Oi(ji),n=e.stateNode,n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==t&&null!==t.child||!Ga(e)||(e.effectTag|=4),os(e),null;case 5:Qo(e),n=$o(Ko.current);var o=e.type;if(null!==t&&null!=e.stateNode)as(t,e,o,r,n),t.ref!==e.ref&&(e.effectTag|=128);else{if(!r){if(null===e.stateNode)throw Error(a(166));return null}if(t=$o(Xo.current),Ga(e)){r=e.stateNode,o=e.type;var s=e.memoizedProps;switch(r[Fn]=e,r[Bn]=s,o){case"iframe":case"object":case"embed":nn("load",r);break;case"video":case"audio":for(t=0;t<ne.length;t++)nn(ne[t],r);break;case"source":nn("error",r);break;case"img":case"image":case"link":nn("error",r),nn("load",r);break;case"form":nn("reset",r),nn("submit",r);break;case"details":nn("toggle",r);break;case"input":jt(r,s),nn("invalid",r),vn(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!s.multiple},nn("invalid",r),vn(n,"onChange");break;case"textarea":Ft(r,s),nn("invalid",r),vn(n,"onChange")}for(var c in pn(o,s),t=null,s)if(s.hasOwnProperty(c)){var l=s[c];"children"===c?"string"===typeof l?r.textContent!==l&&(t=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(t=["children",""+l]):E.hasOwnProperty(c)&&null!=l&&vn(n,c)}switch(o){case"input":Ot(r),Pt(r,s,!0);break;case"textarea":Ot(r),Ut(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=bn)}n=t,e.updateQueue=n,null!==n&&(e.effectTag|=4)}else{switch(c=9===n.nodeType?n:n.ownerDocument,t===mn&&(t=zt(o)),t===mn?"script"===o?(t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof r.is?t=c.createElement(o,{is:r.is}):(t=c.createElement(o),"select"===o&&(c=t,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):t=c.createElementNS(t,o),t[Fn]=e,t[Bn]=r,is(t,e,!1,!1),e.stateNode=t,c=gn(o,r),o){case"iframe":case"object":case"embed":nn("load",t),l=r;break;case"video":case"audio":for(l=0;l<ne.length;l++)nn(ne[l],t);l=r;break;case"source":nn("error",t),l=r;break;case"img":case"image":case"link":nn("error",t),nn("load",t),l=r;break;case"form":nn("reset",t),nn("submit",t),l=r;break;case"details":nn("toggle",t),l=r;break;case"input":jt(t,r),l=Tt(t,r),nn("invalid",t),vn(n,"onChange");break;case"option":l=Dt(t,r);break;case"select":t._wrapperState={wasMultiple:!!r.multiple},l=i({},r,{value:void 0}),nn("invalid",t),vn(n,"onChange");break;case"textarea":Ft(t,r),l=Nt(t,r),nn("invalid",t),vn(n,"onChange");break;default:l=r}pn(o,l);var u=l;for(s in u)if(u.hasOwnProperty(s)){var h=u[s];"style"===s?fn(t,h):"dangerouslySetInnerHTML"===s?(h=h?h.__html:void 0,null!=h&&Gt(t,h)):"children"===s?"string"===typeof h?("textarea"!==o||""!==h)&&Xt(t,h):"number"===typeof h&&Xt(t,""+h):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(E.hasOwnProperty(s)?null!=h&&vn(n,s):null!=h&&et(t,s,h,c))}switch(o){case"input":Ot(t),Pt(t,r,!1);break;case"textarea":Ot(t),Ut(t);break;case"option":null!=r.value&&t.setAttribute("value",""+St(r.value));break;case"select":t.multiple=!!r.multiple,n=r.value,null!=n?Lt(t,!!r.multiple,n,!1):null!=r.defaultValue&&Lt(t,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof l.onClick&&(t.onclick=bn)}An(o,r)&&(e.effectTag|=4)}null!==e.ref&&(e.effectTag|=128)}return null;case 6:if(t&&null!=e.stateNode)ss(t,e,t.memoizedProps,r);else{if("string"!==typeof r&&null===e.stateNode)throw Error(a(166));n=$o(Ko.current),$o(Xo.current),Ga(e)?(n=e.stateNode,r=e.memoizedProps,n[Fn]=e,n.nodeValue!==r&&(e.effectTag|=4)):(n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r),n[Fn]=e,e.stateNode=n)}return null;case 13:return Oi(ta),r=e.memoizedState,0!==(64&e.effectTag)?(e.expirationTime=n,e):(n=null!==r,r=!1,null===t?void 0!==e.memoizedProps.fallback&&Ga(e):(o=t.memoizedState,r=null!==o,n||null===o||(o=t.child.sibling,null!==o&&(s=e.firstEffect,null!==s?(e.firstEffect=o,o.nextEffect=s):(e.firstEffect=e.lastEffect=o,o.nextEffect=null),o.effectTag=8))),n&&!r&&0!==(2&e.mode)&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!==(1&ta.current)?nc===Xs&&(nc=$s):(nc!==Xs&&nc!==$s||(nc=qs),0!==sc&&null!==Qs&&(fl(Qs,ec),dl(Qs,sc)))),(n||r)&&(e.effectTag|=4),null);case 4:return Zo(),os(e),null;case 10:return yo(e),null;case 17:return Ii(e.type)&&Ri(),null;case 19:if(Oi(ta),r=e.memoizedState,null===r)return null;if(o=0!==(64&e.effectTag),s=r.rendering,null===s){if(o)ps(r,!1);else if(nc!==Xs||null!==t&&0!==(64&t.effectTag))for(s=e.child;null!==s;){if(t=ea(s),null!==t){for(e.effectTag|=64,ps(r,!1),o=t.updateQueue,null!==o&&(e.updateQueue=o,e.effectTag|=4),null===r.lastEffect&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=e.child;null!==r;)o=r,s=n,o.effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,t=o.alternate,null===t?(o.childExpirationTime=0,o.expirationTime=s,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=t.childExpirationTime,o.expirationTime=t.expirationTime,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,s=t.dependencies,o.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),r=r.sibling;return ki(ta,1&ta.current|2),e.child}s=s.sibling}}else{if(!o)if(t=ea(s),null!==t){if(e.effectTag|=64,o=!0,n=t.updateQueue,null!==n&&(e.updateQueue=n,e.effectTag|=4),ps(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate)return e=e.lastEffect=r.lastEffect,null!==e&&(e.nextEffect=null),null}else 2*ro()-r.renderingStartTime>r.tailExpiration&&1<n&&(e.effectTag|=64,o=!0,ps(r,!1),e.expirationTime=e.childExpirationTime=n-1);r.isBackwards?(s.sibling=e.child,e.child=s):(n=r.last,null!==n?n.sibling=s:e.child=s,r.last=s)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=ro()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=ro(),n.sibling=null,e=ta.current,ki(ta,o?1&e|2:1&e),n):null}throw Error(a(156,e.tag))}function ms(t){switch(t.tag){case 1:Ii(t.type)&&Ri();var e=t.effectTag;return 4096&e?(t.effectTag=-4097&e|64,t):null;case 3:if(Zo(),Oi(Mi),Oi(ji),e=t.effectTag,0!==(64&e))throw Error(a(285));return t.effectTag=-4097&e|64,t;case 5:return Qo(t),null;case 13:return Oi(ta),e=t.effectTag,4096&e?(t.effectTag=-4097&e|64,t):null;case 19:return Oi(ta),null;case 4:return Zo(),null;case 10:return yo(t),null;default:return null}}function vs(t,e){return{value:t,source:e,stack:xt(e)}}is=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},os=function(){},as=function(t,e,n,r,o){var a=t.memoizedProps;if(a!==r){var s,c,l=e.stateNode;switch($o(Xo.current),t=null,n){case"input":a=Tt(l,a),r=Tt(l,r),t=[];break;case"option":a=Dt(l,a),r=Dt(l,r),t=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),t=[];break;case"textarea":a=Nt(l,a),r=Nt(l,r),t=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(l.onclick=bn)}for(s in pn(n,r),n=null,a)if(!r.hasOwnProperty(s)&&a.hasOwnProperty(s)&&null!=a[s])if("style"===s)for(c in l=a[s],l)l.hasOwnProperty(c)&&(n||(n={}),n[c]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(E.hasOwnProperty(s)?t||(t=[]):(t=t||[]).push(s,null));for(s in r){var u=r[s];if(l=null!=a?a[s]:void 0,r.hasOwnProperty(s)&&u!==l&&(null!=u||null!=l))if("style"===s)if(l){for(c in l)!l.hasOwnProperty(c)||u&&u.hasOwnProperty(c)||(n||(n={}),n[c]="");for(c in u)u.hasOwnProperty(c)&&l[c]!==u[c]&&(n||(n={}),n[c]=u[c])}else n||(t||(t=[]),t.push(s,n)),n=u;else"dangerouslySetInnerHTML"===s?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(t=t||[]).push(s,u)):"children"===s?l===u||"string"!==typeof u&&"number"!==typeof u||(t=t||[]).push(s,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(E.hasOwnProperty(s)?(null!=u&&vn(o,s),t||l===u||(t=[])):(t=t||[]).push(s,u))}n&&(t=t||[]).push("style",n),o=t,(e.updateQueue=o)&&(e.effectTag|=4)}},ss=function(t,e,n,r){n!==r&&(e.effectTag|=4)};var bs="function"===typeof WeakSet?WeakSet:Set;function ys(t,e){var n=e.source,r=e.stack;null===r&&null!==n&&(r=xt(n)),null!==n&&_t(n.type),e=e.value,null!==t&&1===t.tag&&_t(t.type);try{console.error(e)}catch(i){setTimeout((function(){throw i}))}}function ws(t,e){try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(n){$c(t,n)}}function _s(t){var e=t.ref;if(null!==e)if("function"===typeof e)try{e(null)}catch(n){$c(t,n)}else e.current=null}function xs(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&e.effectTag&&null!==t){var n=t.memoizedProps,r=t.memoizedState;t=e.stateNode,e=t.getSnapshotBeforeUpdate(e.elementType===e.type?n:fo(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(a(163))}function Ss(t,e){if(e=e.updateQueue,e=null!==e?e.lastEffect:null,null!==e){var n=e=e.next;do{if((n.tag&t)===t){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==e)}}function Cs(t,e){if(e=e.updateQueue,e=null!==e?e.lastEffect:null,null!==e){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Es(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:return void Cs(3,n);case 1:if(t=n.stateNode,4&n.effectTag)if(null===e)t.componentDidMount();else{var r=n.elementType===n.type?e.memoizedProps:fo(n.type,e.memoizedProps);t.componentDidUpdate(r,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate)}return e=n.updateQueue,void(null!==e&&Mo(n,e,t));case 3:if(e=n.updateQueue,null!==e){if(t=null,null!==n.child)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}Mo(n,e,t)}return;case 5:return t=n.stateNode,void(null===e&&4&n.effectTag&&An(n.type,n.memoizedProps)&&t.focus());case 6:return;case 4:return;case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Ge(n)))));case 19:case 17:case 20:case 21:return}throw Error(a(163))}function Os(t,e,n){switch("function"===typeof Qc&&Qc(e),e.tag){case 0:case 11:case 14:case 15:case 22:if(t=e.updateQueue,null!==t&&(t=t.lastEffect,null!==t)){var r=t.next;ao(97<n?97:n,(function(){var t=r;do{var n=t.destroy;if(void 0!==n){var i=e;try{n()}catch(o){$c(i,o)}}t=t.next}while(t!==r)}))}break;case 1:_s(e),n=e.stateNode,"function"===typeof n.componentWillUnmount&&ws(e,n);break;case 5:_s(e);break;case 4:Ps(t,e,n)}}function ks(t){var e=t.alternate;t.return=null,t.child=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.alternate=null,t.firstEffect=null,t.lastEffect=null,t.pendingProps=null,t.memoizedProps=null,t.stateNode=null,null!==e&&ks(e)}function Ts(t){return 5===t.tag||3===t.tag||4===t.tag}function js(t){t:{for(var e=t.return;null!==e;){if(Ts(e)){var n=e;break t}e=e.return}throw Error(a(160))}switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:e=e.containerInfo,r=!0;break;case 4:e=e.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.effectTag&&(Xt(e,""),n.effectTag&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||Ts(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break t}}r?Ms(t,n,e):As(t,n,e)}function Ms(t,e,n){var r=t.tag,i=5===r||6===r;if(i)t=i?t.stateNode:t.stateNode.instance,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,null!==n&&void 0!==n||null!==e.onclick||(e.onclick=bn));else if(4!==r&&(t=t.child,null!==t))for(Ms(t,e,n),t=t.sibling;null!==t;)Ms(t,e,n),t=t.sibling}function As(t,e,n){var r=t.tag,i=5===r||6===r;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==r&&(t=t.child,null!==t))for(As(t,e,n),t=t.sibling;null!==t;)As(t,e,n),t=t.sibling}function Ps(t,e,n){for(var r,i,o=e,s=!1;;){if(!s){s=o.return;t:for(;;){if(null===s)throw Error(a(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break t;case 3:r=r.containerInfo,i=!0;break t;case 4:r=r.containerInfo,i=!0;break t}s=s.return}s=!0}if(5===o.tag||6===o.tag){t:for(var c=t,l=o,u=n,h=l;;)if(Os(c,h,u),null!==h.child&&4!==h.tag)h.child.return=h,h=h.child;else{if(h===l)break t;for(;null===h.sibling;){if(null===h.return||h.return===l)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i?(c=r,l=o.stateNode,8===c.nodeType?c.parentNode.removeChild(l):c.removeChild(l)):r.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(Os(t,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===e)break;for(;null===o.sibling;){if(null===o.return||o.return===e)return;o=o.return,4===o.tag&&(s=!1)}o.sibling.return=o.return,o=o.sibling}}function Is(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:return void Ss(3,e);case 1:return;case 5:var n=e.stateNode;if(null!=n){var r=e.memoizedProps,i=null!==t?t.memoizedProps:r;t=e.type;var o=e.updateQueue;if(e.updateQueue=null,null!==o){for(n[Bn]=r,"input"===t&&"radio"===r.type&&null!=r.name&&Mt(n,r),gn(t,i),e=gn(t,r),i=0;i<o.length;i+=2){var s=o[i],c=o[i+1];"style"===s?fn(n,c):"dangerouslySetInnerHTML"===s?Gt(n,c):"children"===s?Xt(n,c):et(n,s,c,e)}switch(t){case"input":At(n,r);break;case"textarea":Bt(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,t=r.value,null!=t?Lt(n,!!r.multiple,t,!1):e!==!!r.multiple&&(null!=r.defaultValue?Lt(n,!!r.multiple,r.defaultValue,!0):Lt(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===e.stateNode)throw Error(a(162));return void(e.stateNode.nodeValue=e.memoizedProps);case 3:return e=e.stateNode,void(e.hydrate&&(e.hydrate=!1,Ge(e.containerInfo)));case 12:return;case 13:if(n=e,null===e.memoizedState?r=!1:(r=!0,n=e.child,lc=ro()),null!==n)t:for(t=n;;){if(5===t.tag)o=t.stateNode,r?(o=o.style,"function"===typeof o.setProperty?o.setProperty("display","none","important"):o.display="none"):(o=t.stateNode,i=t.memoizedProps.style,i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,o.style.display=hn("display",i));else if(6===t.tag)t.stateNode.nodeValue=r?"":t.memoizedProps;else{if(13===t.tag&&null!==t.memoizedState&&null===t.memoizedState.dehydrated){o=t.child.sibling,o.return=t,t=o;continue}if(null!==t.child){t.child.return=t,t=t.child;continue}}if(t===n)break;for(;null===t.sibling;){if(null===t.return||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}return void Rs(e);case 19:return void Rs(e);case 17:return}throw Error(a(163))}function Rs(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new bs),e.forEach((function(e){var r=Zc.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))}))}}var Ds="function"===typeof WeakMap?WeakMap:Map;function Ls(t,e,n){n=Oo(n,null),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){fc||(fc=!0,dc=r),ys(t,e)},n}function Ns(t,e,n){n=Oo(n,null),n.tag=3;var r=t.type.getDerivedStateFromError;if("function"===typeof r){var i=e.value;n.payload=function(){return ys(t,e),r(i)}}var o=t.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===pc?pc=new Set([this]):pc.add(this),ys(t,e));var n=e.stack;this.componentDidCatch(e.value,{componentStack:null!==n?n:""})}),n}var Fs,Bs=Math.ceil,Us=tt.ReactCurrentDispatcher,Ws=tt.ReactCurrentOwner,zs=0,Hs=8,Ys=16,Gs=32,Xs=0,Vs=1,Ks=2,$s=3,qs=4,Zs=5,Js=zs,Qs=null,tc=null,ec=0,nc=Xs,rc=null,ic=1073741823,oc=1073741823,ac=null,sc=0,cc=!1,lc=0,uc=500,hc=null,fc=!1,dc=null,pc=null,gc=!1,mc=null,vc=90,bc=null,yc=0,wc=null,_c=0;function xc(){return(Js&(Ys|Gs))!==zs?1073741821-(ro()/10|0):0!==_c?_c:_c=1073741821-(ro()/10|0)}function Sc(t,e,n){if(e=e.mode,0===(2&e))return 1073741823;var r=io();if(0===(4&e))return 99===r?1073741823:1073741822;if((Js&Ys)!==zs)return ec;if(null!==n)t=ho(t,0|n.timeoutMs||5e3,250);else switch(r){case 99:t=1073741823;break;case 98:t=ho(t,150,100);break;case 97:case 96:t=ho(t,5e3,250);break;case 95:t=2;break;default:throw Error(a(326))}return null!==Qs&&t===ec&&--t,t}function Cc(t,e){if(50<yc)throw yc=0,wc=null,Error(a(185));if(t=Ec(t,e),null!==t){var n=io();1073741823===e?(Js&Hs)!==zs&&(Js&(Ys|Gs))===zs?jc(t):(kc(t),Js===zs&&lo()):kc(t),(4&Js)===zs||98!==n&&99!==n||(null===bc?bc=new Map([[t,e]]):(n=bc.get(t),(void 0===n||n>e)&&bc.set(t,e)))}}function Ec(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e);var r=t.return,i=null;if(null===r&&3===t.tag)i=t.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<e&&(r.childExpirationTime=e),null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(Qs===i&&(Nc(e),nc===qs&&fl(i,ec)),dl(i,e)),i}function Oc(t){var e=t.lastExpiredTime;if(0!==e)return e;if(e=t.firstPendingTime,!hl(t,e))return e;var n=t.lastPingedTime;return t=t.nextKnownPendingLevel,t=n>t?n:t,2>=t&&e!==t?0:t}function kc(t){if(0!==t.lastExpiredTime)t.callbackExpirationTime=1073741823,t.callbackPriority=99,t.callbackNode=co(jc.bind(null,t));else{var e=Oc(t),n=t.callbackNode;if(0===e)null!==n&&(t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90);else{var r=xc();if(1073741823===e?r=99:1===e||2===e?r=95:(r=10*(1073741821-e)-10*(1073741821-r),r=0>=r?99:250>=r?98:5250>=r?97:95),null!==n){var i=t.callbackPriority;if(t.callbackExpirationTime===e&&i>=r)return;n!==qi&&Wi(n)}t.callbackExpirationTime=e,t.callbackPriority=r,e=1073741823===e?co(jc.bind(null,t)):so(r,Tc.bind(null,t),{timeout:10*(1073741821-e)-ro()}),t.callbackNode=e}}}function Tc(t,e){if(_c=0,e)return e=xc(),pl(t,e),kc(t),null;var n=Oc(t);if(0!==n){if(e=t.callbackNode,(Js&(Ys|Gs))!==zs)throw Error(a(327));if(Xc(),t===Qs&&n===ec||Ic(t,n),null!==tc){var r=Js;Js|=Ys;var i=Dc();do{try{Bc();break}catch(c){Rc(t,c)}}while(1);if(bo(),Js=r,Us.current=i,nc===Vs)throw e=rc,Ic(t,n),fl(t,n),kc(t),e;if(null===tc)switch(i=t.finishedWork=t.current.alternate,t.finishedExpirationTime=n,r=nc,Qs=null,r){case Xs:case Vs:throw Error(a(345));case Ks:pl(t,2<n?2:n);break;case $s:if(fl(t,n),r=t.lastSuspendedTime,n===r&&(t.nextKnownPendingLevel=zc(i)),1073741823===ic&&(i=lc+uc-ro(),10<i)){if(cc){var o=t.lastPingedTime;if(0===o||o>=n){t.lastPingedTime=n,Ic(t,n);break}}if(o=Oc(t),0!==o&&o!==n)break;if(0!==r&&r!==n){t.lastPingedTime=r;break}t.timeoutHandle=In(Hc.bind(null,t),i);break}Hc(t);break;case qs:if(fl(t,n),r=t.lastSuspendedTime,n===r&&(t.nextKnownPendingLevel=zc(i)),cc&&(i=t.lastPingedTime,0===i||i>=n)){t.lastPingedTime=n,Ic(t,n);break}if(i=Oc(t),0!==i&&i!==n)break;if(0!==r&&r!==n){t.lastPingedTime=r;break}if(1073741823!==oc?r=10*(1073741821-oc)-ro():1073741823===ic?r=0:(r=10*(1073741821-ic)-5e3,i=ro(),n=10*(1073741821-n)-i,r=i-r,0>r&&(r=0),r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Bs(r/1960))-r,n<r&&(r=n)),10<r){t.timeoutHandle=In(Hc.bind(null,t),r);break}Hc(t);break;case Zs:if(1073741823!==ic&&null!==ac){o=ic;var s=ac;if(r=0|s.busyMinDurationMs,0>=r?r=0:(i=0|s.busyDelayMs,o=ro()-(10*(1073741821-o)-(0|s.timeoutMs||5e3)),r=o<=i?0:i+r-o),10<r){fl(t,n),t.timeoutHandle=In(Hc.bind(null,t),r);break}}Hc(t);break;default:throw Error(a(329))}if(kc(t),t.callbackNode===e)return Tc.bind(null,t)}}return null}function jc(t){var e=t.lastExpiredTime;if(e=0!==e?e:1073741823,(Js&(Ys|Gs))!==zs)throw Error(a(327));if(Xc(),t===Qs&&e===ec||Ic(t,e),null!==tc){var n=Js;Js|=Ys;var r=Dc();do{try{Fc();break}catch(i){Rc(t,i)}}while(1);if(bo(),Js=n,Us.current=r,nc===Vs)throw n=rc,Ic(t,e),fl(t,e),kc(t),n;if(null!==tc)throw Error(a(261));t.finishedWork=t.current.alternate,t.finishedExpirationTime=e,Qs=null,Hc(t),kc(t)}return null}function Mc(){if(null!==bc){var t=bc;bc=null,t.forEach((function(t,e){pl(e,t),kc(e)})),lo()}}function Ac(t,e){var n=Js;Js|=1;try{return t(e)}finally{Js=n,Js===zs&&lo()}}function Pc(t,e){var n=Js;Js&=-2,Js|=Hs;try{return t(e)}finally{Js=n,Js===zs&&lo()}}function Ic(t,e){t.finishedWork=null,t.finishedExpirationTime=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,Rn(n)),null!==tc)for(n=tc.return;null!==n;){var r=n;switch(r.tag){case 1:r=r.type.childContextTypes,null!==r&&void 0!==r&&Ri();break;case 3:Zo(),Oi(Mi),Oi(ji);break;case 5:Qo(r);break;case 4:Zo();break;case 13:Oi(ta);break;case 19:Oi(ta);break;case 10:yo(r)}n=n.return}Qs=t,tc=ol(t.current,null),ec=e,nc=Xs,rc=null,oc=ic=1073741823,ac=null,sc=0,cc=!1}function Rc(t,e){do{try{if(bo(),ra.current=Ra,la)for(var n=aa.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(oa=0,ca=sa=aa=null,la=!1,null===tc||null===tc.return)return nc=Vs,rc=e,tc=null;t:{var i=t,o=tc.return,a=tc,s=e;if(e=ec,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var c=s;if(0===(2&a.mode)){var l=a.alternate;l?(a.updateQueue=l.updateQueue,a.memoizedState=l.memoizedState,a.expirationTime=l.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var u=0!==(1&ta.current),h=o;do{var f;if(f=13===h.tag){var d=h.memoizedState;if(null!==d)f=null!==d.dehydrated;else{var p=h.memoizedProps;f=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!u)}}if(f){var g=h.updateQueue;if(null===g){var m=new Set;m.add(c),h.updateQueue=m}else g.add(c);if(0===(2&h.mode)){if(h.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var v=Oo(1073741823,null);v.tag=2,ko(a,v)}a.expirationTime=1073741823;break t}s=void 0,a=e;var b=i.pingCache;if(null===b?(b=i.pingCache=new Ds,s=new Set,b.set(c,s)):(s=b.get(c),void 0===s&&(s=new Set,b.set(c,s))),!s.has(a)){s.add(a);var y=qc.bind(null,i,c,a);c.then(y,y)}h.effectTag|=4096,h.expirationTime=e;break t}h=h.return}while(null!==h);s=Error((_t(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+xt(a))}nc!==Zs&&(nc=Ks),s=vs(s,a),h=o;do{switch(h.tag){case 3:c=s,h.effectTag|=4096,h.expirationTime=e;var w=Ls(h,c,e);To(h,w);break t;case 1:c=s;var _=h.type,x=h.stateNode;if(0===(64&h.effectTag)&&("function"===typeof _.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===pc||!pc.has(x)))){h.effectTag|=4096,h.expirationTime=e;var S=Ns(h,c,e);To(h,S);break t}}h=h.return}while(null!==h)}tc=Wc(tc)}catch(C){e=C;continue}break}while(1)}function Dc(){var t=Us.current;return Us.current=Ra,null===t?Ra:t}function Lc(t,e){t<ic&&2<t&&(ic=t),null!==e&&t<oc&&2<t&&(oc=t,ac=e)}function Nc(t){t>sc&&(sc=t)}function Fc(){for(;null!==tc;)tc=Uc(tc)}function Bc(){for(;null!==tc&&!Zi();)tc=Uc(tc)}function Uc(t){var e=Fs(t.alternate,t,ec);return t.memoizedProps=t.pendingProps,null===e&&(e=Wc(t)),Ws.current=null,e}function Wc(t){tc=t;do{var e=tc.alternate;if(t=tc.return,0===(2048&tc.effectTag)){if(e=gs(e,tc,ec),1===ec||1!==tc.childExpirationTime){for(var n=0,r=tc.child;null!==r;){var i=r.expirationTime,o=r.childExpirationTime;i>n&&(n=i),o>n&&(n=o),r=r.sibling}tc.childExpirationTime=n}if(null!==e)return e;null!==t&&0===(2048&t.effectTag)&&(null===t.firstEffect&&(t.firstEffect=tc.firstEffect),null!==tc.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=tc.firstEffect),t.lastEffect=tc.lastEffect),1<tc.effectTag&&(null!==t.lastEffect?t.lastEffect.nextEffect=tc:t.firstEffect=tc,t.lastEffect=tc))}else{if(e=ms(tc),null!==e)return e.effectTag&=2047,e;null!==t&&(t.firstEffect=t.lastEffect=null,t.effectTag|=2048)}if(e=tc.sibling,null!==e)return e;tc=t}while(null!==tc);return nc===Xs&&(nc=Zs),null}function zc(t){var e=t.expirationTime;return t=t.childExpirationTime,e>t?e:t}function Hc(t){var e=io();return ao(99,Yc.bind(null,t,e)),null}function Yc(t,e){do{Xc()}while(null!==mc);if((Js&(Ys|Gs))!==zs)throw Error(a(327));var n=t.finishedWork,r=t.finishedExpirationTime;if(null===n)return null;if(t.finishedWork=null,t.finishedExpirationTime=0,n===t.current)throw Error(a(177));t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90,t.nextKnownPendingLevel=0;var i=zc(n);if(t.firstPendingTime=i,r<=t.lastSuspendedTime?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:r<=t.firstSuspendedTime&&(t.firstSuspendedTime=r-1),r<=t.lastPingedTime&&(t.lastPingedTime=0),r<=t.lastExpiredTime&&(t.lastExpiredTime=0),t===Qs&&(tc=Qs=null,ec=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var o=Js;Js|=Gs,Ws.current=null,jn=en;var s=Sn();if(Cn(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else t:{c=(c=s.ownerDocument)&&c.defaultView||window;var l=c.getSelection&&c.getSelection();if(l&&0!==l.rangeCount){c=l.anchorNode;var u=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{c.nodeType,h.nodeType}catch(O){c=null;break t}var f=0,d=-1,p=-1,g=0,m=0,v=s,b=null;e:for(;;){for(var y;;){if(v!==c||0!==u&&3!==v.nodeType||(d=f+u),v!==h||0!==l&&3!==v.nodeType||(p=f+l),3===v.nodeType&&(f+=v.nodeValue.length),null===(y=v.firstChild))break;b=v,v=y}for(;;){if(v===s)break e;if(b===c&&++g===u&&(d=f),b===h&&++m===l&&(p=f),null!==(y=v.nextSibling))break;v=b,b=v.parentNode}v=y}c=-1===d||-1===p?null:{start:d,end:p}}else c=null}c=c||{start:0,end:0}}else c=null;Mn={activeElementDetached:null,focusedElem:s,selectionRange:c},en=!1,hc=i;do{try{Gc()}catch(O){if(null===hc)throw Error(a(330));$c(hc,O),hc=hc.nextEffect}}while(null!==hc);hc=i;do{try{for(s=t,c=e;null!==hc;){var w=hc.effectTag;if(16&w&&Xt(hc.stateNode,""),128&w){var _=hc.alternate;if(null!==_){var x=_.ref;null!==x&&("function"===typeof x?x(null):x.current=null)}}switch(1038&w){case 2:js(hc),hc.effectTag&=-3;break;case 6:js(hc),hc.effectTag&=-3,Is(hc.alternate,hc);break;case 1024:hc.effectTag&=-1025;break;case 1028:hc.effectTag&=-1025,Is(hc.alternate,hc);break;case 4:Is(hc.alternate,hc);break;case 8:u=hc,Ps(s,u,c),ks(u)}hc=hc.nextEffect}}catch(O){if(null===hc)throw Error(a(330));$c(hc,O),hc=hc.nextEffect}}while(null!==hc);if(x=Mn,_=Sn(),w=x.focusedElem,c=x.selectionRange,_!==w&&w&&w.ownerDocument&&xn(w.ownerDocument.documentElement,w)){null!==c&&Cn(w)&&(_=c.start,x=c.end,void 0===x&&(x=_),"selectionStart"in w?(w.selectionStart=_,w.selectionEnd=Math.min(x,w.value.length)):(x=(_=w.ownerDocument||document)&&_.defaultView||window,x.getSelection&&(x=x.getSelection(),u=w.textContent.length,s=Math.min(c.start,u),c=void 0===c.end?s:Math.min(c.end,u),!x.extend&&s>c&&(u=c,c=s,s=u),u=_n(w,s),h=_n(w,c),u&&h&&(1!==x.rangeCount||x.anchorNode!==u.node||x.anchorOffset!==u.offset||x.focusNode!==h.node||x.focusOffset!==h.offset)&&(_=_.createRange(),_.setStart(u.node,u.offset),x.removeAllRanges(),s>c?(x.addRange(_),x.extend(h.node,h.offset)):(_.setEnd(h.node,h.offset),x.addRange(_)))))),_=[];for(x=w;x=x.parentNode;)1===x.nodeType&&_.push({element:x,left:x.scrollLeft,top:x.scrollTop});for("function"===typeof w.focus&&w.focus(),w=0;w<_.length;w++)x=_[w],x.element.scrollLeft=x.left,x.element.scrollTop=x.top}en=!!jn,Mn=jn=null,t.current=n,hc=i;do{try{for(w=t;null!==hc;){var S=hc.effectTag;if(36&S&&Es(w,hc.alternate,hc),128&S){_=void 0;var C=hc.ref;if(null!==C){var E=hc.stateNode;switch(hc.tag){case 5:_=E;break;default:_=E}"function"===typeof C?C(_):C.current=_}}hc=hc.nextEffect}}catch(O){if(null===hc)throw Error(a(330));$c(hc,O),hc=hc.nextEffect}}while(null!==hc);hc=null,Ji(),Js=o}else t.current=n;if(gc)gc=!1,mc=t,vc=e;else for(hc=i;null!==hc;)e=hc.nextEffect,hc.nextEffect=null,hc=e;if(e=t.firstPendingTime,0===e&&(pc=null),1073741823===e?t===wc?yc++:(yc=0,wc=t):yc=0,"function"===typeof Jc&&Jc(n.stateNode,r),kc(t),fc)throw fc=!1,t=dc,dc=null,t;return(Js&Hs)!==zs||lo(),null}function Gc(){for(;null!==hc;){var t=hc.effectTag;0!==(256&t)&&xs(hc.alternate,hc),0===(512&t)||gc||(gc=!0,so(97,(function(){return Xc(),null}))),hc=hc.nextEffect}}function Xc(){if(90!==vc){var t=97<vc?97:vc;return vc=90,ao(t,Vc)}}function Vc(){if(null===mc)return!1;var t=mc;if(mc=null,(Js&(Ys|Gs))!==zs)throw Error(a(331));var e=Js;for(Js|=Gs,t=t.current.firstEffect;null!==t;){try{var n=t;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:Ss(5,n),Cs(5,n)}}catch(r){if(null===t)throw Error(a(330));$c(t,r)}n=t.nextEffect,t.nextEffect=null,t=n}return Js=e,lo(),!0}function Kc(t,e,n){e=vs(n,e),e=Ls(t,e,1073741823),ko(t,e),t=Ec(t,1073741823),null!==t&&kc(t)}function $c(t,e){if(3===t.tag)Kc(t,t,e);else for(var n=t.return;null!==n;){if(3===n.tag){Kc(n,t,e);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===pc||!pc.has(r))){t=vs(e,t),t=Ns(n,t,1073741823),ko(n,t),n=Ec(n,1073741823),null!==n&&kc(n);break}}n=n.return}}function qc(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),Qs===t&&ec===n?nc===qs||nc===$s&&1073741823===ic&&ro()-lc<uc?Ic(t,ec):cc=!0:hl(t,n)&&(e=t.lastPingedTime,0!==e&&e<n||(t.lastPingedTime=n,kc(t)))}function Zc(t,e){var n=t.stateNode;null!==n&&n.delete(e),e=0,0===e&&(e=xc(),e=Sc(e,t,null)),t=Ec(t,e),null!==t&&kc(t)}Fs=function(t,e,n){var r=e.expirationTime;if(null!==t){var i=e.pendingProps;if(t.memoizedProps!==i||Mi.current)Ka=!0;else{if(r<n){switch(Ka=!1,e.tag){case 3:rs(e),Xa();break;case 5:if(Jo(e),4&e.mode&&1!==n&&i.hidden)return e.expirationTime=e.childExpirationTime=1,null;break;case 1:Ii(e.type)&&Ni(e);break;case 4:qo(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value,i=e.type._context,ki(po,i._currentValue),i._currentValue=r;break;case 13:if(null!==e.memoizedState)return r=e.child.childExpirationTime,0!==r&&r>=n?ls(t,e,n):(ki(ta,1&ta.current),e=ds(t,e,n),null!==e?e.sibling:null);ki(ta,1&ta.current);break;case 19:if(r=e.childExpirationTime>=n,0!==(64&t.effectTag)){if(r)return fs(t,e,n);e.effectTag|=64}if(i=e.memoizedState,null!==i&&(i.rendering=null,i.tail=null),ki(ta,ta.current),!r)return null}return ds(t,e,n)}Ka=!1}}else Ka=!1;switch(e.expirationTime=0,e.tag){case 2:if(r=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,i=Pi(e,ji.current),_o(e,n),i=fa(null,e,r,t,i,n),e.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ii(r)){var o=!0;Ni(e)}else o=!1;e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Co(e);var s=r.getDerivedStateFromProps;"function"===typeof s&&Io(e,r,s,t),i.updater=Ro,e.stateNode=i,i._reactInternalFiber=e,Fo(e,r,t,n),e=ns(null,e,r,!0,o,n)}else e.tag=0,$a(null,e,i,n),e=e.child;return e;case 16:t:{if(i=e.elementType,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,wt(i),1!==i._status)throw i._result;switch(i=i._result,e.type=i,o=e.tag=il(i),t=fo(i,t),o){case 0:e=ts(null,e,i,t,n);break t;case 1:e=es(null,e,i,t,n);break t;case 11:e=qa(null,e,i,t,n);break t;case 14:e=Za(null,e,i,fo(i.type,t),r,n);break t}throw Error(a(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fo(r,i),ts(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fo(r,i),es(t,e,r,i,n);case 3:if(rs(e),r=e.updateQueue,null===t||null===r)throw Error(a(282));if(r=e.pendingProps,i=e.memoizedState,i=null!==i?i.element:null,Eo(t,e),jo(e,r,null,n),r=e.memoizedState.element,r===i)Xa(),e=ds(t,e,n);else{if((i=e.stateNode.hydrate)&&(Ba=Dn(e.stateNode.containerInfo.firstChild),Fa=e,i=Ua=!0),i)for(n=Yo(e,null,r,n),e.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else $a(t,e,r,n),Xa();e=e.child}return e;case 5:return Jo(e),null===t&&Ha(e),r=e.type,i=e.pendingProps,o=null!==t?t.memoizedProps:null,s=i.children,Pn(r,i)?s=null:null!==o&&Pn(r,o)&&(e.effectTag|=16),Qa(t,e),4&e.mode&&1!==n&&i.hidden?(e.expirationTime=e.childExpirationTime=1,e=null):($a(t,e,s,n),e=e.child),e;case 6:return null===t&&Ha(e),null;case 13:return ls(t,e,n);case 4:return qo(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=Ho(e,null,r,n):$a(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fo(r,i),qa(t,e,r,i,n);case 7:return $a(t,e,e.pendingProps,n),e.child;case 8:return $a(t,e,e.pendingProps.children,n),e.child;case 12:return $a(t,e,e.pendingProps.children,n),e.child;case 10:t:{r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value;var c=e.type._context;if(ki(po,c._currentValue),c._currentValue=o,null!==s)if(c=s.value,o=ti(c,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(c,o):1073741823),0===o){if(s.children===i.children&&!Mi.current){e=ds(t,e,n);break t}}else for(c=e.child,null!==c&&(c.return=e);null!==c;){var l=c.dependencies;if(null!==l){s=c.child;for(var u=l.firstContext;null!==u;){if(u.context===r&&0!==(u.observedBits&o)){1===c.tag&&(u=Oo(n,null),u.tag=2,ko(c,u)),c.expirationTime<n&&(c.expirationTime=n),u=c.alternate,null!==u&&u.expirationTime<n&&(u.expirationTime=n),wo(c.return,n),l.expirationTime<n&&(l.expirationTime=n);break}u=u.next}}else s=10===c.tag&&c.type===e.type?null:c.child;if(null!==s)s.return=c;else for(s=c;null!==s;){if(s===e){s=null;break}if(c=s.sibling,null!==c){c.return=s.return,s=c;break}s=s.return}c=s}$a(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,o=e.pendingProps,r=o.children,_o(e,n),i=xo(i,o.unstable_observedBits),r=r(i),e.effectTag|=1,$a(t,e,r,n),e.child;case 14:return i=e.type,o=fo(i,e.pendingProps),o=fo(i.type,o),Za(t,e,i,o,r,n);case 15:return Ja(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fo(r,i),null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),e.tag=1,Ii(r)?(t=!0,Ni(e)):t=!1,_o(e,n),Lo(e,r,i),Fo(e,r,i,n),ns(null,e,r,!0,t,n);case 19:return fs(t,e,n)}throw Error(a(156,e.tag))};var Jc=null,Qc=null;function tl(t){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var n=e.inject(t);Jc=function(t){try{e.onCommitFiberRoot(n,t,void 0,64===(64&t.current.effectTag))}catch(r){}},Qc=function(t){try{e.onCommitFiberUnmount(n,t)}catch(r){}}}catch(r){}return!0}function el(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function nl(t,e,n,r){return new el(t,e,n,r)}function rl(t){return t=t.prototype,!(!t||!t.isReactComponent)}function il(t){if("function"===typeof t)return rl(t)?1:0;if(void 0!==t&&null!==t){if(t=t.$$typeof,t===ft)return 11;if(t===gt)return 14}return 2}function ol(t,e){var n=t.alternate;return null===n?(n=nl(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=t.childExpirationTime,n.expirationTime=t.expirationTime,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{expirationTime:e.expirationTime,firstContext:e.firstContext,responders:e.responders},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function al(t,e,n,r,i,o){var s=2;if(r=t,"function"===typeof t)rl(t)&&(s=1);else if("string"===typeof t)s=5;else t:switch(t){case at:return sl(n.children,i,o,e);case ht:s=8,i|=7;break;case st:s=8,i|=1;break;case ct:return t=nl(12,n,e,8|i),t.elementType=ct,t.type=ct,t.expirationTime=o,t;case dt:return t=nl(13,n,e,i),t.type=dt,t.elementType=dt,t.expirationTime=o,t;case pt:return t=nl(19,n,e,i),t.elementType=pt,t.expirationTime=o,t;default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case lt:s=10;break t;case ut:s=9;break t;case ft:s=11;break t;case gt:s=14;break t;case mt:s=16,r=null;break t;case vt:s=22;break t}throw Error(a(130,null==t?t:typeof t,""))}return e=nl(s,n,e,i),e.elementType=t,e.type=r,e.expirationTime=o,e}function sl(t,e,n,r){return t=nl(7,t,r,e),t.expirationTime=n,t}function cl(t,e,n){return t=nl(6,t,null,e),t.expirationTime=n,t}function ll(t,e,n){return e=nl(4,null!==t.children?t.children:[],t.key,e),e.expirationTime=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ul(t,e,n){this.tag=e,this.current=null,this.containerInfo=t,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function hl(t,e){var n=t.firstSuspendedTime;return t=t.lastSuspendedTime,0!==n&&n>=e&&t<=e}function fl(t,e){var n=t.firstSuspendedTime,r=t.lastSuspendedTime;n<e&&(t.firstSuspendedTime=e),(r>e||0===n)&&(t.lastSuspendedTime=e),e<=t.lastPingedTime&&(t.lastPingedTime=0),e<=t.lastExpiredTime&&(t.lastExpiredTime=0)}function dl(t,e){e>t.firstPendingTime&&(t.firstPendingTime=e);var n=t.firstSuspendedTime;0!==n&&(e>=n?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:e>=t.lastSuspendedTime&&(t.lastSuspendedTime=e+1),e>t.nextKnownPendingLevel&&(t.nextKnownPendingLevel=e))}function pl(t,e){var n=t.lastExpiredTime;(0===n||n>e)&&(t.lastExpiredTime=e)}function gl(t,e,n,r){var i=e.current,o=xc(),s=Ao.suspense;o=Sc(o,i,s);t:if(n){n=n._reactInternalFiber;e:{if(oe(n)!==n||1!==n.tag)throw Error(a(170));var c=n;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(Ii(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(null!==c);throw Error(a(171))}if(1===n.tag){var l=n.type;if(Ii(l)){n=Li(n,l,c);break t}}n=c}else n=Ti;return null===e.context?e.context=n:e.pendingContext=n,e=Oo(o,s),e.payload={element:t},r=void 0===r?null:r,null!==r&&(e.callback=r),ko(i,e),Cc(i,o),o}function ml(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function vl(t,e){t=t.memoizedState,null!==t&&null!==t.dehydrated&&t.retryTime<e&&(t.retryTime=e)}function bl(t,e){vl(t,e),(t=t.alternate)&&vl(t,e)}function yl(t,e,n){n=null!=n&&!0===n.hydrate;var r=new ul(t,e,n),i=nl(3,null,null,2===e?7:1===e?3:0);r.current=i,i.stateNode=r,Co(i),t[Un]=r.current,n&&0!==e&&De(t,9===t.nodeType?t:t.ownerDocument),this._internalRoot=r}function wl(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function _l(t,e){if(e||(e=t?9===t.nodeType?t.documentElement:t.firstChild:null,e=!(!e||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new yl(t,0,e?{hydrate:!0}:void 0)}function xl(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var t=ml(a);s.call(t)}}gl(e,a,t,i)}else{if(o=n._reactRootContainer=_l(n,r),a=o._internalRoot,"function"===typeof i){var c=i;i=function(){var t=ml(a);c.call(t)}}Pc((function(){gl(e,a,t,i)}))}return ml(a)}function Sl(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:ot,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}function Cl(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!wl(e))throw Error(a(200));return Sl(t,e,null,n)}yl.prototype.render=function(t){gl(t,this._internalRoot,null,null)},yl.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;gl(null,t,null,(function(){e[Un]=null}))},xe=function(t){if(13===t.tag){var e=ho(xc(),150,100);Cc(t,e),bl(t,e)}},Se=function(t){13===t.tag&&(Cc(t,3),bl(t,3))},Ce=function(t){if(13===t.tag){var e=xc();e=Sc(e,t,null),Cc(t,e),bl(t,e)}},j=function(t,e,n){switch(e){case"input":if(At(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Yn(r);if(!i)throw Error(a(90));kt(r),At(r,i)}}}break;case"textarea":Bt(t,n);break;case"select":e=n.value,null!=e&&Lt(t,!!n.multiple,e,!1)}},D=Ac,L=function(t,e,n,r,i){var o=Js;Js|=4;try{return ao(98,t.bind(null,e,n,r,i))}finally{Js=o,Js===zs&&lo()}},N=function(){(Js&(1|Ys|Gs))===zs&&(Mc(),Xc())},F=function(t,e){var n=Js;Js|=2;try{return t(e)}finally{Js=n,Js===zs&&lo()}};var El={Events:[zn,Hn,Yn,k,C,Zn,function(t){he(t,qn)},I,R,sn,pe,Xc,{current:!1}]};(function(t){var e=t.findFiberByHostInstance;tl(i({},t,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:tt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=le(t),null===t?null:t.stateNode},findFiberByHostInstance:function(t){return e?e(t):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))})({findFiberByHostInstance:Wn,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}),e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=El,e.createPortal=Cl,e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternalFiber;if(void 0===e){if("function"===typeof t.render)throw Error(a(188));throw Error(a(268,Object.keys(t)))}return t=le(e),t=null===t?null:t.stateNode,t},e.flushSync=function(t,e){if((Js&(Ys|Gs))!==zs)throw Error(a(187));var n=Js;Js|=1;try{return ao(99,t.bind(null,e))}finally{Js=n,lo()}},e.hydrate=function(t,e,n){if(!wl(e))throw Error(a(200));return xl(null,t,e,!0,n)},e.render=function(t,e,n){if(!wl(e))throw Error(a(200));return xl(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!wl(t))throw Error(a(40));return!!t._reactRootContainer&&(Pc((function(){xl(null,null,t,!1,(function(){t._reactRootContainer=null,t[Un]=null}))})),!0)},e.unstable_batchedUpdates=Ac,e.unstable_createPortal=function(t,e){return Cl(t,e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},e.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!wl(n))throw Error(a(200));if(null==t||void 0===t._reactInternalFiber)throw Error(a(38));return xl(t,e,n,!1,r)},e.version="16.14.0"},z9fm:function(t,e,n){"use strict";var r=n("ENif"),i=n("f1E4"),o=n("oa35"),a=n("FCfD"),s=n("xH5X"),c=n("dagG");r("match",1,(function(t,e,n){return[function(e){var n=a(this),r=void 0==e?void 0:e[t];return void 0!==r?r.call(e,n):new RegExp(e)[t](String(n))},function(t){var r=n(e,t,this);if(r.done)return r.value;var a=i(t),l=String(this);if(!a.global)return c(a,l);var u=a.unicode;a.lastIndex=0;var h,f=[],d=0;while(null!==(h=c(a,l))){var p=String(h[0]);f[d]=p,""===p&&(a.lastIndex=s(l,o(a.lastIndex),u)),d++}return 0===d?null:f}]}))},zLVn:function(t,e,n){"use strict";function r(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}n.d(e,"a",(function(){return r}))},zTPR:function(t,e,n){"use strict";var r=n("/gva"),i=n("vO0A");t.exports=r("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),i)},zYLY:function(t,e,n){"use strict";function r(){var t=o(n("q1tI"));return r=function(){return t},t}function i(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return i=function(){return t},t}function o(t){if(t&&t.__esModule)return t;if(null===t||"object"!==typeof t&&"function"!==typeof t)return{default:t};var e=i();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=r?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n["default"]=t,e&&e.set(t,n),n}function a(t,e){return h(t)||u(t,e)||c(t,e)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t,e){if(t){if("string"===typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function u(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0)if(n.push(a.value),e&&n.length===e)break}catch(err){i=!0,o=err}finally{try{r||null==s["return"]||s["return"]()}finally{if(i)throw o}}return n}}function h(t){if(Array.isArray(t))return t}function f(t,e,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(i<e.length){var o=e[i],s=function(){return f(t,e,n,i+1)},c=o.match(/^([^:]+):?(.*)$/)||[],l=a(c,3),u=l[1],h=l[2];switch(u){case"autoplay":s();break;case"click":var d=h.match(/^(global\()?(.+?)\)?$/)||[],p=a(d,3),g=p[1],m=p[2],v=g?document:t;null===(r=v.querySelector(m))||void 0===r||r.click(),s();break;case"timeout":setTimeout(s,Number(h));break;case"capture":window.postMessage({type:"dumi:capture-element",value:h},"*"),s();break;default:console.warn("[dumi: motion] unknown motion '".concat(o,"', skip.")),s()}}else n()}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var d=function(t,e){var n=(0,r().useState)(!1),i=a(n,2),o=i[0],s=i[1],c=(0,r().useCallback)((function(){o||(f(e,t,(function(){s(!1)})),s(!0))}),[t,e,o]);return(0,r().useEffect)((function(){"autoplay"===t[0]&&e&&c()}),[t,e]),[c,o]};e["default"]=d},zlVK:function(t,e,n){"use strict";var r=n("o0o1");Object.defineProperty(e,"__esModule",{value:!0});var i=n("i8i4"),o=n("q1tI"),a=n("LtsZ"),s=n("V/vL");function c(t){return t&&"object"===typeof t&&"default"in t?t:{default:t}}var l=c(o);function u(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(l){return void n(l)}s.done?e(c):Promise.resolve(c).then(r,i)}function h(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){u(o,r,i,a,s,"next",t)}function s(t){u(o,r,i,a,s,"throw",t)}a(void 0)}))}}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d(){return d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d.apply(this,arguments)}function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach((function(e){f(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function m(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}function v(t,e){if(null==t)return{};var n,r,i=m(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function b(t,e){return y(t)||w(t,e)||_(t,e)||S()}function y(t){if(Array.isArray(t))return t}function w(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0)if(n.push(a.value),e&&n.length===e)break}catch(err){i=!0,o=err}finally{try{r||null==s["return"]||s["return"]()}finally{if(i)throw o}}return n}}function _(t,e){if(t){if("string"===typeof t)return x(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(t,e):void 0}}function x(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function S(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function C(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=_(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(s)throw o}}}}function E(t){return l["default"].createElement(a.__RouterContext.Consumer,null,(function(e){var n,r=t.children,i=v(t,["children"]),s=e.location,c=null;return o.Children.forEach(r,(function(t){if(null===c&&o.isValidElement(t)){n=t;var r=t.props.path||t.props.from;c=r?a.matchPath(s.pathname,g(g({},t.props),{},{path:r})):e.match}})),c?o.cloneElement(n,{location:s,computedMatch:c,layoutProps:i}):null}))}function O(t){return l["default"].createElement(a.__RouterContext.Consumer,null,(function(e){var n=e.location,r=t.computedMatch,i=g(g({},e),{},{location:n,match:r}),o=t.render;return l["default"].createElement(a.__RouterContext.Provider,{value:i},i.match?o(g(g({},t.layoutProps),i)):null)}))}function k(t,e){t.component;var n=v(t,["component"]),i=t.component;function s(s){var c=o.useState((function(){return window.g_initialProps})),u=b(c,2),f=u[0],p=u[1];return o.useEffect((function(){var o=function(){var o=h(r.mark((function o(){var c,l,u,h,f;return r.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!i.preload){r.next=5;break}return r.next=3,i.preload();case 3:l=r.sent,i=l["default"]||l;case 5:if(u=g(g({isServer:!1,match:null===s||void 0===s?void 0:s.match,history:null===s||void 0===s?void 0:s.history,route:t},e.getInitialPropsCtx||{}),n),!(null===(c=i)||void 0===c?void 0:c.getInitialProps)){r.next=14;break}return r.next=9,e.plugin.applyPlugins({key:"ssr.modifyGetInitialPropsCtx",type:a.ApplyPluginsType.modify,initialValue:u,async:!0});case 9:return h=r.sent,r.next=12,i.getInitialProps(h||u);case 12:f=r.sent,p(f);case 14:case"end":return r.stop()}}),o)})));return function(){return o.apply(this,arguments)}}();window.g_initialProps||o()}),[window.location.pathname,window.location.search]),l["default"].createElement(i,d({},s,f))}return s.wrapInitialPropsLoaded=!0,s.displayName="ComponentWithInitialPropsFetch",s}function T(t){var e=t.route,n=t.opts,r=t.props,i=M(g(g({},n),{},{routes:e.routes||[],rootRoutes:n.rootRoutes})),a=e.component,s=e.wrappers;if(a){var c=n.isServer?{}:window.g_initialProps,u=g(g(g(g({},r),n.extraProps),n.pageInitialProps||c),{},{route:e,routes:n.rootRoutes}),h=l["default"].createElement(a,u,i);if(s){var f=s.length-1;while(f>=0)h=o.createElement(s[f],u,h),f-=1}return h}return i}function j(t){var e,n,r,i=t.route,o=t.index,s=t.opts,c={key:i.key||o,exact:i.exact,strict:i.strict,sensitive:i.sensitive,path:i.path};return i.redirect?l["default"].createElement(a.Redirect,d({},c,{from:i.path,to:i.redirect})):(!s.ssrProps||s.isServer||(null===(e=i.component)||void 0===e?void 0:e.wrapInitialPropsLoaded)||!(null===(n=i.component)||void 0===n?void 0:n.getInitialProps)&&!(null===(r=i.component)||void 0===r?void 0:r.preload)||(i.component=k(i,s)),l["default"].createElement(O,d({},c,{render:function(t){return T({route:i,opts:s,props:t})}})))}function M(t){return t.routes?l["default"].createElement(E,null,t.routes.map((function(e,n){return j({route:e,index:n,opts:g(g({},t),{},{rootRoutes:t.rootRoutes||t.routes})})}))):null}function A(t){var e=t.history,n=v(t,["history"]);return o.useEffect((function(){function r(e,r){var i=s.matchRoutes(t.routes,e.pathname);"undefined"!==typeof document&&void 0!==n.defaultTitle&&(document.title=i.length&&i[i.length-1].route.title||n.defaultTitle||""),t.plugin.applyPlugins({key:"onRouteChange",type:a.ApplyPluginsType.event,args:{routes:t.routes,matchedRoutes:i,location:e,action:r}})}return window.g_useSSR&&(window.g_initialProps=null),r(e.location,"POP"),e.listen(r)}),[e]),l["default"].createElement(a.Router,{history:e},M(n))}function P(t){return I.apply(this,arguments)}function I(){return I=h(r.mark((function t(e){var n,i,o,a,c,l,u,h,f=arguments;return r.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=f.length>1&&void 0!==f[1]?f[1]:window.location.pathname,i=s.matchRoutes(e,n),o=C(i),t.prev=3,o.s();case 5:if((a=o.n()).done){t.next=19;break}if(l=a.value,u=l.route,!(null===(c=u.component)||void 0===c?void 0:c.preload)){t.next=13;break}return t.next=11,u.component.preload();case 11:h=t.sent,u.component=h["default"]||h;case 13:if(!u.routes){t.next=17;break}return t.next=16,P(u.routes,n);case 16:u.routes=t.sent;case 17:t.next=5;break;case 19:t.next=24;break;case 21:t.prev=21,t.t0=t["catch"](3),o.e(t.t0);case 24:return t.prev=24,o.f(),t.finish(24);case 27:return t.abrupt("return",e);case 28:case"end":return t.stop()}}),t,null,[[3,21,24,27]])}))),I.apply(this,arguments)}function R(t){var e=t.plugin.applyPlugins({type:a.ApplyPluginsType.modify,key:"rootContainer",initialValue:l["default"].createElement(A,{history:t.history,routes:t.routes,plugin:t.plugin,ssrProps:t.ssrProps,defaultTitle:t.defaultTitle}),args:{history:t.history,routes:t.routes,plugin:t.plugin}});if(!t.rootElement)return e;var n="string"===typeof t.rootElement?document.getElementById(t.rootElement):t.rootElement,r=t.callback||function(){};window.g_useSSR?t.dynamicImport?P(t.routes).then((function(){i.hydrate(e,n,r)})):i.hydrate(e,n,r):i.render(e,n,r)}e.renderClient=R,e.renderRoutes=M},zqmC:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=e.LinkWrapper=void 0;var r=o(n("q1tI")),i=n("LtsZ");function o(t){return t&&t.__esModule?t:{default:t}}function a(){return a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a.apply(this,arguments)}function s(t,e){if(null==t)return{};var n,r,i=c(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function c(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}var l=function(t){return function(e){var n=e.to,i=s(e,["to"]),o=/^(\w+:)?\/\//.test(n)||!n,c=r["default"].isValidElement(i.children);return r["default"].createElement(t,a({to:n||"",component:o?function(){return r["default"].createElement("a",{target:"_blank",rel:"noopener noreferrer",href:n},i.children,n&&!c&&r["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15",className:"__dumi-default-external-link-icon"},r["default"].createElement("path",{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}),r["default"].createElement("polygon",{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"})))}:void 0},i,o?{}:{onClick:function(){var t;window.scrollTo({top:0});for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];null===(t=i.onClick)||void 0===t||t.apply(this,n)}}))}};e.LinkWrapper=l;var u=l(i.Link);e["default"]=u},zv1X:function(t,e,n){var r=n("7BAe"),i=n("EzR6"),o=n("cTDu"),a=n("oa35"),s=n("nMuc"),c=[].push,l=function(t){var e=1==t,n=2==t,l=3==t,u=4==t,h=6==t,f=5==t||h;return function(d,p,g,m){for(var v,b,y=o(d),w=i(y),_=r(p,g,3),x=a(w.length),S=0,C=m||s,E=e?C(d,x):n?C(d,0):void 0;x>S;S++)if((f||S in w)&&(v=w[S],b=_(v,S,y),t))if(e)E[S]=b;else if(b)switch(t){case 3:return!0;case 5:return v;case 6:return S;case 2:c.call(E,v)}else if(u)return!1;return h?-1:l||u?u:E}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}}});